/*! For license information please see main.4f83981d.js.LICENSE.txt */
!function(){var e={764:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return s(e)||u(e,t)||c(e,t)||f()}function s(e){if(Array.isArray(e))return e}function u(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function p(){}function v(){}v.resetWarningCache=p;var m=function(){function e(e,t,n,r,i,a){if(a!==d){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:v,resetWarningCache:p};return n.PropTypes=n,n},y=h((function(e){e.exports=m()})),g=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},k=function(e){return null!==e&&"object"===i(e)},w=function(e){return k(e)&&"function"===typeof e.then},b=function(e){return k(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},x="[object Object]",_=function e(t,n){if(!k(t)||!k(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===x;if(i!==(Object.prototype.toString.call(n)===x))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var s={},u=0;u<a.length;u+=1)s[a[u]]=!0;for(var c=0;c<o.length;c+=1)s[o[c]]=!0;var l=Object.keys(s);if(l.length!==a.length)return!1;var f=t,h=n,d=function(t){return e(f[t],h[t])};return l.every(d)},S=function(e,t,n){return k(e)?Object.keys(e).reduce((function(i,o){var s=!k(t)||!_(e[o],t[o]);return n.includes(o)?(s&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):s?r(r({},i||{}),{},a({},o,e[o])):i}),null):null},E="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",I=function(e){if(null===e||b(e))return e;throw new Error(E)},T=function(e){if(w(e))return{tag:"async",stripePromise:Promise.resolve(e).then(I)};var t=I(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},A=t.createContext(null);A.displayName="ElementsContext";var C=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},N=t.createContext(null);N.displayName="CartElementContext";var D=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},O=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return T(n)}),[n]),s=o(t.useState(null),2),u=s[0],c=s[1],l=o(t.useState(null),2),f=l[0],h=l[1],d=o(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(r):null}})),2),p=d[0],v=d[1];t.useEffect((function(){var e=!0,t=function(e){v((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==a.tag||p.stripe?"sync"!==a.tag||p.stripe||t(a.stripe):a.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[a,p,r]);var m=g(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[m,n]);var y=g(r);return t.useEffect((function(){if(p.elements){var e=S(r,y,["clientSecret","fonts"]);e&&p.elements.update(e)}}),[r,y,p.elements]),t.useEffect((function(){var e=p.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.1.2"}),e.registerAppInfo({name:"react-stripe-js",version:"2.1.2",url:"https://stripe.com/docs/stripe-js/react"}))}),[p.stripe]),t.createElement(A.Provider,{value:p},t.createElement(N.Provider,{value:{cart:u,setCart:c,cartState:f,setCartState:h}},i))};O.propTypes={stripe:y.any,options:y.object};var R=function(e){var n=t.useContext(A);return C(n,e)},P=function(e){var n=t.useContext(N);return D(n,e)},M=function(){return R("calls useElements()").elements},L=function(){return R("calls useStripe()").stripe},j=function(){return P("calls useCartElement()").cart},F=function(){return P("calls useCartElementState()").cartState},U=function(e){return(0,e.children)(R("mounts <ElementsConsumer>"))};U.propTypes={children:y.func.isRequired};var V=function(e,n,r){var i=!!r,a=t.useRef(r);t.useEffect((function(){a.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,a])},z=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},B=function(e,n){var r="".concat(z(e),"Element"),i=n?function(e){R("mounts <".concat(r,">")),P("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i,a=n.id,s=n.className,u=n.options,c=void 0===u?{}:u,l=n.onBlur,f=n.onFocus,h=n.onReady,d=n.onChange,p=n.onEscape,v=n.onClick,m=n.onLoadError,y=n.onLoaderStart,k=n.onNetworksChange,w=n.onCheckout,b=n.onLineItemClick,x=n.onConfirm,_=n.onCancel,E=n.onShippingAddressChange,I=n.onShippingRateChange,T=R("mounts <".concat(r,">")).elements,A=o(t.useState(null),2),C=A[0],N=A[1],D=t.useRef(null),O=t.useRef(null),M=P("mounts <".concat(r,">")),L=M.setCart,j=M.setCartState;V(C,"blur",l),V(C,"focus",f),V(C,"escape",p),V(C,"click",v),V(C,"loaderror",m),V(C,"loaderstart",y),V(C,"networkschange",k),V(C,"lineitemclick",b),V(C,"confirm",x),V(C,"cancel",_),V(C,"shippingaddresschange",E),V(C,"shippingratechange",I),"cart"===e?i=function(e){j(e),h&&h(e)}:h&&(i="expressCheckout"===e?h:function(){h(C)}),V(C,"ready",i),V(C,"change","cart"===e?function(e){j(e),d&&d(e)}:d),V(C,"checkout","cart"===e?function(e){j(e),w&&w(e)}:w),t.useLayoutEffect((function(){if(null===D.current&&T&&null!==O.current){var t=T.create(e,c);"cart"===e&&L&&L(t),D.current=t,N(t),t.mount(O.current)}}),[T,c,L]);var F=g(c);return t.useEffect((function(){if(D.current){var e=S(c,F,["paymentRequest"]);e&&D.current.update(e)}}),[c,F]),t.useLayoutEffect((function(){return function(){if(D.current&&"function"===typeof D.current.destroy)try{D.current.destroy(),D.current=null}catch(e){}}}),[]),t.createElement("div",{id:a,className:s,ref:O})};return i.propTypes={id:y.string,className:y.string,onChange:y.func,onBlur:y.func,onFocus:y.func,onReady:y.func,onEscape:y.func,onClick:y.func,onLoadError:y.func,onLoaderStart:y.func,onNetworksChange:y.func,onCheckout:y.func,onLineItemClick:y.func,onConfirm:y.func,onCancel:y.func,onShippingAddressChange:y.func,onShippingRateChange:y.func,options:y.object},i.displayName=r,i.__elementType=e,i},q="undefined"===typeof window,H=B("auBankAccount",q),W=B("card",q),G=B("cardNumber",q),K=B("cardExpiry",q),Y=B("cardCvc",q),Q=B("fpxBank",q),J=B("iban",q),X=B("idealBank",q),Z=B("p24Bank",q),$=B("epsBank",q),ee=B("payment",q),te=B("expressCheckout",q),ne=B("paymentRequestButton",q),re=B("linkAuthentication",q),ie=B("address",q),ae=B("shippingAddress",q),oe=B("cart",q),se=B("paymentMethodMessaging",q),ue=B("affirmMessage",q),ce=B("afterpayClearpayMessage",q);e.AddressElement=ie,e.AffirmMessageElement=ue,e.AfterpayClearpayMessageElement=ce,e.AuBankAccountElement=H,e.CardCvcElement=Y,e.CardElement=W,e.CardExpiryElement=K,e.CardNumberElement=G,e.CartElement=oe,e.Elements=O,e.ElementsConsumer=U,e.EpsBankElement=$,e.ExpressCheckoutElement=te,e.FpxBankElement=Q,e.IbanElement=J,e.IdealBankElement=X,e.LinkAuthenticationElement=re,e.P24BankElement=Z,e.PaymentElement=ee,e.PaymentMethodMessagingElement=se,e.PaymentRequestButtonElement=ne,e.ShippingAddressElement=ae,e.useCartElement=j,e.useCartElementState=F,e.useElements=M,e.useStripe=L,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(791))},426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function y(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],w=!1;function b(e,t){var n,r,i,a=k.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(i=t[r=k[n]])||(e[r]=i);return e}function x(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function _(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,u=[],c=arguments.length;for(a=0;a<c;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var I,T={};function A(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(S(t),T[e]=!0)}function C(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e){var t,n;for(n in e)s(e,n)&&(C(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(e,t){var n,r=d({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function O(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,I=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function P(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=z(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=C(r[i])?r[i].call(t,e):r[i];return a}}function q(e,t){return e.isValid()?(t=H(t,e.localeData()),F[t]=F[t]||B(t),F[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;n>=0&&j.test(e);)e=e.replace(j,r),j.lastIndex=0,n-=1;return e}var W={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var K="Invalid date";function Y(){return this._invalidDate}var Q="%d",J=/\d{1,2}/;function X(e){return this._ordinal.replace("%d",e)}var Z={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),$e(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return C(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(C(this[e=re(e)]))return this[e](t);return this}var me,ye=/\d/,ge=/\d\d/,ke=/\d{3}/,we=/\d{4}/,be=/[+-]?\d{6}/,xe=/\d\d?/,_e=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,Ie=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Ae=/\d+/,Ce=/[+-]?\d+/,Ne=/Z|[+-]\d\d:?\d\d/gi,De=/Z|[+-]\d\d(?::?\d\d)?/gi,Oe=/[+-]?\d+(\.\d{1,3})?/,Re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Pe(e,t,n){me[e]=C(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return s(me,e)?me[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return je(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function je(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var Fe={};function Ue(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=le(e)}),r=e.length,n=0;n<r;n++)Fe[e[n]]=i}function Ve(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ze(e,t,n){null!=t&&s(Fe,e)&&Fe[e](t,n._a,n,e)}var Be,qe=0,He=1,We=2,Ge=3,Ke=4,Ye=5,Qe=6,Je=7,Xe=8;function Ze(e,t){return(e%t+t)%t}function $e(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Ze(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}Be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Pe("M",xe),Pe("MM",xe,ge),Pe("MMM",(function(e,t){return t.monthsShortRegex(e)})),Pe("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[He]=le(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[He]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Re,it=Re;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))||-1!==(i=Be.call(this._longMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))||-1!==(i=Be.call(this._shortMonthsParse,o))?i:null}function ut(e,t,n){var r,i,a;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),$e(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return $e(this.year(),this.month())}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=je(r[t]),i[t]=je(i[t]);for(t=0;t<24;t++)a[t]=je(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Pe("Y",Ce),Pe("YY",xe,ge),Pe("YYYY",Ie,we),Pe("YYYYY",Te,be),Pe("YYYYYY",Te,be),Ue(["YYYYY","YYYYYY"],qe),Ue("YYYY",(function(e,t){t[qe]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Ue("YY",(function(e,t){t[qe]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[qe]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var mt=fe("FullYear",!0);function yt(){return ue(this.year())}function gt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function bt(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return s<=0?o=vt(a=e-1)+s:s>vt(e)?(a=e+1,o=s-vt(e)):(a=e,o=s),{year:a,dayOfYear:o}}function xt(e,t,n){var r,i,a=wt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+_t(i=e.year()-1,t,n):o>_t(e.year(),t,n)?(r=o-_t(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function _t(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return xt(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Pe("w",xe),Pe("ww",xe,ge),Pe("W",xe),Pe("WW",xe,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var Et={dow:0,doy:6};function It(){return this._week.dow}function Tt(){return this._week.doy}function At(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ct(e){var t=xt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Nt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Dt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ot(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Pe("d",xe),Pe("e",xe),Pe("E",xe),Pe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Pe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Pe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Re,jt=Re,Ft=Re;function Ut(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ot(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Ot(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?Ot(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Bt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null}function qt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Bt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Nt(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Dt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=je(this.weekdaysMin(n,"")),i=je(this.weekdaysShort(n,"")),a=je(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Zt(){return this.hours()||24}function $t(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Xt),V("k",["kk",2],0,Zt),V("hmm",0,0,(function(){return""+Xt.apply(this)+M(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Xt.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),$t("a",!0),$t("A",!1),ne("hour","h"),oe("hour",13),Pe("a",en),Pe("A",en),Pe("H",xe),Pe("h",xe),Pe("k",xe),Pe("HH",xe,ge),Pe("hh",xe,ge),Pe("kk",xe,ge),Pe("hmm",_e),Pe("hmmss",Se),Pe("Hmm",_e),Pe("Hmmss",Se),Ue(["H","HH"],Ge),Ue(["k","kk"],(function(e,t,n){var r=le(e);t[Ge]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[Ge]=le(e),m(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r)),m(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ye]=le(e.substr(i)),m(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ye]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:R,longDateFormat:W,invalidDate:K,ordinal:Q,dayOfMonthOrdinalParse:J,relativeTime:Z,months:et,monthsShort:tt,week:Et,weekdays:Rt,weekdaysMin:Mt,weekdaysShort:Pt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function dn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports&&dn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){un[t]=null}return un[t]}function vn(e,t){var n;return e&&((n=c(t)?gn(e):mn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function mn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new O(D(r,t)),cn[e]&&cn[e].forEach((function(e){mn(e.name,e.config)})),vn(e),un[e]}return delete un[e],null}function yn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(D(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=D(i,t),null==r&&(t.abbr=e),(n=new O(t)).parentLocale=un[e],un[e]=n),vn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===vn()&&vn(e)):null!=un[e]&&delete un[e]);return un[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function kn(){return I(un)}function wn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[He]<0||n[He]>11?He:n[We]<1||n[We]>$e(n[qe],n[He])?We:n[Ge]<0||n[Ge]>24||24===n[Ge]&&(0!==n[Ke]||0!==n[Ye]||0!==n[Qe])?Ge:n[Ke]<0||n[Ke]>59?Ke:n[Ye]<0||n[Ye]>59?Ye:n[Qe]<0||n[Qe]>999?Qe:-1,m(e)._overflowDayOfYear&&(t<qe||t>We)&&(t=We),m(e)._overflowWeeks&&-1===t&&(t=Je),m(e)._overflowWeekday&&-1===t&&(t=Xe),m(e).overflow=t),e}var bn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],In=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,An={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Cn(e){var t,n,r,i,a,o,s=e._i,u=bn.exec(s)||xn.exec(s),c=Sn.length,l=En.length;if(u){for(m(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(u[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=l;t<n;t++)if(En[t][1].exec(u[3])){a=(u[2]||" ")+En[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!_n.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),zn(e)}else e._isValid=!1}function Nn(e,t,n,r,i,a){var o=[Dn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Dn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function On(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Rn(e,t,n){return!e||Pt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Pn(e,t,n){if(e)return An[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Mn(e){var t,n=Tn.exec(On(e._i));if(n){if(t=Nn(n[4],n[3],n[2],n[5],n[6],n[7]),!Rn(n[1],t,e))return;e._a=t,e._tzm=Pn(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=In.exec(e._i);null===t?(Cn(e),!1===e._isValid&&(delete e._isValid,Mn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function jn(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,a,o=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[We]&&null==e._a[He]&&Vn(e),null!=e._dayOfYear&&(a=jn(e._a[qe],r[qe]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[He]=n.getUTCMonth(),e._a[We]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ge]&&0===e._a[Ke]&&0===e._a[Ye]&&0===e._a[Qe]&&(e._nextDay=!0,e._a[Ge]=0),e._d=(e._useUTC?kt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ge]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Vn(e){var t,n,r,i,a,o,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=jn(t.GG,e._a[qe],xt(Qn(),1,4).year),r=jn(t.W,1),((i=jn(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=xt(Qn(),a,o),n=jn(t.gg,e._a[qe],c.year),r=jn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>_t(n,a,o)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(s=bt(n,r,i,a,o),e._a[qe]=s.year,e._dayOfYear=s.dayOfYear)}function zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,s,u,c=""+e._i,l=c.length,f=0;for(u=(i=H(e._f,e._locale).match(L)||[]).length,t=0;t<u;t++)a=i[t],(n=(c.match(Me(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&m(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),f+=n.length),U[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),ze(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=l-f,c.length>0&&m(e).unusedInput.push(c),e._a[Ge]<=12&&!0===m(e).bigHour&&e._a[Ge]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[Ge]=Bn(e._locale,e._a[Ge],e._meridiem),null!==(s=m(e).era)&&(e._a[qe]=e._locale.erasConvertYear(s,e._a[qe])),Un(e),wn(e)}else Mn(e);else Cn(e)}function Bn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function qn(e){var t,n,r,i,a,o,s=!1,u=e._f.length;if(0===u)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)a=0,o=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],zn(t),y(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));d(e,n||t)}function Hn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Wn(e){var t=new x(wn(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new x(wn(t)):(f(t)?e._d=t:a(n)?qn(e):n?zn(e):Kn(e),y(e)||(e._d=null),e))}function Kn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?Hn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Yn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Wn(s)}function Qn(e,t,n,r){return Yn(e,t,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Jn=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Xn=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Qn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Zn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Qn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function $n(){return Zn("isBefore",[].slice.call(arguments,0))}function er(){return Zn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===Be.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==le(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Ar(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function sr(e){return e instanceof or}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function lr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),Pe("Z",De),Pe("ZZ",De),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(De,e)}));var fr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(fr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(_(e)||f(e)?e.valueOf():Qn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Qn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(De,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Rr(this,Ar(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pr(this)}function mr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function gr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function kr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(Ne,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wr(e){return!!this.isValid()&&(e=e?Qn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function br(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=Gn(t))._a?(e=t._isUTC?p(t._a):Qn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _r(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ir=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ar(e,t){var n,r,i,a=e,o=null;return sr(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Ir.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[We])*n,h:le(o[Ge])*n,m:le(o[Ke])*n,s:le(o[Ye])*n,ms:le(ur(1e3*o[Qe]))*n}):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,a={y:Cr(o[2],n),M:Cr(o[3],n),w:Cr(o[4],n),d:Cr(o[5],n),h:Cr(o[6],n),m:Cr(o[7],n),s:Cr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Dr(Qn(a.from),Qn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new or(a),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Cr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Nr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Dr(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Nr(e,t):((n=Nr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Or(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Rr(this,Ar(n,r),e),this}}function Rr(e,t,n,i){var a=t._milliseconds,o=ur(t._days),s=ur(t._months);e.isValid()&&(i=null==i||i,s&&ct(e,he(e,"Month")+s*n),o&&de(e,"Date",he(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Ar.fn=or.prototype,Ar.invalid=ar;var Pr=Or(1,"add"),Mr=Or(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function jr(e){return _(e)||f(e)||Lr(e)||l(e)||Ur(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Ur(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Lr(e)})).length),t&&n}function Vr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Br(e,t){1===arguments.length&&(arguments[0]?jr(arguments[0])?(e=arguments[0],t=void 0):Vr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Qn(),i=dr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(C(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Qn(n)))}function qr(){return new x(this)}function Hr(e,t){var n=_(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wr(e,t){var n=_(e)?e:Qn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gr(e,t,n,r){var i=_(e)?e:Qn(e),a=_(t)?t:Qn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Kr(e,t){var n,r=_(e)?e:Qn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Jr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=Xr(this,r)/12;break;case"month":a=Xr(this,r);break;case"quarter":a=Xr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function Xr(e,t){if(e.date()<t.date())return-Xr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Zr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $r(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(_(e)&&e.isValid()||Qn(e).isValid())?Ar({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Qn(),e)}function ii(e,t){return this.isValid()&&(_(e)&&e.isValid()||Qn(e).isValid())?Ar({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Qn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var ci=1e3,li=60*ci,fi=60*li,hi=3506328*fi;function di(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*li),fi);break;case"minute":t=this._d.valueOf(),t-=di(t,li);break;case"second":t=this._d.valueOf(),t-=di(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fi-di(t+(this._isUTC?0:this.utcOffset()*li),fi)-1;break;case"minute":t=this._d.valueOf(),t+=li-di(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ci-di(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function ki(){return Math.floor(this.valueOf()/1e3)}function wi(){return new Date(this.valueOf())}function bi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _i(){return this.isValid()?this.toISOString():null}function Si(){return y(this)}function Ei(){return d({},m(this))}function Ii(){return m(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ai(e,t){var n,i,a,o=this._eras||gn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ci(e,t,n){var r,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([a,o,s].indexOf(e)>=0)return u[r]}function Ni(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Pi(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Mi(e){return s(this,"_erasNameRegex")||Bi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return s(this,"_erasAbbrRegex")||Bi.call(this),e?this._erasAbbrRegex:this._erasRegex}function ji(e){return s(this,"_erasNarrowRegex")||Bi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function Vi(e,t){return t.erasNarrowRegex(e)}function zi(e,t){return t._eraYearOrdinalRegex||Ae}function Bi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(je(o[e].name)),n.push(je(o[e].abbr)),i.push(je(o[e].narrow)),a.push(je(o[e].name)),a.push(je(o[e].abbr)),a.push(je(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function qi(e,t){V(0,[e,e.length],0,t)}function Hi(e){return Ji.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return Ji.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gi(){return _t(this.year(),1,4)}function Ki(){return _t(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return _t(this.year(),e.dow,e.doy)}function Qi(){var e=this.localeData()._week;return _t(this.weekYear(),e.dow,e.doy)}function Ji(e,t,n,r,i){var a;return null==e?xt(this,r,i).year:(t>(a=_t(e,r,i))&&(t=a),Xi.call(this,e,t,n,r,i))}function Xi(e,t,n,r,i){var a=bt(e,t,n,r,i),o=kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Zi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Pe("N",Fi),Pe("NN",Fi),Pe("NNN",Fi),Pe("NNNN",Ui),Pe("NNNNN",Vi),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),Pe("y",Ae),Pe("yy",Ae),Pe("yyy",Ae),Pe("yyyy",Ae),Pe("yo",zi),Ue(["y","yy","yyy","yyyy"],qe),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[qe]=n._locale.eraYearOrdinalParse(e,i):t[qe]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Pe("G",Ce),Pe("g",Ce),Pe("GG",xe,ge),Pe("gg",xe,ge),Pe("GGGG",Ie,we),Pe("gggg",Ie,we),Pe("GGGGG",Te,be),Pe("ggggg",Te,be),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Pe("Q",ye),Ue("Q",(function(e,t){t[He]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Pe("D",xe),Pe("DD",xe,ge),Pe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],We),Ue("Do",(function(e,t){t[We]=le(e.match(xe)[0])}));var $i=fe("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Pe("DDD",Ee),Pe("DDDD",ke),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Pe("m",xe),Pe("mm",xe,ge),Ue(["m","mm"],Ke);var ta=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Pe("s",xe),Pe("ss",xe,ge),Ue(["s","ss"],Ye);var na,ra,ia=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Pe("S",Ee,ye),Pe("SS",Ee,ge),Pe("SSS",Ee,ke),na="SSSS";na.length<=9;na+="S")Pe(na,Ae);function aa(e,t){t[Qe]=le(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")Ue(na,aa);function oa(){return this._isUTC?"UTC":""}function sa(){return this._isUTC?"Coordinated Universal Time":""}ra=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ua=x.prototype;function ca(e){return Qn(1e3*e)}function la(){return Qn.apply(null,arguments).parseZone()}function fa(e){return e}ua.add=Pr,ua.calendar=Br,ua.clone=qr,ua.diff=Jr,ua.endOf=yi,ua.format=ti,ua.from=ni,ua.fromNow=ri,ua.to=ii,ua.toNow=ai,ua.get=pe,ua.invalidAt=Ii,ua.isAfter=Hr,ua.isBefore=Wr,ua.isBetween=Gr,ua.isSame=Kr,ua.isSameOrAfter=Yr,ua.isSameOrBefore=Qr,ua.isValid=Si,ua.lang=si,ua.locale=oi,ua.localeData=ui,ua.max=Xn,ua.min=Jn,ua.parsingFlags=Ei,ua.set=ve,ua.startOf=mi,ua.subtract=Mr,ua.toArray=bi,ua.toObject=xi,ua.toDate=wi,ua.toISOString=$r,ua.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ua[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ua.toJSON=_i,ua.toString=Zr,ua.unix=ki,ua.valueOf=gi,ua.creationData=Ti,ua.eraName=Di,ua.eraNarrow=Oi,ua.eraAbbr=Ri,ua.eraYear=Pi,ua.year=mt,ua.isLeapYear=yt,ua.weekYear=Hi,ua.isoWeekYear=Wi,ua.quarter=ua.quarters=Zi,ua.month=lt,ua.daysInMonth=ft,ua.week=ua.weeks=At,ua.isoWeek=ua.isoWeeks=Ct,ua.weeksInYear=Yi,ua.weeksInWeekYear=Qi,ua.isoWeeksInYear=Gi,ua.isoWeeksInISOWeekYear=Ki,ua.date=$i,ua.day=ua.days=Ht,ua.weekday=Wt,ua.isoWeekday=Gt,ua.dayOfYear=ea,ua.hour=ua.hours=rn,ua.minute=ua.minutes=ta,ua.second=ua.seconds=ia,ua.millisecond=ua.milliseconds=ra,ua.utcOffset=vr,ua.utc=yr,ua.local=gr,ua.parseZone=kr,ua.hasAlignedHourOffset=wr,ua.isDST=br,ua.isLocal=_r,ua.isUtcOffset=Sr,ua.isUtc=Er,ua.isUTC=Er,ua.zoneAbbr=oa,ua.zoneName=sa,ua.dates=E("dates accessor is deprecated. Use date instead.",$i),ua.months=E("months accessor is deprecated. Use month instead",lt),ua.years=E("years accessor is deprecated. Use year instead",mt),ua.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mr),ua.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xr);var ha=O.prototype;function da(e,t,n,r){var i=gn(),a=p().set(r,t);return i[n](a,e)}function pa(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return da(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=da(e,r,n,"month");return i}function va(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=gn(),o=e?a._week.dow:0,s=[];if(null!=n)return da(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=da(t,(i+o)%7,r,"day");return s}function ma(e,t){return pa(e,t,"months")}function ya(e,t){return pa(e,t,"monthsShort")}function ga(e,t,n){return va(e,t,n,"weekdays")}function ka(e,t,n){return va(e,t,n,"weekdaysShort")}function wa(e,t,n){return va(e,t,n,"weekdaysMin")}ha.calendar=P,ha.longDateFormat=G,ha.invalidDate=Y,ha.ordinal=X,ha.preparse=fa,ha.postformat=fa,ha.relativeTime=$,ha.pastFuture=ee,ha.set=N,ha.eras=Ai,ha.erasParse=Ci,ha.erasConvertYear=Ni,ha.erasAbbrRegex=Li,ha.erasNameRegex=Mi,ha.erasNarrowRegex=ji,ha.months=at,ha.monthsShort=ot,ha.monthsParse=ut,ha.monthsRegex=dt,ha.monthsShortRegex=ht,ha.week=St,ha.firstDayOfYear=Tt,ha.firstDayOfWeek=It,ha.weekdays=Ut,ha.weekdaysMin=zt,ha.weekdaysShort=Vt,ha.weekdaysParse=qt,ha.weekdaysRegex=Kt,ha.weekdaysShortRegex=Yt,ha.weekdaysMinRegex=Qt,ha.isPM=tn,ha.meridiem=an,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",gn);var ba=Math.abs;function xa(){var e=this._data;return this._milliseconds=ba(this._milliseconds),this._days=ba(this._days),this._months=ba(this._months),e.milliseconds=ba(e.milliseconds),e.seconds=ba(e.seconds),e.minutes=ba(e.minutes),e.hours=ba(e.hours),e.months=ba(e.months),e.years=ba(e.years),this}function _a(e,t,n,r){var i=Ar(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Sa(e,t){return _a(this,e,t,1)}function Ea(e,t){return _a(this,e,t,-1)}function Ia(e){return e<0?Math.floor(e):Math.ceil(e)}function Ta(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ia(Ca(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=ce(a/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,o+=ce(n/24),s+=i=ce(Aa(o)),o-=Ia(Ca(i)),r=ce(s/12),s%=12,u.days=o,u.months=s,u.years=r,this}function Aa(e){return 4800*e/146097}function Ca(e){return 146097*e/4800}function Na(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Aa(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ca(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Da(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Oa(e){return function(){return this.as(e)}}var Ra=Oa("ms"),Pa=Oa("s"),Ma=Oa("m"),La=Oa("h"),ja=Oa("d"),Fa=Oa("w"),Ua=Oa("M"),Va=Oa("Q"),za=Oa("y");function Ba(){return Ar(this)}function qa(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Ha(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wa=Ha("milliseconds"),Ga=Ha("seconds"),Ka=Ha("minutes"),Ya=Ha("hours"),Qa=Ha("days"),Ja=Ha("months"),Xa=Ha("years");function Za(){return ce(this.days()/7)}var $a=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Ar(e).abs(),a=$a(i.as("s")),o=$a(i.as("m")),s=$a(i.as("h")),u=$a(i.as("d")),c=$a(i.as("M")),l=$a(i.as("w")),f=$a(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,to.apply(null,h)}function ro(e){return void 0===e?$a:"function"===typeof e&&($a=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=no(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function so(e){return(e>0)-(e<0)||+e}function uo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,u=oo(this._milliseconds)/1e3,c=oo(this._days),l=oo(this._months),f=this.asSeconds();return f?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=so(this._months)!==so(f)?"-":"",o=so(this._days)!==so(f)?"-":"",s=so(this._milliseconds)!==so(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ir,co.abs=xa,co.add=Sa,co.subtract=Ea,co.as=Na,co.asMilliseconds=Ra,co.asSeconds=Pa,co.asMinutes=Ma,co.asHours=La,co.asDays=ja,co.asWeeks=Fa,co.asMonths=Ua,co.asQuarters=Va,co.asYears=za,co.valueOf=Da,co._bubble=Ta,co.clone=Ba,co.get=qa,co.milliseconds=Wa,co.seconds=Ga,co.minutes=Ka,co.hours=Ya,co.days=Qa,co.weeks=Za,co.months=Ja,co.years=Xa,co.humanize=ao,co.toISOString=uo,co.toString=uo,co.toJSON=uo,co.locale=oi,co.localeData=ui,co.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uo),co.lang=si,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Pe("x",Ce),Pe("X",Oe),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.4",i(Qn),r.fn=ua,r.min=$n,r.max=er,r.now=tr,r.utc=p,r.unix=ca,r.months=ma,r.isDate=f,r.locale=vn,r.invalid=g,r.duration=Ar,r.isMoment=_,r.weekdays=ga,r.parseZone=la,r.localeData=gn,r.isDuration=sr,r.monthsShort=ya,r.weekdaysMin=wa,r.defineLocale=mn,r.updateLocale=yn,r.locales=kn,r.weekdaysShort=ka,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=zr,r.prototype=ua,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},482:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(7)),o=u(n(791)),s=n(432);function u(e){return e&&e.__esModule?e:{default:e}}var c={thousandSeparator:a.default.oneOfType([a.default.string,a.default.oneOf([!0])]),thousandSpacing:a.default.oneOf(["2","2s","3","4"]),decimalSeparator:a.default.string,decimalScale:a.default.number,fixedDecimalScale:a.default.bool,displayType:a.default.oneOf(["input","text"]),prefix:a.default.string,suffix:a.default.string,format:a.default.oneOfType([a.default.string,a.default.func]),removeFormatting:a.default.func,mask:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),value:a.default.oneOfType([a.default.number,a.default.string]),isNumericString:a.default.bool,customInput:a.default.func,allowNegative:a.default.bool,onValueChange:a.default.func,onKeyDown:a.default.func,onMouseUp:a.default.func,onChange:a.default.func,onFocus:a.default.func,onBlur:a.default.func,type:a.default.oneOf(["text","tel"]),isAllowed:a.default.func,renderText:a.default.func},l={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:s.noop,onChange:s.noop,onKeyDown:s.noop,onMouseUp:s.noop,onFocus:s.noop,onBlur:s.noop,isAllowed:s.returnTrue},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.validateProps();var r=n.formatValueProp();return n.state={value:r,numAsString:n.removeFormatting(r)},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state;if(e!==t){this.validateProps();var r=n.value,i=n.numAsString||"",a=void 0===t.value?this.formatNumString(i):this.formatValueProp();a!==r&&this.setState({value:a,numAsString:this.removeFormatting(a)})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getSeparators().decimalSeparator,n=this.getNumberRegex(!0),r="-"===e[0];r&&(e=e.replace("-",""));var i=(e=(e.match(n)||[]).join("").replace(t,".")).indexOf(".");return-1!==i&&(e=e.substring(0,i)+"."+e.substring(i+1,e.length).replace(new RegExp((0,s.escapeRegExp)(t),"g"),"")),r&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,r=n.format,i=n.decimalScale,a=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!a||0===i||t||r?"":"|"+(0,s.escapeRegExp)(a)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props,t=e.decimalSeparator,n=e.thousandSpacing,r=this.props.thousandSeparator;return!0===r&&(r=","),{decimalSeparator:t,thousandSeparator:r,thousandSpacing:n}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"===typeof n?n:n[e]||" "}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,r=t.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n\n          thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+n+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")}},{key:"splitDecimal",value:function(e){var t=this.props.allowNegative,n="-"===e[0],r=n&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNagation:n,addNegation:r}}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,s.setCaretPosition)(e,t),setTimeout((function(){e.value===n&&(0,s.setCaretPosition)(e,t)}),0)}},{key:"correctCaretPosition",value:function(e,t,n){var r=this.props,i=r.prefix,a=r.suffix,o=r.format;if(!o){var u="-"===e[0];return Math.min(Math.max(t,i.length+(u?1:0)),e.length-a.length)}if("function"===typeof o)return t;if("#"===o[t]&&(0,s.charIsNumber)(e[t]))return t;if("#"===o[t-1]&&(0,s.charIsNumber)(e[t-1]))return t;var c=o.indexOf("#"),l=o.lastIndexOf("#");t=Math.min(Math.max(t,c),l+1);for(var f=o.substring(t,o.length).indexOf("#"),h=t,d=t+(-1===f?0:f);h>c&&("#"!==o[h]||!(0,s.charIsNumber)(e[h]));)h-=1;return!(0,s.charIsNumber)(e[d])||"left"===n&&t!==c||t-h<d-t?h+1:d}},{key:"getCaretPosition",value:function(e,t,n){var r=this.props.format,i=this.state.value,a=this.getNumberRegex(!0),o=(e.match(a)||[]).join(""),s=(t.match(a)||[]).join(""),u=void 0,c=void 0;for(u=0,c=0;c<n;c++){var l=e[c]||"",f=t[u]||"";if((l.match(a)||l===f)&&("0"!==l||!f.match(a)||"0"===f||o.length===s.length)){for(;l!==t[u]&&u<t.length;)u++;u++}}return"string"!==typeof r||i||(u=t.length),u=this.correctCaretPosition(t,u)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,r=t.prefix,i=t.suffix;if(!n&&e){var a="-"===e[0];a&&(e=e.substring(1,e.length));var o=(e=r&&0===e.indexOf(r)?e.substring(r.length,e.length):e).lastIndexOf(i);e=i&&-1!==o&&o===e.length-i.length?e.substring(0,o):e,a&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),n=0,r="",i=0,a=t.length;i<=a;i++){var o=t[i]||"",s=i===a?e.length:e.indexOf(o,n);if(-1===s){r=e;break}r+=e.substring(n,s),n=s+o.length}return(r.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,r=t.removeFormatting;return e?(n?e="string"===typeof n?this.removePatternFormatting(e):"function"===typeof r?r(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,r=t.split(""),i=0,a=t.length;i<a;i++)"#"===t[i]&&(r[i]=e[n]||this.getMaskAtIndex(n),n+=1);return r.join("")}},{key:"formatThousand",value:function(e,t,n){var r=void 0;switch(n){case s.thousandGroupSpacing.two:r=/(\d)(?=(\d{2})+(?!\d))/g;break;case s.thousandGroupSpacing.twoScaled:r=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case s.thousandGroupSpacing.four:r=/(\d)(?=(\d{4})+(?!\d))/g;break;default:r=/(\d)(?=(\d{3})+(?!\d))/g}return e.replace(r,"$1"+t)}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix,a=t.suffix,o=this.getSeparators(),u=o.thousandSeparator,c=o.decimalSeparator,l=o.thousandSpacing,f=-1!==e.indexOf(".")||n&&r,h=this.splitDecimal(e),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;return void 0!==n&&(p=(0,s.limitToScale)(p,n,r)),u&&(d=this.formatThousand(d,u,l)),i&&(d=i+d),a&&(p+=a),v&&(d="-"+d),e=d+(f&&c||"")+p}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format,n=e;return""===e?n="":"-"!==e||t?n="string"===typeof t?this.formatWithPattern(n):"function"===typeof t?t(n):this.formatAsNumber(n):(n="-",e=""),n}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,n=e.decimalScale,r=e.fixedDecimalScale,i=this.props,a=i.value,o=i.isNumericString;return void 0===a?"":("number"===typeof a&&(a=a.toString(),o=!0),o&&!t&&"number"===typeof n&&(a=(0,s.roundToPrecision)(a,n,r)),o?this.formatNumString(a):this.formatInput(a))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),a=r.test(e);return e=e.replace(/-/g,""),i&&!a&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.format||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,r=n.format,i=n.prefix,a=n.suffix,o=n.decimalScale,s=n.fixedDecimalScale,u=this.getSeparators().decimalSeparator;return"string"===typeof r&&"#"!==r[e]||!(r||!(e<i.length||e>=t.length-a.length||o&&s&&t[e]===u))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var r=e;r<t;r++)if(this.isCharacterAFormat(r,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var r=this.props.format,i=this.state.numAsString||"";if(n.length>=t.length||!n.length)return n;var a=e,o=(0,s.splitString)(t,e),u=(0,s.splitString)(n,e),c=o[1].lastIndexOf(u[1]),l=a+(-1!==c?o[1].substring(0,c):"").length;if(this.checkIfFormatGotDeleted(a,l,t)&&(n=t),!r){var f=this.removeFormatting(n),h=this.splitDecimal(f),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;if(f.length<i.length&&""===d&&!parseFloat(p))return v?"-":""}return n}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,r=this.state,i=this.props,a=i.isAllowed,o=r.value||"",s=Math.max(t.selectionStart,t.selectionEnd);n=this.correctInputValue(s,o,n);var u=this.formatInput(n)||"",c=this.removeFormatting(u),l={formattedValue:u,value:c,floatValue:parseFloat(c)};a(l)||(u=o),t.value=u;var f=this.getCaretPosition(n,u,s);this.setPatchedCaretPosition(t,f,u),u!==o?this.setState({value:u,numAsString:c},(function(){i.onValueChange(l),i.onChange(e)})):i.onChange(e)}},{key:"onBlur",value:function(e){var t=this.props,n=this.state,r=t.format,i=t.onBlur,a=n.numAsString,o=n.value;if(!r){a=(0,s.fixLeadingZero)(a);var u=this.formatNumString(a),c={formattedValue:u,value:a,floatValue:parseFloat(a)};if(u!==o)return e.persist(),void this.setState({value:u,numAsString:a},(function(){t.onValueChange(c),i(e)}))}i(e)}},{key:"onKeyDown",value:function(e){var t=e.target,n=e.key,r=t.selectionEnd,i=t.value,a=t.selectionStart,o=void 0,s=this.props,u=s.decimalScale,c=s.fixedDecimalScale,l=s.prefix,f=s.suffix,h=s.format,d=s.onKeyDown,p=void 0!==u&&c,v=this.getNumberRegex(!1,p),m=new RegExp("-"),y="string"===typeof h;if("ArrowLeft"===n||"Backspace"===n?o=a-1:"ArrowRight"===n?o=a+1:"Delete"===n&&(o=a),void 0!==o&&a===r){var g=o,k=y?h.indexOf("#"):l.length,w=y?h.lastIndexOf("#")+1:i.length-f.length;if("ArrowLeft"===n||"ArrowRight"===n){var b="ArrowLeft"===n?"left":"right";g=this.correctCaretPosition(i,o,b)}else if("Delete"!==n||v.test(i[o])||m.test(i[o])){if("Backspace"===n&&!v.test(i[o])&&!m.test(i[o])){for(;!v.test(i[g-1])&&g>k;)g--;g=this.correctCaretPosition(i,g,"left")}}else for(;!v.test(i[g])&&g<w;)g++;(g!==o||o<k||o>w)&&(e.preventDefault(),this.setPatchedCaretPosition(t,g,i)),e.isUnitTestRun&&this.setPatchedCaretPosition(t,g,i),this.props.onKeyDown(e)}else d(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value;if(n===r){var a=this.correctCaretPosition(i,n);a!==n&&this.setPatchedCaretPosition(t,a,i)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout((function(){var n=e.target,r=n.selectionStart,i=n.value,a=t.correctCaretPosition(i,r);a!==r&&t.setPatchedCaretPosition(n,a,i),t.props.onFocus(e)}))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,i=e.customInput,a=e.renderText,u=this.state.value,l=(0,s.omit)(this.props,c),f=r({},l,{type:t,value:u,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return a?a(u)||null:o.default.createElement("span",l,u);if(i){var h=i;return o.default.createElement(h,f)}return o.default.createElement("input",f)}}]),t}(o.default.Component);f.propTypes=c,f.defaultProps=l,e.exports=f},432:function(e,t){"use strict";function n(e,t,n){for(var r="",i=n?"0":"",a=0;a<=t-1;a++)r+=e[a]||i;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.returnTrue=function(){return!0},t.charIsNumber=function(e){return!!(e||"").match(/\d/)},t.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.fixLeadingZero=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")},t.splitString=function(e,t){return[e.substring(0,t),e.substring(t)]},t.limitToScale=n,t.roundToPrecision=function(e,t,r){var i=e.split("."),a=parseFloat("0."+(i[1]||"0")).toFixed(t).split("."),o=i[0].split("").reverse().reduce((function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),a[0]),s=n(a[1]||"",(i[1]||"").length,r);return o+(s?"."+s:"")},t.omit=function(e,t){var n={};return Object.keys(e).forEach((function(r){t[r]||(n[r]=e[r])})),n},t.setCaretPosition=function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}};t.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,j=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ae(e,t){return e(t)}function Ce(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Ce(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Me(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,je=e}};function ze(e,t,n,r,i,a,o,s,u){Le=!1,je=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,_t,St,Et,It=!1,Tt=[],At=null,Ct=null,Nt=null,Dt=new Map,Ot=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){It=!1,null!==At&&Ft(At)&&(At=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),Dt.forEach(Ut),Ot.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&zt(At,e),null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Lt(At,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&bt(a),null===(a=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=gi(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),wn=an(j({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var In=j({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),An=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Dn),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,jn=l&&(!Pn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Fr(e,0)}function Qn(e){if(K(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,be(e)),De(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Ar=Er("animationstart"),Cr=Er("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Pr=Dr[Rr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Ir,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Ar,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=je;Le=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}De((function(){var r=a,i=be(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Ir:case Tr:case Ar:u=yn;break;case Cr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:wi(u),d=null==c?s:wi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Yr(o,s,u,l,!1),null!==c&&null!==f&&Yr(o,f,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Hn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,k)).length&&(k=new wn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),$t=Zt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ai=Si(Ti),Ci=Si(!1),Ni=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ci),Ei(Ai)}function Pi(e,t,n){if(Ai.current!==Ti)throw Error(a(168));Ii(Ai,t),Ii(Ci,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ai.current,Ii(Ai,e),Ii(Ci,Ci.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ci),Ei(Ai),Ii(Ai,e)):Ei(Ci),Ii(Ci,n)}var Fi=null,Ui=!1,Vi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke($e,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Gi=0,Ki=[],Yi=0,Qi=null,Ji=1,Xi="";function Zi(e,t){qi[Hi++]=Gi,qi[Hi++]=Wi,Wi=e,Gi=t}function $i(e,t,n){Ki[Yi++]=Ji,Ki[Yi++]=Xi,Ki[Yi++]=Qi,Qi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Gi=qi[--Hi],qi[Hi]=null;for(;e===Qi;)Qi=Ki[--Yi],Ki[Yi]=null,Xi=Ki[--Yi],Ki[Yi]=null,Ji=Ki[--Yi],Ki[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,wa=null;function ba(){wa=ka=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,wa=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Aa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Ni:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Ni:Ai.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Ya(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Zi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Zi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),c}function m(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Zi(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Zi(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Ya(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Mc(o.type,o.key,o.props,null,r.mode,u)).ref=Ga(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return m(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ja=Qa(!0),Xa=Qa(!1),Za={},$a=Si(Za),eo=Si(Za),to=Si(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii($a,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($a),Ii($a,t)}function io(){Ei($a),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no($a.current),n=ue(t,e.type);t!==n&&(Ii(eo,e),Ii($a,n))}function oo(e){eo.current===e&&(Ei($a),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=w.ReactCurrentDispatcher,ho=w.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,wo=0,bo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,wo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==wo;return wo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Ao(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,ju|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Ho(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&jo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&jo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Ca(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function $o(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Aa(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Aa(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Fo,useDebugValue:Qo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Nu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:Co,useRef:Vo,useState:function(){return Co(Ao)},useDebugValue:Qo,useDeferredValue:function(e){return Zo(To(),mo.memoizedState,e)},useTransition:function(){return[Co(Ao)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Ao)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[No(Ao)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Gu=r),hs(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=w.ReactCurrentOwner,ws=!1;function bs(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ws?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Pu,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Pu,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Pu,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Pu,Ru),Ru|=r;return bs(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Oi(n)?Ni:Ai.current;return a=Di(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ws?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function As(e,t,n,r,i){if(Oi(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Di(t,c=Oi(n)?Ni:Ai.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ci.current||Na?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Na||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Di(t,u=Oi(n)?Ni:Ai.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ci.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ws(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ds(e,t,n,r,i){return da(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var Os,Rs,Ps,Ms,Ls={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ls,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Yi++]=Ji,Ki[Yi++]=Xi,Ki[Yi++]=Qi,Ji=e.id,Xi=e.overflow,Qi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ci),Ei(Ai),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Rs(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":G(r),$(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Mu&&(Mu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Rs(e,t),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Gs(o,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Gs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ii(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ci),Ei(Ai),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Xs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,$s=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,mu(t,e),Xs=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($s=e,f=e.child;null!==f;){for(h=$s=f;null!==$s;){switch(p=(d=$s).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,$s=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){$s=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Js;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Js;var c=Xs;if(Js=o,(Xs=u)&&!c)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,$s=u):_u(i);for(;null!==a;)$s=a,wu(a,t,n),a=a.sibling;$s=i,Js=s,Xs=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):bu(e)}}function bu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function xu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function _u(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var Su,Eu=Math.ceil,Iu=w.ReactCurrentDispatcher,Tu=w.ReactCurrentOwner,Au=w.ReactCurrentBatchConfig,Cu=0,Nu=null,Du=null,Ou=0,Ru=0,Pu=Si(0),Mu=0,Lu=null,ju=0,Fu=0,Uu=0,Vu=null,zu=null,Bu=0,qu=1/0,Hu=null,Wu=!1,Gu=null,Ku=null,Yu=!1,Qu=null,Ju=0,Xu=0,Zu=null,$u=-1,ec=0;function tc(){return 0!==(6&Cu)?Xe():-1!==$u?$u:$u=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Ou?Ou&-Ou:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Zu=null,Error(a(185));yt(e,n,r),0!==(2&Cu)&&e===Nu||(e===Nu&&(0===(2&Cu)&&(Fu|=n),4===Mu&&uc(e,Ou)),ic(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(qu=Xe()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Ou:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Cu)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if($u=-1,ec=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cu;Cu|=2;var o=vc();for(Nu===e&&Ou===t||(Hu=null,qu=Xe()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}ba(),Iu.current=o,Cu=i,null!==Du?t=0:(Nu=null,Ou=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Lu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zu,Hu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zu,Hu),t);break}xc(e,zu,Hu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zu,Hu),r);break}xc(e,zu,Hu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cu))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zu,Hu),ic(e,Xe()),null}function lc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(qu=Xe()+500,Ui&&Bi())}}function fc(e){null!==Qu&&0===Qu.tag&&0===(6&Cu)&&_c();var t=Cu;Cu|=1;var n=Au.transition,r=kt;try{if(Au.transition=null,kt=1,e)return e()}finally{kt=r,Au.transition=n,0===(6&(Cu=t))&&Bi()}}function hc(){Ru=Pu.current,Ei(Pu)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Ci),Ei(Ai),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Du=e=Pc(e.current,null),Ou=Ru=t,Mu=0,Lu=null,Uu=Fu=ju=0,zu=Vu=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Du;try{if(ba(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,wo=0,Tu.current=null,null===n||null===n.return){Mu=1,Lu=t,Du=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ou,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Mu&&(Mu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(w){t=w,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function vc(){var e=Iu.current;return Iu.current=os,null===e?os:e}function mc(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Nu||0===(268435455&ju)&&0===(268435455&Fu)||uc(Nu,Ou)}function yc(e,t){var n=Cu;Cu|=2;var r=vc();for(Nu===e&&Ou===t||(Hu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(ba(),Cu=n,Iu.current=r,null!==Du)throw Error(a(261));return Nu=null,Ou=0,Mu}function gc(){for(;null!==Du;)wc(Du)}function kc(){for(;null!==Du&&!Qe();)wc(Du)}function wc(e){var t=Su(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?bc(e):Du=t,Tu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Ru)))return void(Du=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Du=n);if(null===e)return Mu=6,void(Du=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Mu&&(Mu=5)}function xc(e,t,n){var r=kt,i=Au.transition;try{Au.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Du=Nu=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yu||(Yu=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Au.transition,Au.transition=null;var s=kt;kt=1;var u=Cu;Cu|=4,Tu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(b){Ec(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Je(),Cu=u,kt=s,Au.transition=o}else e.current=n;if(Yu&&(Yu=!1,Qu=e,Ju=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Gu,Gu=null,e;0!==(1&Ju)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Zu?Xu++:(Xu=0,Zu=e):Xu=0,Bi()}(e,t,n,r)}finally{Au.transition=i,kt=r}return null}function _c(){if(null!==Qu){var e=wt(Ju),t=Au.transition,n=kt;try{if(Au.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Ju=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for($s=l;null!==$s;){var f=$s;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,$s=h;else for(;null!==$s;){var d=(f=$s).sibling,p=f.return;if(ou(f),f===l){$s=null;break}if(null!==d){d.return=p,$s=d;break}$s=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$s=g;break e}$s=o.return}}var k=e.current;for($s=k;null!==$s;){var w=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,$s=w;else e:for(s=k;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){$s=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,$s=b;break e}$s=u.return}}if(Cu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Au.transition=t}}return!1}function Sc(e,t,n){e=Pa(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Pa(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Ou&n)===n&&(4===Mu||3===Mu&&(130023424&Ou)===Ou&&500>Xe()-Bu?dc(e,0):Uu|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ca(e,t))&&(yt(e,t,n),ic(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ke(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Dc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case C:return(e=Oc(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case T:s=9;break e;case A:s=11;break e;case D:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ii(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ii(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ia&&0!==(1048576&t.flags)&&$i(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Di(t,Ai.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ds(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Jc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Jc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Hc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Cu)&&(qu=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Ca(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Ca(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));K(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=lc,Ce=fc;var tl={usingClientEntryPoint:!1,Events:[ki,wi,bi,Ie,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=k.prototype=new g;w.constructor=k,v(w,y.prototype),w.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+A(u,0):a,b(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var l=a+A(s=e[c],c);u+=C(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=a+A(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&P(b,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&P(b,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,T=5,A=-1;function C(){return!(t.unstable_now()-A<T)}function N(){if(null!==E){var e=t.unstable_now();A=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=N,_=function(){O.postMessage(null)}}else _=function(){y(N,0)};function R(e){E=e,S||(S=!0,_())}function P(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,P(b,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Kn},SDK_VERSION:function(){return ti},_DEFAULT_ENTRY_NAME:function(){return Br},_addComponent:function(){return Gr},_addOrOverwriteComponent:function(){return Kr},_apps:function(){return Hr},_clearComponents:function(){return Xr},_components:function(){return Wr},_getProvider:function(){return Qr},_registerComponent:function(){return Yr},_removeServiceInstance:function(){return Jr},deleteApp:function(){return ai},getApp:function(){return ri},getApps:function(){return ii},initializeApp:function(){return ni},onLog:function(){return ui},registerVersion:function(){return si},setLogLevel:function(){return ci}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||u()}n.p,n.p,n.p;var l=n.p+"static/media/row1img2.b297f593c350257b1923.jpg",f=n(184),h=(0,t.createContext)(),d=function(e){var n=e.reducer,r=e.initialState,i=e.children;return(0,f.jsx)(h.Provider,{value:(0,t.useReducer)(n,r),children:i})},p=function(){return(0,t.useContext)(h)},v=function(e){var t=c(p(),2),n=(t[0].basket,t[1]);return(0,f.jsxs)("div",{className:"card",children:[(0,f.jsx)("div",{className:"image",children:(0,f.jsx)("img",{src:e.image,alt:""})}),(0,f.jsxs)("div",{className:"content",children:[(0,f.jsx)("h3",{children:e.title}),(0,f.jsxs)("h4",{children:[" Get it by",(0,f.jsx)("span",{children:"Tomorrow, 21 August"}),"  FREE Delivery by Amazon"]}),(0,f.jsxs)("p",{children:["\u20b9",e.price]}),(0,f.jsx)("span",{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),(0,f.jsx)("button",{onClick:function(){n({type:"REMOVE_FROM_BASKET",id:e.id})},children:"Remove from Basket"})]})]})};function m(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function y(e){return function(e){if(Array.isArray(e))return o(e)}(e)||m(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function k(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}function w(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _,S=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},E=function(e,t){switch(t.type){case"ADD_TO_BASKET":return x(x({},e),{},{basket:[].concat(y(e.basket),[t.item])});case"EMPTY_BASKET":return x(x({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var n=e.basket.findIndex((function(e){return e.id=t.id})),r=y(e.basket);return n>=0?r.splice(n,1):console.warn("product not found"),x(x({},e),{},{basket:r});case"SET_USER":return x(x({},e),{},{user:t.user});default:return e}};function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function A(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){var t=O();return function(){var n,r=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}(this,n)}}function M(){M=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new I(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(T([])));y&&y!==t&&n.call(y,a)&&(v=y);var k=p.prototype=h.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==g(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e||""===e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError(g(e)+" is not iterable")}return d.prototype=p,r(k,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},w(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function L(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){L(a,r,i,o,s,"next",e)}function s(e){L(a,r,i,o,s,"throw",e)}o(void 0)}))}}function F(e,t,n){return F=O()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&C(i,n.prototype),i},F.apply(null,arguments)}function U(e){var t="function"===typeof Map?new Map:void 0;return U=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return F(e,arguments,D(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),C(r,e)},U(e)}function V(e){return a(e)||m(e)||s(e)||u()}function z(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(_||(_={}));var q,H="popstate";function W(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function G(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function K(e,t){return{usr:e.state,key:e.key,idx:t}}function Y(e,t,n,r){return void 0===n&&(n=null),B({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?J(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Q(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function J(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function X(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=_.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=_.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:Q(e);return W(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(B({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(H,p),f=e,function(){o.removeEventListener(H,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=_.Push;var r=Y(m.location,e,t);n&&n(r,e);var i=K(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;o.location.assign(a)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=_.Replace;var r=Y(m.location,e,t);n&&n(r,e);var i=K(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(q||(q={}));var Z=new Set(["lazy","caseSensitive","path","id","index","children"]);function $(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((function(e,i){var a=[].concat(y(n),[i]),o="string"===typeof e.id?e.id:a.join("-");if(W(!0!==e.index||!e.children,"Cannot specify children on an index route"),W(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var s=B({},e,t(e),{id:o});return r[o]=s,s}var u=B({},e,t(e),{id:o,children:void 0});return r[o]=u,e.children&&(u.children=$(e.children,t,a,r)),u}))}function ee(e,t,n){void 0===n&&(n="/");var r=pe(("string"===typeof t?J(t):t).pathname||"/",n);if(null==r)return null;var i=te(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=fe(i[o],de(r));return a}function te(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(W(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ge([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(W(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),te(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:le(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=z(ne(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function ne(e){var t=e.split("/");if(0===t.length)return[];var n=V(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=ne(i.join("/")),u=[];return u.push.apply(u,y(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,y(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var re=/^:\w+$/,ie=3,ae=2,oe=1,se=10,ue=-2,ce=function(e){return"*"===e};function le(e,t){var n=e.split("/"),r=n.length;return n.some(ce)&&(r+=ue),t&&(r+=ae),n.filter((function(e){return!ce(e)})).reduce((function(e,t){return e+(re.test(t)?ie:""===t?oe:se)}),r)}function fe(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=he({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ge([i,l.pathname]),pathnameBase:ke(ge([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ge([i,l.pathnameBase]))}return a}function he(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);G("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return G(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function de(e){try{return decodeURI(e)}catch(t){return G(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function pe(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ve(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function me(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ye(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=J(e):(W(!(i=B({},e)).pathname||!i.pathname.includes("?"),ve("?","pathname","search",i)),W(!i.pathname||!i.pathname.includes("#"),ve("#","pathname","hash",i)),W(!i.search||!i.search.includes("#"),ve("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?J(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:we(a),hash:be(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ge=function(e){return e.join("/").replace(/\/\/+/g,"/")},ke=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},we=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},be=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},xe=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.apply(this,arguments)}return A(n)}(U(Error));var _e=A((function e(t,n,r,i){I(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function Se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Ee=["post","put","patch","delete"],Ie=new Set(Ee),Te=["get"].concat(Ee),Ae=new Set(Te),Ce=new Set([301,302,303,307,308]),Ne=new Set([307,308]),De={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Oe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Re={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=function(e){return{hasErrorBoundary:Boolean(e.hasErrorBoundary)}};function Le(e){var t,n=e.window?e.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof n&&"undefined"!==typeof n.document&&"undefined"!==typeof n.document.createElement,i=!r;if(W(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)t=e.mapRouteProperties;else if(e.detectErrorBoundary){var a=e.detectErrorBoundary;t=function(e){return{hasErrorBoundary:a(e)}}}else t=Me;var o,s={},u=$(e.routes,t,void 0,s),l=e.basename||"/",f=B({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),h=null,d=new Set,p=null,v=null,m=null,g=null!=e.hydrationData,k=ee(u,e.history.location,l),b=null;if(null==k){var x=tt(404,{pathname:e.history.location.pathname}),S=et(u);k=S.matches,b=w({},S.route.id,x)}var E,I,T=!k.some((function(e){return e.route.lazy}))&&(!k.some((function(e){return e.route.loader}))||null!=e.hydrationData),A={historyAction:e.history.action,location:e.history.location,matches:k,initialized:T,navigation:De,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},C=_.Pop,N=!1,D=!1,O=!1,R=[],P=[],L=new Map,F=0,U=-1,V=new Map,H=new Set,K=new Map,Q=new Map,J=new Map,X=!1;function Z(e){A=B({},A,e),d.forEach((function(e){return e(A)}))}function te(t,n){var r,i,a,s=null!=A.actionData&&null!=A.navigation.formMethod&&ft(A.navigation.formMethod)&&"loading"===A.navigation.state&&!0!==(null==(r=t.state)?void 0:r._isRedirect);a=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:s?A.actionData:null;var c=n.loaderData?Ze(A.loaderData,n.loaderData,n.matches||[],n.errors):A.loaderData,l=A.blockers;l.size>0&&(l=new Map(l)).forEach((function(e,t){return l.set(t,Re)}));var f=!0===N||null!=A.navigation.formMethod&&ft(A.navigation.formMethod)&&!0!==(null==(i=t.state)?void 0:i._isRedirect);o&&(u=o,o=void 0),D||C===_.Pop||(C===_.Push?e.history.push(t,t.state):C===_.Replace&&e.history.replace(t,t.state)),Z(B({},n,{actionData:a,loaderData:c,historyAction:C,location:t,initialized:!0,navigation:De,revalidation:"idle",restoreScrollPosition:Ue(t,n.matches||A.matches),preventScrollReset:f,blockers:l})),C=_.Pop,N=!1,D=!1,O=!1,R=[],P=[]}function ne(e,t){return re.apply(this,arguments)}function re(){return re=j(M().mark((function t(n,r){var i,a,o,s,u,c,h,d,p,v,m;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:if(i=je(A.location,A.matches,l,f.v7_prependBasename,n,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),a=Fe(f.v7_normalizeFormMethod,!1,i,r),o=a.path,s=a.submission,u=a.error,c=A.location,h=B({},h=Y(A.location,o,r&&r.state),e.history.encodeLocation(h)),d=r&&null!=r.replace?r.replace:void 0,p=_.Push,!0===d?p=_.Replace:!1===d||null!=s&&ft(s.formMethod)&&s.formAction===A.location.pathname+A.location.search&&(p=_.Replace),v=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,!(m=Te({currentLocation:c,nextLocation:h,historyAction:p}))){t.next=16;break}return Ie(m,{state:"blocked",location:h,proceed:function(){Ie(m,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),ne(n,r)},reset:function(){var e=new Map(A.blockers);e.set(m,Re),Z({blockers:e})}}),t.abrupt("return");case 16:return t.next=18,ie(p,h,{submission:s,pendingError:u,preventScrollReset:v,replace:r&&r.replace});case 18:return t.abrupt("return",t.sent);case 19:case"end":return t.stop()}}),t)}))),re.apply(this,arguments)}function ie(e,t,n){return ae.apply(this,arguments)}function ae(){return ae=j(M().mark((function t(n,r,i){var a,s,c,f,h,d,p,v,m,y,g,k,b,x,_;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(I&&I.abort(),I=null,C=n,D=!0===(i&&i.startUninterruptedRevalidation),Le(A.location,A.matches),N=!0===(i&&i.preventScrollReset),a=o||u,s=i&&i.overrideNavigation,c=ee(a,r,l)){t.next=15;break}return f=tt(404,{pathname:r.pathname}),h=et(a),d=h.matches,p=h.route,Ae(),te(r,{matches:d,loaderData:{},errors:w({},p.id,f)}),t.abrupt("return");case 15:if(!A.initialized||O||!it(A.location,r)||i&&i.submission&&ft(i.submission.formMethod)){t.next=18;break}return te(r,{matches:c}),t.abrupt("return");case 18:if(I=new AbortController,v=Ke(e.history,r,I.signal,i&&i.submission),!i||!i.pendingError){t.next=24;break}y=w({},$e(c).route.id,i.pendingError),t.next=34;break;case 24:if(!(i&&i.submission&&ft(i.submission.formMethod))){t.next=34;break}return t.next=27,oe(v,r,i.submission,c,{replace:i.replace});case 27:if(!(g=t.sent).shortCircuited){t.next=30;break}return t.abrupt("return");case 30:m=g.pendingActionData,y=g.pendingActionError,s=kt(r,i.submission),v=new Request(v.url,{signal:v.signal});case 34:return t.next=36,ue(v,r,c,s,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,m,y);case 36:if(k=t.sent,b=k.shortCircuited,x=k.loaderData,_=k.errors,!b){t.next=42;break}return t.abrupt("return");case 42:I=null,te(r,B({matches:c},m?{actionData:m}:{},{loaderData:x,errors:_}));case 44:case"end":return t.stop()}}),t)}))),ae.apply(this,arguments)}function oe(e,t,n,r,i){return se.apply(this,arguments)}function se(){return se=j(M().mark((function e(n,r,i,a,o){var u,c,f,h;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o&&(o={}),ge(),Z({navigation:wt(r,i)}),(c=yt(a,r)).route.action||c.route.lazy){e.next=9;break}u={type:q.error,error:tt(405,{method:n.method,pathname:r.pathname,routeId:c.route.id})},e.next=14;break;case 9:return e.next=11,We("action",n,c,a,s,t,l);case 11:if(u=e.sent,!n.signal.aborted){e.next=14;break}return e.abrupt("return",{shortCircuited:!0});case 14:if(!st(u)){e.next=19;break}return f=o&&null!=o.replace?o.replace:u.location===A.location.pathname+A.location.search,e.next=18,de(A,u,{submission:i,replace:f});case 18:return e.abrupt("return",{shortCircuited:!0});case 19:if(!ot(u)){e.next=23;break}return h=$e(a,c.route.id),!0!==(o&&o.replace)&&(C=_.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:w({},h.route.id,u.error)});case 23:if(!at(u)){e.next=25;break}throw tt(400,{type:"defer-action"});case 25:return e.abrupt("return",{pendingActionData:w({},c.route.id,u.data)});case 26:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function ue(e,t,n,r,i,a,o,s,u){return ce.apply(this,arguments)}function ce(){return ce=j(M().mark((function t(n,r,i,a,s,f,h,d,p){var v,m,y,g,k,w,b,x,_,S,E,T,C,N,j,V,z,q,W,G,Y,J;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v=a||kt(r,s),m=s||f||gt(v),y=o||u,g=Ve(e.history,A,i,m,r,O,R,P,K,H,y,l,d,p),k=c(g,2),w=k[0],b=k[1],Ae((function(e){return!(i&&i.some((function(t){return t.route.id===e})))||w&&w.some((function(t){return t.route.id===e}))})),U=++F,0!==w.length||0!==b.length){t.next=10;break}return x=_e(),te(r,B({matches:i,loaderData:{},errors:p||null},d?{actionData:d}:{},x?{fetchers:new Map(A.fetchers)}:{})),t.abrupt("return",{shortCircuited:!0});case 10:return D||(b.forEach((function(e){var t=A.fetchers.get(e.key),n=bt(void 0,t?t.data:void 0);A.fetchers.set(e.key,n)})),_=d||A.actionData,Z(B({navigation:v},_?0===Object.keys(_).length?{actionData:null}:{actionData:_}:{},b.length>0?{fetchers:new Map(A.fetchers)}:{}))),b.forEach((function(e){L.has(e.key)&&be(e.key),e.controller&&L.set(e.key,e.controller)})),S=function(){return b.forEach((function(e){return be(e.key)}))},I&&I.signal.addEventListener("abort",S),t.next=16,me(A.matches,i,w,b,n);case 16:if(E=t.sent,T=E.results,C=E.loaderResults,N=E.fetcherResults,!n.signal.aborted){t.next=22;break}return t.abrupt("return",{shortCircuited:!0});case 22:if(I&&I.signal.removeEventListener("abort",S),b.forEach((function(e){return L.delete(e.key)})),!(j=nt(T))){t.next=30;break}return j.idx>=w.length&&(V=b[j.idx-w.length].key,H.add(V)),t.next=29,de(A,j.result,{replace:h});case 29:return t.abrupt("return",{shortCircuited:!0});case 30:return z=Xe(A,i,w,C,p,b,N,Q),q=z.loaderData,W=z.errors,Q.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&Q.delete(t)}))})),G=_e(),Y=Se(U),J=G||Y||b.length>0,t.abrupt("return",B({loaderData:q,errors:W},J?{fetchers:new Map(A.fetchers)}:{}));case 36:case"end":return t.stop()}}),t)}))),ce.apply(this,arguments)}function le(e){return A.fetchers.get(e)||Oe}function fe(){return fe=j(M().mark((function n(r,i,a,f,h,d){var p,v,m,y,g,k,b,x,_,S,E,T,N,D,j,z,q,G,Y,J,X,$,ne,re,ie,ae,oe,se,ue,ce,le;return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(ge(),K.delete(r),f.route.action||f.route.lazy){n.next=6;break}return p=tt(405,{method:d.formMethod,pathname:a,routeId:i}),ke(r,i,p),n.abrupt("return");case 6:return v=A.fetchers.get(r),m=xt(d,v),A.fetchers.set(r,m),Z({fetchers:new Map(A.fetchers)}),y=new AbortController,g=Ke(e.history,a,y.signal,d),L.set(r,y),k=F,n.next=16,We("action",g,f,h,s,t,l);case 16:if(b=n.sent,!g.signal.aborted){n.next=20;break}return L.get(r)===y&&L.delete(r),n.abrupt("return");case 20:if(!st(b)){n.next=34;break}if(L.delete(r),!(U>k)){n.next=29;break}return x=_t(void 0),A.fetchers.set(r,x),Z({fetchers:new Map(A.fetchers)}),n.abrupt("return");case 29:return H.add(r),_=bt(d),A.fetchers.set(r,_),Z({fetchers:new Map(A.fetchers)}),n.abrupt("return",de(A,b,{submission:d,isFetchActionRedirect:!0}));case 34:if(!ot(b)){n.next=37;break}return ke(r,i,b.error),n.abrupt("return");case 37:if(!at(b)){n.next=39;break}throw tt(400,{type:"defer-action"});case 39:return S=A.navigation.location||A.location,E=Ke(e.history,S,y.signal),T=o||u,W(N="idle"!==A.navigation.state?ee(T,A.navigation.location,l):A.matches,"Didn't find any matches after fetcher action"),D=++F,V.set(r,D),j=bt(d,b.data),A.fetchers.set(r,j),z=Ve(e.history,A,N,d,S,O,R,P,K,H,T,l,w({},f.route.id,b.data),void 0),q=c(z,2),G=q[0],(Y=q[1]).filter((function(e){return e.key!==r})).forEach((function(e){var t=e.key,n=A.fetchers.get(t),r=bt(void 0,n?n.data:void 0);A.fetchers.set(t,r),L.has(t)&&be(t),e.controller&&L.set(t,e.controller)})),Z({fetchers:new Map(A.fetchers)}),J=function(){return Y.forEach((function(e){return be(e.key)}))},y.signal.addEventListener("abort",J),n.next=55,me(A.matches,N,G,Y,E);case 55:if(X=n.sent,$=X.results,ne=X.loaderResults,re=X.fetcherResults,!y.signal.aborted){n.next=61;break}return n.abrupt("return");case 61:if(y.signal.removeEventListener("abort",J),V.delete(r),L.delete(r),Y.forEach((function(e){return L.delete(e.key)})),!(ie=nt($))){n.next=69;break}return ie.idx>=G.length&&(ae=Y[ie.idx-G.length].key,H.add(ae)),n.abrupt("return",de(A,ie.result));case 69:oe=Xe(A,A.matches,G,ne,void 0,Y,re,Q),se=oe.loaderData,ue=oe.errors,A.fetchers.has(r)&&(ce=_t(b.data),A.fetchers.set(r,ce)),le=Se(D),"loading"===A.navigation.state&&D>U?(W(C,"Expected pending action"),I&&I.abort(),te(A.navigation.location,{matches:N,loaderData:se,errors:ue,fetchers:new Map(A.fetchers)})):(Z(B({errors:ue,loaderData:Ze(A.loaderData,se,N,ue)},le||Y.length>0?{fetchers:new Map(A.fetchers)}:{})),O=!1);case 73:case"end":return n.stop()}}),n)}))),fe.apply(this,arguments)}function he(){return he=j(M().mark((function n(r,i,a,o,u,c){var f,h,d,p,v,m,y,g,k;return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f=A.fetchers.get(r),h=bt(c,f?f.data:void 0),A.fetchers.set(r,h),Z({fetchers:new Map(A.fetchers)}),d=new AbortController,p=Ke(e.history,a,d.signal),L.set(r,d),v=F,n.next=10,We("loader",p,o,u,s,t,l);case 10:if(!at(m=n.sent)){n.next=18;break}return n.next=14,pt(m,p.signal,!0);case 14:if(n.t0=n.sent,n.t0){n.next=17;break}n.t0=m;case 17:m=n.t0;case 18:if(L.get(r)===d&&L.delete(r),!p.signal.aborted){n.next=21;break}return n.abrupt("return");case 21:if(!st(m)){n.next=33;break}if(!(U>v)){n.next=29;break}return y=_t(void 0),A.fetchers.set(r,y),Z({fetchers:new Map(A.fetchers)}),n.abrupt("return");case 29:return H.add(r),n.next=32,de(A,m);case 32:return n.abrupt("return");case 33:if(!ot(m)){n.next=38;break}return g=$e(A.matches,i),A.fetchers.delete(r),Z({fetchers:new Map(A.fetchers),errors:w({},g.route.id,m.error)}),n.abrupt("return");case 38:W(!at(m),"Unhandled fetcher deferred data"),k=_t(m.data),A.fetchers.set(r,k),Z({fetchers:new Map(A.fetchers)});case 42:case"end":return n.stop()}}),n)}))),he.apply(this,arguments)}function de(e,t,n){return ve.apply(this,arguments)}function ve(){return ve=j(M().mark((function t(i,a,o){var s,u,c,f,h,d,p,v,m,y;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=(s=void 0===o?{}:o).submission,c=s.replace,f=s.isFetchActionRedirect,a.revalidate&&(O=!0),W(h=Y(i.location,a.location,B({_isRedirect:!0},f?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!r){t.next=10;break}if(d=!1,a.reloadDocument?d=!0:Pe.test(a.location)&&(p=e.history.createURL(a.location),d=p.origin!==n.location.origin||null==pe(p.pathname,l)),!d){t.next=10;break}return c?n.location.replace(a.location):n.location.assign(a.location),t.abrupt("return");case 10:if(I=null,v=!0===c?_.Replace:_.Push,m=u||gt(i.navigation),!(Ne.has(a.status)&&m&&ft(m.formMethod))){t.next=18;break}return t.next=16,ie(v,h,{submission:B({},m,{formAction:a.location}),preventScrollReset:N});case 16:case 21:t.next=26;break;case 18:if(!f){t.next=23;break}return t.next=21,ie(v,h,{overrideNavigation:kt(h),fetcherSubmission:m,preventScrollReset:N});case 23:return y=kt(h,m),t.next=26,ie(v,h,{overrideNavigation:y,preventScrollReset:N});case 26:case"end":return t.stop()}}),t)}))),ve.apply(this,arguments)}function me(e,t,n,r,i){return ye.apply(this,arguments)}function ye(){return ye=j(M().mark((function n(r,i,a,o,u){var c,f,h;return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([].concat(y(a.map((function(e){return We("loader",u,e,i,s,t,l)}))),y(o.map((function(n){return n.matches&&n.match&&n.controller?We("loader",Ke(e.history,n.path,n.controller.signal),n.match,n.matches,s,t,l):{type:q.error,error:tt(404,{pathname:n.path})}})))));case 2:return c=n.sent,f=c.slice(0,a.length),h=c.slice(a.length),n.next=7,Promise.all([ht(r,a,f,f.map((function(){return u.signal})),!1,A.loaderData),ht(r,o.map((function(e){return e.match})),h,o.map((function(e){return e.controller?e.controller.signal:null})),!0)]);case 7:return n.abrupt("return",{results:c,loaderResults:f,fetcherResults:h});case 8:case"end":return n.stop()}}),n)}))),ye.apply(this,arguments)}function ge(){var e;O=!0,(e=R).push.apply(e,y(Ae())),K.forEach((function(e,t){L.has(t)&&(P.push(t),be(t))}))}function ke(e,t,n){var r=$e(A.matches,t);we(e),Z({errors:w({},r.route.id,n),fetchers:new Map(A.fetchers)})}function we(e){var t=A.fetchers.get(e);!L.has(e)||t&&"loading"===t.state&&V.has(e)||be(e),K.delete(e),V.delete(e),H.delete(e),A.fetchers.delete(e)}function be(e){var t=L.get(e);W(t,"Expected fetch controller: "+e),t.abort(),L.delete(e)}function xe(e){var t,n=z(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=_t(le(r).data);A.fetchers.set(r,i)}}catch(a){n.e(a)}finally{n.f()}}function _e(){var e,t=[],n=!1,r=z(H);try{for(r.s();!(e=r.n()).done;){var i=e.value,a=A.fetchers.get(i);W(a,"Expected fetcher: "+i),"loading"===a.state&&(H.delete(i),t.push(i),n=!0)}}catch(o){r.e(o)}finally{r.f()}return xe(t),n}function Se(e){var t,n=[],r=z(V);try{for(r.s();!(t=r.n()).done;){var i=c(t.value,2),a=i[0];if(i[1]<e){var o=A.fetchers.get(a);W(o,"Expected fetcher: "+a),"loading"===o.state&&(be(a),V.delete(a),n.push(a))}}}catch(s){r.e(s)}finally{r.f()}return xe(n),n.length>0}function Ee(e){A.blockers.delete(e),J.delete(e)}function Ie(e,t){var n=A.blockers.get(e)||Re;W("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);var r=new Map(A.blockers);r.set(e,t),Z({blockers:r})}function Te(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==J.size){J.size>1&&G(!1,"A router only supports one blocker at a time");var i=Array.from(J.entries()),a=c(i[i.length-1],2),o=a[0],s=a[1],u=A.blockers.get(o);if(!u||"proceeding"!==u.state)return s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function Ae(e){var t=[];return Q.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),Q.delete(r))})),t}function Ce(e,t){if(v){var n=v(e,t.map((function(e){return function(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,A.loaderData)})));return n||e.key}return e.key}function Le(e,t){if(p&&m){var n=Ce(e,t);p[n]=m()}}function Ue(e,t){if(p){var n=Ce(e,t),r=p[n];if("number"===typeof r)return r}return null}return E={get basename(){return l},get state(){return A},get routes(){return u},initialize:function(){return h=e.history.listen((function(t){var n=t.action,r=t.location,i=t.delta;if(!X){G(0===J.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=Te({currentLocation:A.location,nextLocation:r,historyAction:n});return a&&null!=i?(X=!0,e.history.go(-1*i),void Ie(a,{state:"blocked",location:r,proceed:function(){Ie(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){var e=new Map(A.blockers);e.set(a,Re),Z({blockers:e})}})):ie(n,r)}X=!1})),A.initialized||ie(_.Pop,A.location),E},subscribe:function(e){return d.add(e),function(){return d.delete(e)}},enableScrollRestoration:function(e,t,n){if(p=e,m=t,v=n||null,!g&&A.navigation===De){g=!0;var r=Ue(A.location,A.matches);null!=r&&Z({restoreScrollPosition:r})}return function(){p=null,m=null,v=null}},navigate:ne,fetch:function(e,t,n,r){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");L.has(e)&&be(e);var a=o||u,s=je(A.location,A.matches,l,f.v7_prependBasename,n,t,null==r?void 0:r.relative),c=ee(a,s,l);if(c){var h=Fe(f.v7_normalizeFormMethod,!0,s,r),d=h.path,p=h.submission,v=h.error;if(v)ke(e,t,v);else{var m=yt(c,d);N=!0===(r&&r.preventScrollReset),p&&ft(p.formMethod)?function(e,t,n,r,i,a){fe.apply(this,arguments)}(e,t,d,m,c,p):(K.set(e,{routeId:t,path:d}),function(e,t,n,r,i,a){he.apply(this,arguments)}(e,t,d,m,c,p))}}else ke(e,t,tt(404,{pathname:s}))},revalidate:function(){ge(),Z({revalidation:"loading"}),"submitting"!==A.navigation.state&&("idle"!==A.navigation.state?ie(C||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation}):ie(A.historyAction,A.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:le,deleteFetcher:we,dispose:function(){h&&h(),d.clear(),I&&I.abort(),A.fetchers.forEach((function(e,t){return we(t)})),A.blockers.forEach((function(e,t){return Ee(t)}))},getBlocker:function(e,t){var n=A.blockers.get(e)||Re;return J.get(e)!==t&&J.set(e,t),n},deleteBlocker:Ee,_internalFetchControllers:L,_internalActiveDeferreds:Q,_internalSetRoutes:function(e){o=$(e,t,void 0,s={})}},E}Symbol("deferred");function je(e,t,n,r,i,a,o){var s,u;if(null!=a&&"path"!==o){s=[];var c,l=z(t);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(s.push(f),f.route.id===a){u=f;break}}}catch(d){l.e(d)}finally{l.f()}}else s=t,u=t[t.length-1];var h=ye(i||".",me(s).map((function(e){return e.pathnameBase})),pe(e.pathname,n)||e.pathname,"path"===o);return null==i&&(h.search=e.search,h.hash=e.hash),null!=i&&""!==i&&"."!==i||!u||!u.route.index||mt(h.search)||(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(h.pathname="/"===h.pathname?n:ge([n,h.pathname])),Q(h)}function Fe(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!lt(r.formMethod))return{path:n,error:tt(405,{method:r.formMethod})};var i,a,o=function(){return{path:n,error:tt(400,{type:"invalid-body"})}},s=r.formMethod||"get",u=e?s.toUpperCase():s.toLowerCase(),l=rt(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!ft(u))return o();var f="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((function(e,t){var n=c(t,2);return""+e+n[0]+"="+n[1]+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:u,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}if("application/json"===r.formEncType){if(!ft(u))return o();try{var h="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:u,formAction:l,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch(v){return o()}}}if(W("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=Ye(r.formData),a=r.formData;else if(r.body instanceof FormData)i=Ye(r.body),a=r.body;else if(r.body instanceof URLSearchParams)a=Qe(i=r.body);else if(null==r.body)i=new URLSearchParams,a=new FormData;else try{a=Qe(i=new URLSearchParams(r.body))}catch(v){return o()}var d={formMethod:u,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(ft(d.formMethod))return{path:n,submission:d};var p=J(n);return t&&p.search&&mt(p.search)&&i.append("index",""),p.search="?"+i,{path:Q(p),submission:d}}function Ue(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function Ve(e,t,n,r,i,a,o,s,u,c,l,f,h,d){var p=d?Object.values(d)[0]:h?Object.values(h)[0]:void 0,v=e.createURL(t.location),m=e.createURL(i),y=d?Object.keys(d)[0]:void 0,g=Ue(n,y).filter((function(e,n){if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||o.some((function(t){return t===e.route.id})))return!0;var i=t.matches[n],s=e;return Be(e,B({currentUrl:v,currentParams:i.params,nextUrl:m,nextParams:s.params},r,{actionResult:p,defaultShouldRevalidate:a||v.pathname+v.search===m.pathname+m.search||v.search!==m.search||ze(i,s)}))})),k=[];return u.forEach((function(e,i){if(n.some((function(t){return t.route.id===e.routeId}))){var o=ee(l,e.path,f);if(o){var u=t.fetchers.get(i),h=yt(o,e.path);!c.has(i)&&(!!s.includes(i)||(u&&"idle"!==u.state&&void 0===u.data?a:Be(h,B({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:a}))))&&k.push({key:i,routeId:e.routeId,path:e.path,matches:o,match:h,controller:new AbortController})}else k.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null})}})),[g,k]}function ze(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Be(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function qe(e,t,n){return He.apply(this,arguments)}function He(){return He=j(M().mark((function e(t,n,r){var i,a,o,s,u,c;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.lazy();case 4:if(i=e.sent,t.lazy){e.next=7;break}return e.abrupt("return");case 7:for(s in W(a=r[t.id],"No route found in manifest"),o={},i)u=a[s],G(!(c=void 0!==u&&"hasErrorBoundary"!==s),'Route "'+a.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),c||Z.has(s)||(o[s]=i[s]);Object.assign(a,o),Object.assign(a,B({},n(a),{lazy:void 0}));case 13:case"end":return e.stop()}}),e)}))),He.apply(this,arguments)}function We(e,t,n,r,i,a,o,s){return Ge.apply(this,arguments)}function Ge(){return Ge=j(M().mark((function e(t,n,r,i,a,o,s,u){var c,l,f,h,d,p,v,m,y,g,k,w,b,x,_,S,E,I;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===u&&(u={}),h=function(e){var t,i=new Promise((function(e,n){return t=n}));return f=function(){return t()},n.signal.addEventListener("abort",f),Promise.race([e({request:n,params:r.params,context:u.requestContext}),i])},e.prev=2,d=r.route[t],!r.route.lazy){e.next=30;break}if(!d){e.next=12;break}return e.next=8,Promise.all([h(d),qe(r.route,o,a)]);case 8:p=e.sent,l=p[0],e.next=28;break;case 12:return e.next=14,qe(r.route,o,a);case 14:if(!(d=r.route[t])){e.next=21;break}return e.next=18,h(d);case 18:l=e.sent,e.next=28;break;case 21:if("action"!==t){e.next=27;break}throw v=new URL(n.url),m=v.pathname+v.search,tt(405,{method:n.method,pathname:m,routeId:r.route.id});case 27:return e.abrupt("return",{type:q.data,data:void 0});case 28:e.next=39;break;case 30:if(d){e.next=36;break}throw y=new URL(n.url),tt(404,{pathname:y.pathname+y.search});case 36:return e.next=38,h(d);case 38:l=e.sent;case 39:W(void 0!==l,"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=46;break;case 42:e.prev=42,e.t0=e.catch(2),c=q.error,l=e.t0;case 46:return e.prev=46,f&&n.signal.removeEventListener("abort",f),e.finish(46);case 49:if(!ct(l)){e.next=75;break}if(g=l.status,!Ce.has(g)){e.next=59;break}if(W(k=l.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),Pe.test(k)?u.isStaticRequest||(w=new URL(n.url),b=k.startsWith("//")?new URL(w.protocol+k):new URL(k),x=null!=pe(b.pathname,s),b.origin===w.origin&&x&&(k=b.pathname+b.search+b.hash)):k=je(new URL(n.url),i.slice(0,i.indexOf(r)+1),s,!0,k),!u.isStaticRequest){e.next=58;break}throw l.headers.set("Location",k),l;case 58:return e.abrupt("return",{type:q.redirect,status:g,location:k,revalidate:null!==l.headers.get("X-Remix-Revalidate"),reloadDocument:null!==l.headers.get("X-Remix-Reload-Document")});case 59:if(!u.isRouteRequest){e.next=62;break}throw{type:c===q.error?q.error:q.data,response:l};case 62:if(!(S=l.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(S)){e.next=69;break}return e.next=66,l.json();case 66:_=e.sent,e.next=72;break;case 69:return e.next=71,l.text();case 71:_=e.sent;case 72:if(c!==q.error){e.next=74;break}return e.abrupt("return",{type:c,error:new _e(g,l.statusText,_),headers:l.headers});case 74:return e.abrupt("return",{type:q.data,data:_,statusCode:l.status,headers:l.headers});case 75:if(c!==q.error){e.next=77;break}return e.abrupt("return",{type:c,error:l});case 77:if(!ut(l)){e.next=79;break}return e.abrupt("return",{type:q.deferred,deferredData:l,statusCode:null==(E=l.init)?void 0:E.status,headers:(null==(I=l.init)?void 0:I.headers)&&new Headers(l.init.headers)});case 79:return e.abrupt("return",{type:q.data,data:l});case 80:case"end":return e.stop()}}),e,null,[[2,42,46,49]])}))),Ge.apply(this,arguments)}function Ke(e,t,n,r){var i=e.createURL(rt(t)).toString(),a={signal:n};if(r&&ft(r.formMethod)){var o=r.formMethod,s=r.formEncType;a.method=o.toUpperCase(),"application/json"===s?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(r.json)):"text/plain"===s?a.body=r.text:"application/x-www-form-urlencoded"===s&&r.formData?a.body=Ye(r.formData):a.body=r.formData}return new Request(i,a)}function Ye(e){var t,n=new URLSearchParams,r=z(e.entries());try{for(r.s();!(t=r.n()).done;){var i=c(t.value,2),a=i[0],o=i[1];n.append(a,"string"===typeof o?o:o.name)}}catch(s){r.e(s)}finally{r.f()}return n}function Qe(e){var t,n=new FormData,r=z(e.entries());try{for(r.s();!(t=r.n()).done;){var i=c(t.value,2),a=i[0],o=i[1];n.append(a,o)}}catch(s){r.e(s)}finally{r.f()}return n}function Je(e,t,n,r,i){var a,o={},s=null,u=!1,c={};return n.forEach((function(n,l){var f=t[l].route.id;if(W(!st(n),"Cannot handle redirect results in processLoaderData"),ot(n)){var h=$e(e,f),d=n.error;r&&(d=Object.values(r)[0],r=void 0),null==(s=s||{})[h.route.id]&&(s[h.route.id]=d),o[f]=void 0,u||(u=!0,a=Se(n.error)?n.error.status:500),n.headers&&(c[f]=n.headers)}else at(n)?(i.set(f,n.deferredData),o[f]=n.deferredData.data):o[f]=n.data,null==n.statusCode||200===n.statusCode||u||(a=n.statusCode),n.headers&&(c[f]=n.headers)})),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function Xe(e,t,n,r,i,a,o,s){for(var u=Je(t,n,r,i,s),c=u.loaderData,l=u.errors,f=0;f<a.length;f++){var h=a[f],d=h.key,p=h.match,v=h.controller;W(void 0!==o&&void 0!==o[f],"Did not find corresponding fetcher result");var m=o[f];if(!v||!v.signal.aborted)if(ot(m)){var y=$e(e.matches,null==p?void 0:p.route.id);l&&l[y.route.id]||(l=B({},l,w({},y.route.id,m.error))),e.fetchers.delete(d)}else if(st(m))W(!1,"Unhandled fetcher revalidation redirect");else if(at(m))W(!1,"Unhandled fetcher deferred data");else{var g=_t(m.data);e.fetchers.set(d,g)}}return{loaderData:c,errors:l}}function Ze(e,t,n,r){var i,a=B({},t),o=z(n);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.route.id;if(t.hasOwnProperty(u)?void 0!==t[u]&&(a[u]=t[u]):void 0!==e[u]&&s.route.loader&&(a[u]=e[u]),r&&r.hasOwnProperty(u))break}}catch(c){o.e(c)}finally{o.f()}return a}function $e(e,t){return(t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):y(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function et(e){var t=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function tt(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o=n.type,s="Unknown Server Error",u="Unknown @remix-run/router error";return 400===e?(s="Bad Request",a&&r&&i?u="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o?u="defer() is not supported in actions":"invalid-body"===o&&(u="Unable to encode submission body")):403===e?(s="Forbidden",u='Route "'+i+'" does not match URL "'+r+'"'):404===e?(s="Not Found",u='No route matches URL "'+r+'"'):405===e&&(s="Method Not Allowed",a&&r&&i?u="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(u='Invalid request method "'+a.toUpperCase()+'"')),new _e(e||500,s,new Error(u),!0)}function nt(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(st(n))return{result:n,idx:t}}}function rt(e){return Q(B({},"string"===typeof e?J(e):e,{hash:""}))}function it(e,t){return e.pathname===t.pathname&&e.search===t.search&&(""===e.hash?""!==t.hash:e.hash===t.hash||""!==t.hash)}function at(e){return e.type===q.deferred}function ot(e){return e.type===q.error}function st(e){return(e&&e.type)===q.redirect}function ut(e){var t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}function ct(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function lt(e){return Ae.has(e.toLowerCase())}function ft(e){return Ie.has(e.toLowerCase())}function ht(e,t,n,r,i,a){return dt.apply(this,arguments)}function dt(){return(dt=j(M().mark((function e(t,n,r,i,a,o){var s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=M().mark((function e(s){var u,c,l,f,h;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r[s],c=n[s]){e.next=4;break}return e.abrupt("return",1);case 4:if(l=t.find((function(e){return e.route.id===c.route.id})),f=null!=l&&!ze(l,c)&&void 0!==(o&&o[c.route.id]),!at(u)||!a&&!f){e.next=11;break}return W(h=i[s],"Expected an AbortSignal for revalidating fetcher deferred result"),e.next=11,pt(u,h,a).then((function(e){e&&(r[s]=e||r[s])}));case 11:case"end":return e.stop()}}),e)})),u=0;case 2:if(!(u<r.length)){e.next=9;break}return e.delegateYield(s(u),"t0",4);case 4:if(!e.t0){e.next=6;break}return e.abrupt("continue",6);case 6:u++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t,n){return vt.apply(this,arguments)}function vt(){return vt=j(M().mark((function e(t,n,r){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:q.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:q.error,error:e.t0});case 14:return e.abrupt("return",{type:q.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])}))),vt.apply(this,arguments)}function mt(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function yt(e,t){var n="string"===typeof t?J(t).search:t.search;if(e[e.length-1].route.index&&mt(n||""))return e[e.length-1];var r=me(e);return r[r.length-1]}function gt(e){var t=e.formMethod,n=e.formAction,r=e.formEncType,i=e.text,a=e.formData,o=e.json;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=a?{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}:void 0}function kt(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function wt(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function bt(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function xt(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0}}function _t(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},St.apply(this,arguments)}var Et=t.createContext(null);var It=t.createContext(null);var Tt=t.createContext(null);var At=t.createContext(null);var Ct=t.createContext(null);var Nt=t.createContext({outlet:null,matches:[],isDataRoute:!1});var Dt=t.createContext(null);function Ot(){return null!=t.useContext(Ct)}function Rt(){return Ot()||W(!1),t.useContext(Ct).location}function Pt(e){t.useContext(At).static||t.useLayoutEffect(e)}function Mt(){return t.useContext(Nt).isDataRoute?function(){var e=Wt(qt.UseNavigateStable).router,n=Kt(Ht.UseNavigateStable),r=t.useRef(!1);Pt((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,St({fromRouteId:n},i)))}),[e,n]);return i}():function(){Ot()||W(!1);var e=t.useContext(Et),n=t.useContext(At),r=n.basename,i=n.navigator,a=t.useContext(Nt).matches,o=Rt().pathname,s=JSON.stringify(me(a).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);return Pt((function(){u.current=!0})),t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=ye(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:ge([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e])}()}function Lt(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(Nt).matches,a=Rt().pathname,o=JSON.stringify(me(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return ye(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function jt(e,n,r){Ot()||W(!1);var i,a=t.useContext(At).navigator,o=t.useContext(Nt).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,Rt());if(n){var f,h="string"===typeof n?J(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||W(!1),i=h}else i=l;var d=i.pathname||"/",p=ee(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=Bt(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:ge([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ge([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(Ct.Provider,{value:{location:St({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:_.Pop}},v):v}function Ft(){var e=function(){var e,n=t.useContext(Dt),r=Gt(Ht.UseRouteError),i=Kt(Ht.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=Se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Ut=t.createElement(Ft,null),Vt=function(e){N(r,e);var n=P(r);function r(e){var t;return I(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return A(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Nt.Provider,{value:this.props.routeContext},t.createElement(Dt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function zt(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(Et);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Nt.Provider,{value:n},i)}function Bt(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||W(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Ut);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(zt,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Vt,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var qt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qt||{}),Ht=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ht||{});function Wt(e){var n=t.useContext(Et);return n||W(!1),n}function Gt(e){var n=t.useContext(It);return n||W(!1),n}function Kt(e){var n=function(e){var n=t.useContext(Nt);return n||W(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||W(!1),r.route.id}var Yt=r.startTransition;function Qt(e){var n=e.fallbackElement,r=e.router,i=e.future,a=c(t.useState(r.state),2),o=a[0],s=a[1],u=(i||{}).v7_startTransition,l=t.useCallback((function(e){u&&Yt?Yt((function(){return s(e)})):s(e)}),[s,u]);t.useLayoutEffect((function(){return r.subscribe(l)}),[r,l]);var f=t.useMemo((function(){return{createHref:r.createHref,encodeLocation:r.encodeLocation,go:function(e){return r.navigate(e)},push:function(e,t,n){return r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})},replace:function(e,t,n){return r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})}}}),[r]),h=r.basename||"/",d=t.useMemo((function(){return{router:r,navigator:f,static:!1,basename:h}}),[r,f,h]);return t.createElement(t.Fragment,null,t.createElement(Et.Provider,{value:d},t.createElement(It.Provider,{value:o},t.createElement(Xt,{basename:h,location:o.location,navigationType:o.historyAction,navigator:f},o.initialized?t.createElement(Jt,{routes:r.routes,state:o}):n))),null)}function Jt(e){return jt(e.routes,void 0,e.state)}function Xt(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?_.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;Ot()&&W(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=J(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,w=void 0===k?"":k,b=p.state,x=void 0===b?null:b,S=p.key,E=void 0===S?"default":S,I=t.useMemo((function(){var e=pe(m,h);return null==e?null:{location:{pathname:e,search:g,hash:w,state:x,key:E},navigationType:u}}),[h,m,g,w,x,E,u]);return null==I?null:t.createElement(At.Provider,{value:d},t.createElement(Ct.Provider,{children:a,value:I}))}var Zt=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Zt||{}),$t=new Promise((function(){}));t.Component;function en(e){var n={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(n,{element:t.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:t.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n}var tn=n(482),nn=n.n(tn),rn=function(e){return(0,f.jsx)(nn(),{value:e.value,displayType:"text",thousandSeparator:!0,prefix:"\u20b9",decimalScale:2})};var an=n.p+"static/media/loginmsg.7d3158e69144600ce397f0ef50471f00.svg",on=n.p+"static/media/empty-cart.59a4de4a2f7c0b4dfcce.png";function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sn.apply(this,arguments)}function un(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var cn=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function ln(){var e,t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=sn({},t,{errors:fn(t.errors)})),t}function fn(e){if(!e)return null;for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=c(r[n],2),a=i[0],o=i[1];if(o&&"RouteErrorResponse"===o.__type)t[a]=new _e(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){var s=window[o.__subType];if("function"===typeof s)try{var u=new s(o.message);u.stack="",t[a]=u}catch(f){}}if(null==t[a]){var l=new Error(o.message);l.stack="",t[a]=l}}else t[a]=o}return t}r.startTransition;var hn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,dn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pn=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=un(e,cn),d=t.useContext(At).basename,p=!1;if("string"===typeof l&&dn.test(l)&&(r=l,hn))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=pe(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(w){}var g=function(e,n){var r=(void 0===n?{}:n).relative;Ot()||W(!1);var i=t.useContext(At),a=i.basename,o=i.navigator,s=Lt(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ge([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=Mt(),l=Rt(),f=Lt(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:Q(l)===Q(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return t.createElement("a",sn({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var vn,mn;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(vn||(vn={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(mn||(mn={}));var yn=function(){return(0,f.jsxs)("div",{className:"error-message",children:[(0,f.jsx)("img",{src:on,alt:""}),(0,f.jsx)("h2",{children:"Your Amazon Cart is empty"}),(0,f.jsx)("div",{className:"btn-group",children:(0,f.jsx)(pn,{to:"/",children:(0,f.jsx)("button",{className:"btn signin-btn",children:"Add items"})})})]})},gn=function(){return(0,f.jsxs)("div",{className:"error-message",children:[(0,f.jsx)("img",{src:an,alt:""}),(0,f.jsx)("h2",{children:"Please login to proceed"}),(0,f.jsxs)("div",{className:"btn-group",children:[(0,f.jsx)(pn,{to:"/login",children:(0,f.jsx)("button",{className:"btn signin-btn",children:"Sign-in to your account"})}),(0,f.jsx)(pn,{to:"/register",children:(0,f.jsx)("button",{className:"btn create-btn",children:"Sign-up"})})]})]})},kn=function(){var e,t=c(p(),2),n=t[0],r=n.basket,i=n.user,a=(t[1],Mt());return e=0!=r.length&&S(r)<1e3?49:0,(0,f.jsx)("div",{className:"Checkout",children:i?0!==(null===r||void 0===r?void 0:r.length)?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"left-side",children:(0,f.jsxs)("div",{className:"left-content",children:[(0,f.jsx)("h1",{children:"Your shopping Basket"}),(0,f.jsx)("hr",{}),(0,f.jsx)("div",{className:"cart-product",children:r.map((function(e){return(0,f.jsx)(v,{id:e.id,title:e.title,price:e.price,image:e.image,rating:e.rating})}))})]})}),(0,f.jsx)("div",{className:"right-side",children:(0,f.jsxs)("div",{className:"order-summary",children:[(0,f.jsx)("button",{onClick:function(e){return a("/payments")},children:"Proceed to Checkout"}),(0,f.jsxs)("p",{children:["By placing your order, you agree to Amazon.in's ",(0,f.jsx)("span",{children:"privacy notice"})," and  ",(0,f.jsx)("span",{children:"condition of use"})," "]}),(0,f.jsx)("hr",{}),(0,f.jsx)("h3",{children:"Order summary"}),(0,f.jsxs)("div",{className:"options",children:[(0,f.jsxs)("h4",{children:["Items (",r.length,") :"]}),(0,f.jsxs)("h5",{children:[" \u20b9",S(r)]})]}),(0,f.jsxs)("div",{className:"options",children:[(0,f.jsx)("h4",{children:"Shipping Charges :"}),(0,f.jsxs)("h5",{children:[" \u20b9",e]})]}),(0,f.jsxs)("div",{className:"options",children:[(0,f.jsx)("h4",{children:"Tax :"}),(0,f.jsxs)("h5",{children:[(0,f.jsx)(rn,{value:.12*S(r)})," "]})]}),(0,f.jsxs)("div",{className:"options",children:[(0,f.jsx)("h4",{children:"Discount (10%) :"}),(0,f.jsxs)("h5",{children:[(0,f.jsx)(rn,{value:.1*S(r)})," "]})]}),(0,f.jsxs)("div",{className:"gift",children:[(0,f.jsx)("input",{type:"checkbox"}),(0,f.jsx)("span",{children:"This order contains a gift"})]}),(0,f.jsx)("hr",{}),(0,f.jsxs)("div",{className:"options total",children:[(0,f.jsx)("h4",{children:"Order Total :"}),(0,f.jsx)("h5",{children:(0,f.jsx)(rn,{value:Math.round(S(r)+e+.18*S(r)-.1*S(r))})})]})]})})]}):(0,f.jsx)(yn,{}):(0,f.jsx)(gn,{})})},wn=n.p+"static/media/logo.64a0d895e5f0098d5422.png",bn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xn=t.createContext&&t.createContext(bn),_n=function(){return _n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_n.apply(this,arguments)},Sn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function En(e){return e&&e.map((function(e,n){return t.createElement(e.tag,_n({key:n},e.attr),En(e.child))}))}function In(e){return function(n){return t.createElement(Tn,_n({attr:_n({},e.attr)},n),En(e.child))}}function Tn(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=Sn(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",_n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:_n(_n({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==xn?t.createElement(xn.Consumer,null,(function(e){return n(e)})):n(bn)}function An(e){return In({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}}]})(e)}function Cn(e){return In({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49A.996.996 0 0020.01 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}function Nn(e){return In({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"}}]})(e)}var Dn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},On={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Dn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Rn;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Rn=function(e){N(n,e);var t=P(n);function n(){var e;return I(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return A(n)}(U(Error)),Pn=function(e){return function(e){var t=Dn(e);return On.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Mn=function(e){try{return On.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ln(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ln(e[n],t[n]));return e}var jn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Fn=function(){try{return jn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Mn(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Un=function(){var e;return null===(e=Fn())||void 0===e?void 0:e.config},Vn=function(){function e(){var t=this;I(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return A(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function zn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Bn(){var e,t=null===(e=Fn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function qn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Hn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Wn(){var e=zn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Gn(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Kn=function(e){N(n,e);var t=P(n);function n(e,r,i){var a;return I(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(R(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(R(a),Yn.prototype.create),a}return A(n)}(U(Error)),Yn=function(){function e(t,n,r){I(this,e),this.service=t,this.serviceName=n,this.errors=r}return A(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Qn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Kn(n,a,t)}}]),e}();var Qn=/\{\$([^}]+)}/g;function Jn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xn(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Zn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if($n(s)&&$n(u)){if(!Zn(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function $n(e){return null!==e&&"object"===typeof e}function er(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function tr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function nr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function rr(e,t){var n=new ir(e,t);return n.subscribe.bind(n)}var ir=function(){function e(t,n){var r=this;I(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return A(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=z(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ar),void 0===r.error&&(r.error=ar),void 0===r.complete&&(r.complete=ar);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ar(){}function or(e){return e&&e._delegate?e._delegate:e}var sr=function(){function e(t,n,r){I(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return A(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ur="[DEFAULT]",cr=function(){function e(t,n){I(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return A(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Vn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ur})}catch(u){}var t,n=z(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(y(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),y(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=z(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=z(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ur?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur;return this.component?this.component.multipleInstances?e:ur:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var lr,fr,hr=function(){function e(t){I(this,e),this.name=t,this.providers=new Map}return A(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new cr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),dr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(fr||(fr={}));var pr={debug:fr.DEBUG,verbose:fr.VERBOSE,info:fr.INFO,warn:fr.WARN,error:fr.ERROR,silent:fr.SILENT},vr=fr.INFO,mr=(w(lr={},fr.DEBUG,"log"),w(lr,fr.VERBOSE,"log"),w(lr,fr.INFO,"info"),w(lr,fr.WARN,"warn"),w(lr,fr.ERROR,"error"),lr),yr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=mr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},gr=function(){function e(t){I(this,e),this.name=t,this._logLevel=vr,this._logHandler=yr,this._userLogHandler=null,dr.push(this)}return A(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in fr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?pr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fr.DEBUG].concat(t)),this._logHandler.apply(this,[this,fr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,fr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fr.INFO].concat(t)),this._logHandler.apply(this,[this,fr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fr.WARN].concat(t)),this._logHandler.apply(this,[this,fr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,fr.ERROR].concat(t)),this._logHandler.apply(this,[this,fr.ERROR].concat(t))}}]),e}();var kr,wr,br=function(e,t){return t.some((function(t){return e instanceof t}))};var xr=new WeakMap,_r=new WeakMap,Sr=new WeakMap,Er=new WeakMap,Ir=new WeakMap;var Tr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return _r.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Sr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ar(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(wr||(wr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Dr(this),n),Nr(xr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nr(e.apply(Dr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Dr(this),t].concat(r));return Sr.set(a,t.sort?t.sort():[t]),Nr(a)}}function Cr(e){return"function"===typeof e?Ar(e):(e instanceof IDBTransaction&&function(e){if(!_r.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));_r.set(e,t)}}(e),br(e,kr||(kr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Tr):e)}function Nr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Nr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&xr.set(t,e)})).catch((function(){})),Ir.set(t,e),t}(e);if(Er.has(e))return Er.get(e);var t=Cr(e);return t!==e&&(Er.set(e,t),Ir.set(t,e)),t}var Dr=function(e){return Ir.get(e)};var Or,Rr,Pr=["get","getKey","getAll","getAllKeys","count"],Mr=["put","add","delete","clear"],Lr=new Map;function jr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Lr.get(t))return Lr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Mr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Pr.includes(n))){var a=function(){var e=j(M().mark((function e(t){var a,o,s,u,c,l,f=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Lr.set(t,a),a}}}Tr=function(e){return x(x({},e),{},{get:function(t,n,r){return jr(t,n)||e.get(t,n,r)},has:function(t,n){return!!jr(t,n)||e.has(t,n)}})}(Tr);var Fr=function(){function e(t){I(this,e),this.container=t}return A(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ur="@firebase/app",Vr="0.9.16",zr=new gr("@firebase/app"),Br="[DEFAULT]",qr=(w(Or={},Ur,"fire-core"),w(Or,"@firebase/app-compat","fire-core-compat"),w(Or,"@firebase/analytics","fire-analytics"),w(Or,"@firebase/analytics-compat","fire-analytics-compat"),w(Or,"@firebase/app-check","fire-app-check"),w(Or,"@firebase/app-check-compat","fire-app-check-compat"),w(Or,"@firebase/auth","fire-auth"),w(Or,"@firebase/auth-compat","fire-auth-compat"),w(Or,"@firebase/database","fire-rtdb"),w(Or,"@firebase/database-compat","fire-rtdb-compat"),w(Or,"@firebase/functions","fire-fn"),w(Or,"@firebase/functions-compat","fire-fn-compat"),w(Or,"@firebase/installations","fire-iid"),w(Or,"@firebase/installations-compat","fire-iid-compat"),w(Or,"@firebase/messaging","fire-fcm"),w(Or,"@firebase/messaging-compat","fire-fcm-compat"),w(Or,"@firebase/performance","fire-perf"),w(Or,"@firebase/performance-compat","fire-perf-compat"),w(Or,"@firebase/remote-config","fire-rc"),w(Or,"@firebase/remote-config-compat","fire-rc-compat"),w(Or,"@firebase/storage","fire-gcs"),w(Or,"@firebase/storage-compat","fire-gcs-compat"),w(Or,"@firebase/firestore","fire-fst"),w(Or,"@firebase/firestore-compat","fire-fst-compat"),w(Or,"fire-js","fire-js"),w(Or,"firebase","fire-js-all"),Or),Hr=new Map,Wr=new Map;function Gr(e,t){try{e.container.addComponent(t)}catch(n){zr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Kr(e,t){e.container.addOrOverwriteComponent(t)}function Yr(e){var t=e.name;if(Wr.has(t))return zr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Wr.set(t,e);var n,r=z(Hr.values());try{for(r.s();!(n=r.n()).done;){Gr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Qr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Br;Qr(e,t).clearInstance(n)}function Xr(){Wr.clear()}var Zr=(w(Rr={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),w(Rr,"bad-app-name","Illegal App name: '{$appName}"),w(Rr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),w(Rr,"app-deleted","Firebase App named '{$appName}' already deleted"),w(Rr,"no-options","Need to provide options, when not being deployed to hosting via source."),w(Rr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),w(Rr,"invalid-log-argument","First argument to `onLog` must be null or a function."),w(Rr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),w(Rr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),w(Rr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),w(Rr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Rr),$r=new Yn("app","Firebase",Zr),ei=function(){function e(t,n,r){var i=this;I(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sr("app",(function(){return i}),"PUBLIC"))}return A(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}]),e}(),ti="10.2.0";function ni(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Br,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw $r.create("bad-app-name",{appName:String(i)});if(n||(n=Un()),!n)throw $r.create("no-options");var a=Hr.get(i);if(a){if(Zn(n,a.options)&&Zn(r,a.config))return a;throw $r.create("duplicate-app",{appName:i})}var o,s=new hr(i),u=z(Wr.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new ei(n,r,s);return Hr.set(i,l),l}function ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Br,t=Hr.get(e);if(!t&&e===Br&&Un())return ni();if(!t)throw $r.create("no-app",{appName:e});return t}function ii(){return Array.from(Hr.values())}function ai(e){return oi.apply(this,arguments)}function oi(){return(oi=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Hr.has(n)){e.next=6;break}return Hr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function si(e,t,n){var r,i=null!==(r=qr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void zr.warn(s.join(" "))}Yr(new sr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ui(e,t){if(null!==e&&"function"!==typeof e)throw $r.create("invalid-log-argument");!function(e,t){var n,r=z(dr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=pr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:fr[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ci(e){var t;t=e,dr.forEach((function(e){e.setLogLevel(t)}))}var li="firebase-heartbeat-database",fi=1,hi="firebase-heartbeat-store",di=null;function pi(){return di||(di=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Nr(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Nr(s.result),e.oldVersion,e.newVersion,Nr(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(li,fi,{upgrade:function(e,t){if(0===t)e.createObjectStore(hi)}}).catch((function(e){throw $r.create("idb-open",{originalErrorMessage:e.message})}))),di}function vi(e){return mi.apply(this,arguments)}function mi(){return mi=j(M().mark((function e(t){var n,r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pi();case 3:return n=e.sent,e.next=6,n.transaction(hi).objectStore(hi).get(ki(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Kn?zr.warn(e.t0.message):(i=$r.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),zr.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),mi.apply(this,arguments)}function yi(e,t){return gi.apply(this,arguments)}function gi(){return gi=j(M().mark((function e(t,n){var r,i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pi();case 3:return r=e.sent,i=r.transaction(hi,"readwrite"),a=i.objectStore(hi),e.next=8,a.put(n,ki(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Kn?zr.warn(e.t0.message):(o=$r.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),zr.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),gi.apply(this,arguments)}function ki(e){return"".concat(e.name,"!").concat(e.options.appId)}var wi=function(){function e(t){var n=this;I(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ei(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return A(e,[{key:"triggerHeartbeat",value:function(){var e=j(M().mark((function e(){var t,n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=bi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=j(M().mark((function e(){var t,n,r,i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=bi(),n=xi(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Pn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bi(){return(new Date).toISOString().substring(0,10)}function xi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=z(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ii(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Ii(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var _i,Si,Ei=function(){function e(t){I(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return A(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,vi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=j(M().mark((function e(t){var n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",yi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=j(M().mark((function e(t){var n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",yi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(y(r.heartbeats),y(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ii(e){return Pn(JSON.stringify({version:2,heartbeats:e})).length}_i="",Yr(new sr("platform-logger",(function(e){return new Fr(e)}),"PRIVATE")),Yr(new sr("heartbeat",(function(e){return new wi(e)}),"PRIVATE")),si(Ur,Vr,_i),si(Ur,Vr,"esm2017"),si("fire-js","");var Ti=function(){function e(t,n){var r=this;I(this,e),this._delegate=t,this.firebase=n,Gr(t,new sr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return A(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ai(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Br;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Br;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Gr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Kr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ai=(w(Si={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),w(Si,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Si),Ci=new Yn("app-compat","Firebase",Ai);var Ni=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ni(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Jn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:si,setLogLevel:ci,onLog:ui,apps:null,SDK_VERSION:ti,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Yr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ci.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ln(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Jn(n,e=e||Br))throw Ci.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ti);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ln(n,e)},createSubscribe:rr,ErrorFactory:Yn,deepExtend:Ln}),n}(),Di=new gr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Di.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Oi=self.firebase.SDK_VERSION;Oi&&Oi.indexOf("LITE")>=0&&Di.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ri=Ni;!function(e){si("@firebase/app-compat","0.2.16",e)}();function Pi(){return Pi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Pi.apply(this,arguments)}Ri.registerVersion("firebase","10.2.0","app-compat");function Mi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Li,ji={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Fi="EMAIL_SIGNIN",Ui="PASSWORD_RESET",Vi="RECOVER_EMAIL",zi="REVERT_SECOND_FACTOR_ADDITION",Bi="VERIFY_AND_CHANGE_EMAIL",qi="VERIFY_EMAIL";function Hi(e){return void 0!==e&&void 0!==e.getResponse}function Wi(e){return void 0!==e&&void 0!==e.enterprise}var Gi=A((function e(t){if(I(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Ki(){return w({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Yi=function(){var e;return w(e={},"admin-restricted-operation","This operation is restricted to administrators only."),w(e,"argument-error",""),w(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),w(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),w(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),w(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),w(e,"cordova-not-ready","Cordova framework is not ready."),w(e,"cors-unsupported","This browser is not supported."),w(e,"credential-already-in-use","This credential is already associated with a different user account."),w(e,"custom-token-mismatch","The custom token corresponds to a different audience."),w(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),w(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),w(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),w(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),w(e,"email-already-in-use","The email address is already in use by another account."),w(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),w(e,"expired-action-code","The action code has expired."),w(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),w(e,"internal-error","An internal AuthError has occurred."),w(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),w(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),w(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),w(e,"invalid-auth-event","An internal AuthError has occurred."),w(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),w(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),w(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),w(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),w(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),w(e,"invalid-email","The email address is badly formatted."),w(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),w(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),w(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),w(e,"invalid-credential","The supplied auth credential is malformed or has expired."),w(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),w(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),w(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),w(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),w(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),w(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),w(e,"wrong-password","The password is invalid or the user does not have a password."),w(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),w(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),w(e,"invalid-provider-id","The specified provider ID is invalid."),w(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),w(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),w(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),w(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),w(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),w(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),w(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),w(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),w(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),w(e,"missing-continue-uri","A continue URL must be provided in the request."),w(e,"missing-iframe-start","An internal AuthError has occurred."),w(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),w(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),w(e,"missing-password","A non-empty password must be provided"),w(e,"missing-multi-factor-info","No second factor identifier is provided."),w(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),w(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),w(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),w(e,"app-deleted","This instance of FirebaseApp has been deleted."),w(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),w(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),w(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),w(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),w(e,"no-auth-event","An internal AuthError has occurred."),w(e,"no-such-provider","User was not linked to an account with the given provider."),w(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),w(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),w(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),w(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),w(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),w(e,"provider-already-linked","User can only be linked to one identity for the given provider."),w(e,"quota-exceeded","The project's quota for this operation has been exceeded."),w(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),w(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),w(e,"rejected-credential","The request contains malformed or mismatching credentials."),w(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),w(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),w(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),w(e,"timeout","The operation has timed out."),w(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),w(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),w(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),w(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),w(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),w(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),w(e,"unverified-email","The operation requires a verified email."),w(e,"user-cancelled","The user did not grant your application the permissions it requested."),w(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),w(e,"user-disabled","The user account has been disabled by an administrator."),w(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),w(e,"user-signed-out",""),w(e,"weak-password","The password must be 6 characters long or more."),w(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),w(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),w(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),w(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),w(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),w(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),w(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),w(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),w(e,"invalid-req-type","Invalid request parameters."),w(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),w(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),w(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},Qi=Ki,Ji=new Yn("auth","Firebase",Ki()),Xi=new gr("@firebase/auth");function Zi(e){if(Xi.logLevel<=fr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xi.warn.apply(Xi,["Auth (".concat(ti,"): ").concat(e)].concat(n))}}function $i(e){if(Xi.logLevel<=fr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xi.error.apply(Xi,["Auth (".concat(ti,"): ").concat(e)].concat(n))}}function ea(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ia.apply(void 0,[e].concat(n))}function ta(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ia.apply(void 0,[e].concat(n))}function na(e,t,n){var r=Object.assign(Object.assign({},Qi()),w({},t,n));return new Yn("auth","Firebase",r).create(t,{appName:e.name})}function ra(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ea(e,"argument-error"),na(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ia(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=y(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(y(o)))}return Ji.create.apply(Ji,[e].concat(n))}function aa(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ia.apply(void 0,[t].concat(r))}}function oa(e){var t="INTERNAL ASSERTION FAILED: "+e;throw $i(t),new Error(t)}function sa(e,t){e||oa(t)}function ua(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ca(){return"http:"===la()||"https:"===la()}function la(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var fa=function(){function e(t,n){I(this,e),this.shortDelay=t,this.longDelay=n,sa(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())||Hn()}return A(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ca()||qn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ha(e,t){sa(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var da=function(){function e(){I(this,e)}return A(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),pa=(w(Li={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),w(Li,"MISSING_CUSTOM_TOKEN","internal-error"),w(Li,"INVALID_IDENTIFIER","invalid-email"),w(Li,"MISSING_CONTINUE_URI","internal-error"),w(Li,"INVALID_PASSWORD","wrong-password"),w(Li,"MISSING_PASSWORD","missing-password"),w(Li,"EMAIL_EXISTS","email-already-in-use"),w(Li,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),w(Li,"INVALID_IDP_RESPONSE","invalid-credential"),w(Li,"INVALID_PENDING_TOKEN","invalid-credential"),w(Li,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),w(Li,"MISSING_REQ_TYPE","internal-error"),w(Li,"EMAIL_NOT_FOUND","user-not-found"),w(Li,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),w(Li,"EXPIRED_OOB_CODE","expired-action-code"),w(Li,"INVALID_OOB_CODE","invalid-action-code"),w(Li,"MISSING_OOB_CODE","internal-error"),w(Li,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),w(Li,"INVALID_ID_TOKEN","invalid-user-token"),w(Li,"TOKEN_EXPIRED","user-token-expired"),w(Li,"USER_NOT_FOUND","user-token-expired"),w(Li,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),w(Li,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),w(Li,"INVALID_CODE","invalid-verification-code"),w(Li,"INVALID_SESSION_INFO","invalid-verification-id"),w(Li,"INVALID_TEMPORARY_PROOF","invalid-credential"),w(Li,"MISSING_SESSION_INFO","missing-verification-id"),w(Li,"SESSION_EXPIRED","code-expired"),w(Li,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),w(Li,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),w(Li,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),w(Li,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),w(Li,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),w(Li,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),w(Li,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),w(Li,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),w(Li,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),w(Li,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),w(Li,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),w(Li,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),w(Li,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),w(Li,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),w(Li,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),w(Li,"MISSING_CLIENT_TYPE","missing-client-type"),w(Li,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),w(Li,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),w(Li,"INVALID_REQ_TYPE","invalid-req-type"),Li),va=new fa(3e4,6e4);function ma(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ya(e,t,n,r){return ga.apply(this,arguments)}function ga(){return ga=j(M().mark((function e(t,n,r,i){var a,o=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ka(t,a,j(M().mark((function e(){var a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=er(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",da.fetch()(_a(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ka(e,t,n){return wa.apply(this,arguments)}function wa(){return wa=j(M().mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d,p;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},pa),n),e.prev=2,a=new Sa(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Ea(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Ea(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Ea(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Ea(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw na(t,p,d);case 34:ea(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Kn)){e.next=41;break}throw e.t0;case 41:ea(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),wa.apply(this,arguments)}function ba(e,t,n,r){return xa.apply(this,arguments)}function xa(){return xa=j(M().mark((function e(t,n,r,i){var a,o,s=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,ya(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ea(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function _a(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ha(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Sa=function(){function e(t){var n=this;I(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ta(n.auth,"network-request-failed"))}),va.get())}))}return A(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ea(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ta(e,t,r);return i.customData._tokenResponse=n,i}function Ia(e){return Ta.apply(this,arguments)}function Ta(){return Ta=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Aa(e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,"GET","/v2/recaptchaConfig",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}function Na(e,t){return Da.apply(this,arguments)}function Da(){return Da=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function Oa(e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Pa(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function La(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ja(){return ja=j(M().mark((function e(t){var n,r,i,a,o,s,u=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=or(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,aa((a=Ua(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:La(Fa(a.auth_time)),issuedAtTime:La(Fa(a.iat)),expirationTime:La(Fa(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}function Fa(e){return 1e3*Number(e)}function Ua(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return $i("JWT malformed, contained fewer than 3 sections"),null;try{var a=Mn(r);return a?JSON.parse(a):($i("Failed to decode base64 JWT payload"),null)}catch(o){return $i("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Va(e,t){return za.apply(this,arguments)}function za(){return za=j(M().mark((function e(t,n){var r=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Kn&&Ba(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),za.apply(this,arguments)}function Ba(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var qa=function(){function e(t){I(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return A(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(j(M().mark((function t(){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ha=function(){function e(t,n){I(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return A(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=La(this.lastLoginAt),this.creationTime=La(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Wa(e){return Ga.apply(this,arguments)}function Ga(){return Ga=j(M().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Va(t,Pa(r,{idToken:i}));case 6:aa(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Mi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Ya(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ha(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Ka(){return(Ka=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=or(t),e.next=3,Wa(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(y(n),y(t))}function Qa(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=j(M().mark((function e(t,n){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka(t,{},j(M().mark((function e(){var r,i,a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=er({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=_a(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",da.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}var Xa=function(){function e(){I(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return A(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){aa(e.idToken,"internal-error"),aa("undefined"!==typeof e.idToken,"internal-error"),aa("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ua(e);return aa(t,"internal-error"),aa("undefined"!==typeof t.exp,"internal-error"),aa("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=j(M().mark((function e(t){var n,r=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],aa(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=j(M().mark((function e(t,n){var r,i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return oa("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(aa("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(aa("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(aa("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Za(e,t){aa("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var $a=function(){function e(t){I(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Mi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?y(a.providerData):[],this.metadata=new Ha(a.createdAt||void 0,a.lastLoginAt||void 0)}return A(e,[{key:"getIdToken",value:function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(aa(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ja.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ka.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(aa(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){aa(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=j(M().mark((function e(t){var n,r,i=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Wa(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Va(this,Na(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;aa(k&&_,t,"internal-error");var S=Xa.fromJSON(this.name,_);aa("string"===typeof k,t,"internal-error"),Za(f,t.name),Za(h,t.name),aa("boolean"===typeof w,t,"internal-error"),aa("boolean"===typeof b,t,"internal-error"),Za(d,t.name),Za(p,t.name),Za(v,t.name),Za(m,t.name),Za(y,t.name),Za(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=j(M().mark((function t(n,r){var i,a,o,s=arguments;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Xa).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Wa(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),eo=new Map;function to(e){sa(e instanceof Function,"Expected a class definition");var t=eo.get(e);return t?(sa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,eo.set(e,t),t)}var no=function(){function e(){I(this,e),this.type="NONE",this.storage={}}return A(e,[{key:"_isAvailable",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();no.type="NONE";var ro=no;function io(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ao=function(){function e(t,n,r){I(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=io(this.userKey,a.apiKey,o),this.fullPersistenceKey=io("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return A(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?$a._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=j(M().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(to(ro),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||to(ro),s=io(i,n.config.apiKey,n.name),u=null,c=z(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=$a._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function oo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(so(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ho(t))return"Blackberry";if(po(t))return"Webos";if(uo(t))return"Safari";if((t.includes("chrome/")||co(t))&&!t.includes("edge/"))return"Chrome";if(fo(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function so(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();return/firefox\//i.test(e)}function uo(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();return/crios\//i.test(e)}function lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();return/iemobile/i.test(e)}function fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();return/android/i.test(e)}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();return/blackberry/i.test(e)}function po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();return/webos/i.test(e)}function vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();return vo(e)||fo(e)||po(e)||ho(e)||/windows phone/i.test(e)||lo(e)}function yo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oo(zn());break;case"Worker":t="".concat(oo(zn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ti,"/").concat(r)}var go=function(){function e(t){I(this,e),this.auth=t,this.queue=[]}return A(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=j(M().mark((function e(t){var n,r,i,a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=z(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=z(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ko(e){return wo.apply(this,arguments)}function wo(){return wo=j(M().mark((function e(t){var n,r=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ya(t,"GET","/v2/passwordPolicy",ma(t,n)));case 2:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}var bo=function(){function e(t){var n,r,i,a;I(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return A(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),xo=function(){function e(t,n,r,i){I(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new So(this),this.idTokenSubscription=new So(this),this.beforeStateQueue=new go(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ji,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return A(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=to(t)),this._initializationPromise=this.queue(j(M().mark((function r(){var i,a;return M().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ao.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=j(M().mark((function e(t){var n,r,i,a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return aa(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wa(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?or(t):null)&&aa(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=j(M().mark((function e(t){var n,r=this,i=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&aa(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(j(M().mark((function n(){return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(to(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=j(M().mark((function e(){var t,n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko(this);case 2:t=e.sent,n=new bo(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Yn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=j(M().mark((function e(t,n){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return aa(n=t&&to(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ao.create(this,[to(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=j(M().mark((function e(t){var n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=j(M().mark((function e(t){var n=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(aa(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return aa(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yo(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=j(M().mark((function e(){var t,n,r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=j(M().mark((function e(){var t,n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Zi("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _o(e){return or(e)}var So=function(){function e(t){var n=this;I(this,e),this.auth=t,this.observer=null,this.addObserver=rr((function(e){return n.observer=e}))}return A(e,[{key:"next",get:function(){return aa(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Eo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ta("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Io(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var To=function(){function e(t){I(this,e),this.type="recaptcha-enterprise",this.auth=_o(t)}return A(e,[{key:"verify",value:function(){var e=j(M().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Wi(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=j(M().mark((function e(n,r){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Aa(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Gi(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Wi(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Eo("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ao(e,t,n){return Co.apply(this,arguments)}function Co(){return Co=j(M().mark((function e(t,n,r){var i,a,o,s,u=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new To(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Co.apply(this,arguments)}function No(e,t,n){var r=_o(e);aa(r._canInitEmulator,r,"emulator-config-failed"),aa(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Do(t),o=function(e){var t=Do(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Oo(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Oo(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Do(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Oo(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ro=function(){function e(t,n){I(this,e),this.providerId=t,this.signInMethod=n}return A(e,[{key:"toJSON",value:function(){return oa("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return oa("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return oa("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return oa("not implemented")}}]),e}();function Po(e,t){return Mo.apply(this,arguments)}function Mo(){return Mo=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,"POST","/v1/accounts:resetPassword",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function Lo(e,t){return jo.apply(this,arguments)}function jo(){return jo=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Fo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,"POST","/v1/accounts:update",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function Vo(e,t){return zo.apply(this,arguments)}function zo(){return zo=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:signInWithPassword",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Bo(e,t){return qo.apply(this,arguments)}function qo(){return qo=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,"POST","/v1/accounts:sendOobCode",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function Ho(e,t){return Wo.apply(this,arguments)}function Wo(){return Wo=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bo(t,n));case 1:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Go(e,t){return Ko.apply(this,arguments)}function Ko(){return Ko=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bo(t,n));case 1:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Yo(e,t){return Qo.apply(this,arguments)}function Qo(){return Qo=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bo(t,n));case 1:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function Jo(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bo(t,n));case 1:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Zo(e,t){return $o.apply(this,arguments)}function $o(){return $o=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:signInWithEmailLink",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:signInWithEmailLink",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}var ns=function(e){N(n,e);var t=P(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return I(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return A(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=j(M().mark((function e(t){var n,r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Ao(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Vo(t,i));case 11:return e.abrupt("return",Vo(t,r).catch(function(){var e=j(M().mark((function e(n){var i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Ao(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Vo(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Zo(t,{email:this._email,oobCode:this._password}));case 13:ea(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Lo(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",es(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ea(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ro);function rs(e,t){return is.apply(this,arguments)}function is(){return is=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:signInWithIdp",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}var as=function(e){N(n,e);var t=P(n);function n(){var e;return I(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return A(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return rs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,rs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,rs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=er(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ea("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Mi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ro);function os(e,t){return ss.apply(this,arguments)}function ss(){return ss=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,"POST","/v1/accounts:sendVerificationCode",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function us(){return us=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:signInWithPhoneNumber",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function cs(){return cs=j(M().mark((function e(t,n){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(t,"POST","/v1/accounts:signInWithPhoneNumber",ma(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ea(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}var ls=w({},"USER_NOT_FOUND","user-not-found");function fs(){return fs=j(M().mark((function e(t,n){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ba(t,"POST","/v1/accounts:signInWithPhoneNumber",ma(t,r),ls));case 2:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}var hs=function(e){N(n,e);var t=P(n);function n(e){var r;return I(this,n),(r=t.call(this,"phone","phone")).params=e,r}return A(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return us.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return cs.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return fs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ro);var ds=function(){function e(t){var n,r,i,a,o,s;I(this,e);var u=tr(nr(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);aa(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return A(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=tr(nr(e)).link,n=t?tr(nr(t)).deep_link_id:null,r=tr(nr(e)).deep_link_id;return(r?tr(nr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var ps=function(){function e(){I(this,e),this.providerId=e.PROVIDER_ID}return A(e,null,[{key:"credential",value:function(e,t){return ns._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ds.parseLink(t);return aa(n,"argument-error"),ns._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ps.PROVIDER_ID="password",ps.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ps.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var vs=function(){function e(t){I(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return A(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ms=function(e){N(n,e);var t=P(n);function n(){var e;return I(this,n),(e=t.apply(this,arguments)).scopes=[],e}return A(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return y(this.scopes)}}]),n}(vs),ys=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.apply(this,arguments)}return A(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return aa(e.idToken||e.accessToken,"argument-error"),as._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return aa("providerId"in t&&"signInMethod"in t,"argument-error"),as._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(ms),gs=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.call(this,"facebook.com")}return A(n,null,[{key:"credential",value:function(e){return as._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(ms);gs.FACEBOOK_SIGN_IN_METHOD="facebook.com",gs.PROVIDER_ID="facebook.com";var ks=function(e){N(n,e);var t=P(n);function n(){var e;return I(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return A(n,null,[{key:"credential",value:function(e,t){return as._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(ms);ks.GOOGLE_SIGN_IN_METHOD="google.com",ks.PROVIDER_ID="google.com";var ws=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.call(this,"github.com")}return A(n,null,[{key:"credential",value:function(e){return as._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(ms);ws.GITHUB_SIGN_IN_METHOD="github.com",ws.PROVIDER_ID="github.com";var bs=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return A(n,[{key:"_getIdTokenResponse",value:function(e){return rs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,rs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,rs(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ro),xs=function(e){N(n,e);var t=P(n);function n(e){return I(this,n),aa(e.startsWith("saml."),"argument-error"),t.call(this,e)}return A(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=bs.fromJSON(e);return aa(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return bs._create(r,n)}catch(i){return null}}}]),n}(vs),_s=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.call(this,"twitter.com")}return A(n,null,[{key:"credential",value:function(e,t){return as._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(ms);function Ss(e,t){return Es.apply(this,arguments)}function Es(){return Es=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:signUp",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}_s.TWITTER_SIGN_IN_METHOD="twitter.com",_s.PROVIDER_ID="twitter.com";var Is=function(){function e(t){I(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return A(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=j(M().mark((function t(n,r,i){var a,o,s,u,c=arguments;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,$a._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ts(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=j(M().mark((function t(n,r,i){var a;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ts(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ts(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function As(){return As=j(M().mark((function e(t){var n,r,i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_o(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Is({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ss(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Is._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}var Cs=function(e){N(n,e);var t=P(n);function n(e,r,i,a){var o,s;return I(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(R(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return A(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Kn);function Ns(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Cs._fromErrorAndOperation(e,n,t,r);throw n}))}function Ds(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Os(e,t){return Rs.apply(this,arguments)}function Rs(){return Rs=j(M().mark((function e(t,n){var r,i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=or(t),e.next=3,Ls(!0,r,n);case 3:return e.t0=Oa,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ds(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Ps(e,t){return Ms.apply(this,arguments)}function Ms(){return Ms=j(M().mark((function e(t,n){var r,i,a=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Va,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Is._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function Ls(e,t,n){return js.apply(this,arguments)}function js(){return(js=j(M().mark((function e(t,n,r){var i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa(n);case 2:i=Ds(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",aa(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return Us=j(M().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Va(t,Ns(i,a,n,t),r);case 6:return aa((o=e.sent).idToken,i,"internal-error"),aa(s=Ua(o.idToken),i,"internal-error"),u=s.sub,aa(t.uid===u,i,"user-mismatch"),e.abrupt("return",Is._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ea(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Us.apply(this,arguments)}function Vs(e,t){return zs.apply(this,arguments)}function zs(){return zs=j(M().mark((function e(t,n){var r,i,a,o,s=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Ns(t,i,n);case 4:return a=e.sent,e.next=7,Is._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),zs.apply(this,arguments)}function Bs(e,t){return qs.apply(this,arguments)}function qs(){return qs=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vs(_o(t),n));case 1:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function Hs(e,t){return Ws.apply(this,arguments)}function Ws(){return(Ws=j(M().mark((function e(t,n){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=or(t),e.next=3,Ls(!1,r,n.providerId);case 3:return e.abrupt("return",Ps(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e,t){return Ks.apply(this,arguments)}function Ks(){return(Ks=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fs(or(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ys(e,t){return Qs.apply(this,arguments)}function Qs(){return Qs=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:signInWithCustomToken",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}function Js(){return Js=j(M().mark((function e(t,n){var r,i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_o(t),e.next=3,Ys(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Is._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}var Xs=function(){function e(t,n){I(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return A(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Zs._fromServerResponse(e,t):"totpInfo"in t?$s._fromServerResponse(e,t):ea(e,"internal-error")}}]),e}(),Zs=function(e){N(n,e);var t=P(n);function n(e){var r;return I(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return A(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Xs),$s=function(e){N(n,e);var t=P(n);function n(e){return I(this,n),t.call(this,"totp",e)}return A(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Xs);function eu(e,t,n){var r;aa((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),aa("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(aa(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(aa(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function tu(e){return nu.apply(this,arguments)}function nu(){return nu=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=_o(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}function ru(){return ru=j(M().mark((function e(t,n,r){var i,a,o,s;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=_o(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Ao(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&eu(a,s,r),e.next=9,Go(a,s);case 9:e.next=14;break;case 11:return r&&eu(a,o,r),e.next=14,Go(a,o).catch(function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Ao(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&eu(a,n,r),e.next=8,Go(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(){return iu=j(M().mark((function e(t,n,r){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Po(or(t),{oobCode:n,newPassword:r}).catch(function(){var e=j(M().mark((function e(n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&tu(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(){return au=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fo(or(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(e,t){return su.apply(this,arguments)}function su(){return su=j(M().mark((function e(t,n){var r,i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=or(t),e.next=3,Po(r,{oobCode:n});case 3:i=e.sent,aa(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return aa(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:aa(i.mfaInfo,r,"internal-error");case 13:aa(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Xs._fromServerResponse(_o(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function uu(){return uu=j(M().mark((function e(t,n){var r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(or(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function cu(e,t,n){return lu.apply(this,arguments)}function lu(){return lu=j(M().mark((function e(t,n,r){var i,a,o,s,u,c,l;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=_o(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Ao(a,o,"signUpPassword");case 5:u=e.sent,s=Ss(a,u),e.next=10;break;case 9:s=Ss(a,o).catch(function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Ao(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Ss(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&tu(t),e}));case 12:return c=e.sent,e.next=15,Is._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(){return fu=j(M().mark((function e(t,n,r){var i,a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){aa(t.handleCodeInApp,a,"argument-error"),t&&eu(a,e,t)},a=_o(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Ao(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,Yo(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,Yo(a,o).catch(function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Ao(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,Yo(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(){return hu=j(M().mark((function e(t,n,r){var i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=or(t),aa((a=ps.credentialWithLink(n,r||ua()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Bs(i,a));case 4:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return pu=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,"POST","/v1/accounts:createAuthUri",ma(t,n)));case 1:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function vu(){return vu=j(M().mark((function e(t,n){var r,i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ca()?ua():"http://localhost",i={identifier:n,continueUri:r},e.next=4,du(or(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}function mu(){return(mu=j(M().mark((function e(t,n){var r,i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=or(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&eu(r.auth,a,n),e.next=8,Ho(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(){return(yu=j(M().mark((function e(t,n,r){var i,a,o,s;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=or(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&eu(i.auth,o,r),e.next=8,Jo(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(e,t){return ku.apply(this,arguments)}function ku(){return ku=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ya(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ku.apply(this,arguments)}function wu(){return(wu=j(M().mark((function e(t,n){var r,i,a,o,s,u,c;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=or(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Va(a,gu(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t,n){return xu.apply(this,arguments)}function xu(){return xu=j(M().mark((function e(t,n,r){var i,a,o,s;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Va(t,Lo(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),xu.apply(this,arguments)}var _u=A((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};I(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Su=function(e){N(n,e);var t=P(n);function n(e,r,i,a){var o;return I(this,n),(o=t.call(this,e,r,i)).username=a,o}return A(n)}(_u),Eu=function(e){N(n,e);var t=P(n);function n(e,r){return I(this,n),t.call(this,e,"facebook.com",r)}return A(n)}(_u),Iu=function(e){N(n,e);var t=P(n);function n(e,r){return I(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return A(n)}(Su),Tu=function(e){N(n,e);var t=P(n);function n(e,r){return I(this,n),t.call(this,e,"google.com",r)}return A(n)}(_u),Au=function(e){N(n,e);var t=P(n);function n(e,r,i){return I(this,n),t.call(this,e,"twitter.com",r,i)}return A(n)}(Su);function Cu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ua(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new _u(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Eu(a,i);case"github.com":return new Iu(a,i);case"google.com":return new Tu(a,i);case"twitter.com":return new Au(a,i,e.screenName||null);case"custom":case"anonymous":return new _u(a,null);default:return new _u(a,r,i)}}(n)}var Nu=function(){function e(t,n,r){I(this,e),this.type=t,this.credential=n,this.user=r}return A(e,[{key:"toJSON",value:function(){return{multiFactorSession:w({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Du=function(){function e(t,n,r){I(this,e),this.session=t,this.hints=n,this.signInResolver=r}return A(e,[{key:"resolveSignIn",value:function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=_o(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Xs._fromServerResponse(r,e)}));aa(i.mfaPendingCredential,r,"internal-error");var o=Nu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=j(M().mark((function e(t){var a,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Is._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return aa(n.user,r,"internal-error"),e.abrupt("return",Is._forOperation(n.user,n.operationType,s));case 17:ea(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ou(e,t){return ya(e,"POST","/v2/accounts/mfaEnrollment:start",ma(e,t))}function Ru(e,t){return ya(e,"POST","/v2/accounts/mfaEnrollment:start",ma(e,t))}function Pu(e,t){return ya(e,"POST","/v2/accounts/mfaEnrollment:finalize",ma(e,t))}function Mu(e,t){return ya(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ma(e,t))}var Lu=function(){function e(t){var n=this;I(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Xs._fromServerResponse(t.auth,e)})))}))}return A(e,[{key:"getSession",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Nu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=j(M().mark((function e(t,n){var r,i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Va(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=j(M().mark((function e(t){var n,r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Va(this.user,Mu(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ju=new WeakMap;var Fu="__sak",Uu=function(){function e(t,n){I(this,e),this.storageRetriever=t,this.type=n}return A(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Fu,"1"),this.storage.removeItem(Fu),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Vu=function(e){N(n,e);var t=P(n);function n(){var e;return I(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=zn();return uo(e)||vo(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=mo(),e._shouldAllowMigration=!0,e}return A(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Wn()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=j(M().mark((function e(t,r){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(D(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=j(M().mark((function e(t){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(D(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(D(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Uu);Vu.type="LOCAL";var zu=Vu,Bu=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return A(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Uu);Bu.type="SESSION";var qu=Bu;function Hu(e){return Promise.all(e.map(function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Wu=function(){function e(t){I(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return A(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=j(M().mark((function e(t){var n,r,i,a,o,s,u,c;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Hu(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Gu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Wu.receivers=[];var Ku=function(){function e(t){I(this,e),this.target=t,this.handlers=new Set}return A(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=j(M().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Gu("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Yu(){return window}function Qu(e){Yu().location.href=e}function Ju(){return"undefined"!==typeof Yu().WorkerGlobalScope&&"function"===typeof Yu().importScripts}function Xu(){return Zu.apply(this,arguments)}function Zu(){return(Zu=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function $u(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ec="firebaseLocalStorageDb",tc="firebaseLocalStorage",nc="fbase_key",rc=function(){function e(t){I(this,e),this.request=t}return A(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ic(e,t){return e.transaction([tc],t?"readwrite":"readonly").objectStore(tc)}function ac(){var e=indexedDB.deleteDatabase(ec);return new rc(e).toPromise()}function oc(){var e=indexedDB.open(ec,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(tc,{keyPath:nc})}catch(r){n(r)}})),e.addEventListener("success",j(M().mark((function n(){var r;return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(tc)){n.next=12;break}return r.close(),n.next=5,ac();case 5:return n.t0=t,n.next=8,oc();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function sc(e,t,n){return uc.apply(this,arguments)}function uc(){return uc=j(M().mark((function e(t,n,r){var i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ic(t,!0).put((w(i={},nc,n),w(i,"value",r),i)),e.abrupt("return",new rc(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return lc=j(M().mark((function e(t,n){var r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ic(t,!1).get(n),e.next=3,new rc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(e,t){var n=ic(e,!0).delete(t);return new rc(n).toPromise()}var hc=function(){function e(){I(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return A(e,[{key:"_openDb",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,oc();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=j(M().mark((function e(t){var n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ju()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=j(M().mark((function e(){var t=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Wu._getInstance(Ju()?self:null),this.receiver._subscribe("keyChanged",function(){var e=j(M().mark((function e(n,r){var i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=j(M().mark((function e(){var t,n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xu();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ku(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&$u()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,oc();case 5:return t=e.sent,e.next=8,sc(t,Fu,"1");case 8:return e.next=10,fc(t,Fu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=j(M().mark((function e(t,n){var r=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return sc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return cc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=j(M().mark((function e(t){var n=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return fc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=j(M().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ic(e,!1).getAll();return new rc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=z(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(j(M().mark((function t(){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();hc.type="LOCAL";var dc=hc;function pc(e,t){return ya(e,"POST","/v2/accounts/mfaSignIn:start",ma(e,t))}function vc(e,t){return ya(e,"POST","/v2/accounts/mfaSignIn:finalize",ma(e,t))}var mc=1e12,yc=function(){function e(t){I(this,e),this.auth=t,this.counter=mc,this._widgets=new Map}return A(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new gc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||mc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||mc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=j(M().mark((function e(t){var n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||mc,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gc=function(){function e(t,n,r){var i=this;I(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;aa(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return A(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var kc=Io("rcb"),wc=new fa(3e4,6e4),bc=function(){function e(){var t;I(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Yu().grecaptcha)||void 0===t?void 0:t.render)}return A(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return aa(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Hi(Yu().grecaptcha)?Promise.resolve(Yu().grecaptcha):new Promise((function(r,i){var a=Yu().setTimeout((function(){i(ta(e,"network-request-failed"))}),wc.get());Yu()[kc]=function(){Yu().clearTimeout(a),delete Yu()[kc];var o=Yu().grecaptcha;if(o&&Hi(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ta(e,"internal-error"))},Eo("".concat("https://www.google.com/recaptcha/api.js?","?").concat(er({onload:kc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ta(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Yu().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var xc=function(){function e(){I(this,e)}return A(e,[{key:"load",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new yc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),_c="recaptcha",Sc={theme:"light",type:"image"},Ec=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Sc);I(this,e),this.parameters=r,this.type=_c,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_o(t),this.isInvisible="invisible"===this.parameters.size,aa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;aa(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xc:new bc,this.validateStartingState()}return A(e,[{key:"verify",value:function(){var e=j(M().mark((function e(){var t,n,r,i=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){aa(!this.parameters.sitekey,this.auth,"argument-error"),aa(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),aa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Yu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){aa(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=j(M().mark((function e(){var t,n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aa(ca()&&!Ju(),this.auth,"internal-error"),e.next=3,Ic();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ia(this.auth);case 8:aa(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return aa(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ic(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Tc=function(){function e(t,n){I(this,e),this.verificationId=t,this.onConfirmation=n}return A(e,[{key:"confirm",value:function(e){var t=hs._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ac(){return Ac=j(M().mark((function e(t,n,r){var i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_o(t),e.next=3,Oc(i,n,or(r));case 3:return a=e.sent,e.abrupt("return",new Tc(a,(function(e){return Bs(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Cc(e,t,n){return Nc.apply(this,arguments)}function Nc(){return(Nc=j(M().mark((function e(t,n,r){var i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=or(t),e.next=3,Ls(!1,i,"phone");case 3:return e.next=5,Oc(i.auth,n,or(r));case 5:return a=e.sent,e.abrupt("return",new Tc(a,(function(e){return Hs(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dc(){return(Dc=j(M().mark((function e(t,n,r){var i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=or(t),e.next=3,Oc(i.auth,n,or(r));case 3:return a=e.sent,e.abrupt("return",new Tc(a,(function(e){return Gs(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(e,t,n){return Rc.apply(this,arguments)}function Rc(){return Rc=j(M().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,aa("string"===typeof a,t,"argument-error"),aa(r.type===_c,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return aa("enroll"===s.type,t,"internal-error"),e.next=13,Ou(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return aa("signin"===s.type,t,"internal-error"),aa(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,pc(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,os(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Rc.apply(this,arguments)}function Pc(){return(Pc=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ps(or(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mc=function(){function e(t){I(this,e),this.providerId=e.PROVIDER_ID,this.auth=_o(t)}return A(e,[{key:"verifyPhoneNumber",value:function(e,t){return Oc(this.auth,e,or(t))}}],[{key:"credential",value:function(e,t){return hs._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?hs._fromTokenResponse(n,r):null}}]),e}();function Lc(e,t){return t?to(t):(aa(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Mc.PROVIDER_ID="phone",Mc.PHONE_SIGN_IN_METHOD="phone";var jc=function(e){N(n,e);var t=P(n);function n(e){var r;return I(this,n),(r=t.call(this,"custom","custom")).params=e,r}return A(n,[{key:"_getIdTokenResponse",value:function(e){return rs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return rs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return rs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ro);function Fc(e){return Vs(e.auth,new jc(e),e.bypassAuthState)}function Uc(e){var t=e.auth,n=e.user;return aa(n,t,"internal-error"),Fs(n,new jc(e),e.bypassAuthState)}function Vc(e){return zc.apply(this,arguments)}function zc(){return zc=j(M().mark((function e(t){var n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,aa(r=t.user,n,"internal-error"),e.abrupt("return",Ps(r,new jc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}var Bc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];I(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return A(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=j(M().mark((function t(n,r){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=j(M().mark((function e(t){var n,r,i,a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fc;case"linkViaPopup":case"linkViaRedirect":return Vc;case"reauthViaPopup":case"reauthViaRedirect":return Uc;default:ea(this.auth,"internal-error")}}},{key:"resolve",value:function(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),qc=new fa(2e3,1e4);function Hc(e,t,n){return Wc.apply(this,arguments)}function Wc(){return Wc=j(M().mark((function e(t,n,r){var i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_o(t),ra(t,n,vs),a=Lc(i,r),o=new Qc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function Gc(){return(Gc=j(M().mark((function e(t,n,r){var i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ra((i=or(t)).auth,n,vs),a=Lc(i.auth,r),o=new Qc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(e,t,n){return Yc.apply(this,arguments)}function Yc(){return(Yc=j(M().mark((function e(t,n,r){var i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ra((i=or(t)).auth,n,vs),a=Lc(i.auth,r),o=new Qc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qc=function(e){N(n,e);var t=P(n);function n(e,r,i,a,o){var s;return I(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=R(s),s}return A(n,[{key:"executeNotNull",value:function(){var e=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return aa(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=j(M().mark((function e(){var t,n=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sa(1===this.filter.length,"Popup operations only handle one event"),t=Gu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ta(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ta(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ta(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,qc.get())}()}}]),n}(Bc);Qc.currentPopupAction=null;var Jc="pendingRedirect",Xc=new Map,Zc=function(e){N(n,e);var t=P(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return I(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return A(n,[{key:"execute",value:function(){var e=j(M().mark((function e(){var t,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Xc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,$c(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Pi(D(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Xc.set(this.auth._key(),t);case 21:return this.bypassAuthState||Xc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=j(M().mark((function e(t){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Pi(D(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Pi(D(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Bc);function $c(e,t){return el.apply(this,arguments)}function el(){return el=j(M().mark((function e(t,n){var r,i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=al(n),i=il(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}function tl(e,t){return nl.apply(this,arguments)}function nl(){return nl=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",il(t)._set(al(n),"true"));case 1:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function rl(e,t){Xc.set(e._key(),t)}function il(e){return to(e._redirectPersistence)}function al(e){return io(Jc,e.config.apiKey,e.name)}function ol(e,t,n){return function(e,t,n){return sl.apply(this,arguments)}(e,t,n)}function sl(){return sl=j(M().mark((function e(t,n,r){var i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_o(t),ra(t,n,vs),e.next=4,i._initializationPromise;case 4:return a=Lc(i,r),e.next=7,tl(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),sl.apply(this,arguments)}function ul(e,t,n){return function(e,t,n){return cl.apply(this,arguments)}(e,t,n)}function cl(){return(cl=j(M().mark((function e(t,n,r){var i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ra((i=or(t)).auth,n,vs),e.next=4,i.auth._initializationPromise;case 4:return a=Lc(i.auth,r),e.next=7,tl(a,i.auth);case 7:return e.next=9,ml(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ll(e,t,n){return function(e,t,n){return fl.apply(this,arguments)}(e,t,n)}function fl(){return(fl=j(M().mark((function e(t,n,r){var i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ra((i=or(t)).auth,n,vs),e.next=4,i.auth._initializationPromise;case 4:return a=Lc(i.auth,r),e.next=7,Ls(!1,i,n.providerId);case 7:return e.next=9,tl(a,i.auth);case 9:return e.next=11,ml(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hl(e,t){return dl.apply(this,arguments)}function dl(){return dl=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_o(t)._initializationPromise;case 2:return e.abrupt("return",pl(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),dl.apply(this,arguments)}function pl(e,t){return vl.apply(this,arguments)}function vl(){return vl=j(M().mark((function e(t,n){var r,i,a,o,s,u=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=_o(t),a=Lc(i,n),o=new Zc(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}function ml(e){return yl.apply(this,arguments)}function yl(){return(yl=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gl=function(){function e(t){I(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return A(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!wl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ta(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(kl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function kl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function wl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function bl(e){return xl.apply(this,arguments)}function xl(){return xl=j(M().mark((function e(t){var n,r=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ya(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}var _l=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sl=/^https?/;function El(){return El=j(M().mark((function e(t){var n,r,i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,bl(t);case 4:n=e.sent,r=n.authorizedDomains,i=z(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Il(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ea(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),El.apply(this,arguments)}function Il(e){var t=ua(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Sl.test(r))return!1;if(_l.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Tl=new fa(3e4,6e4);function Al(){var e=Yu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=y(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Cl=null;function Nl(e){return Cl=Cl||function(e){return new Promise((function(t,n){var r,i,a;function o(){Al(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Al(),n(ta(e,"network-request-failed"))},timeout:Tl.get()})}if(null===(i=null===(r=Yu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Yu().gapi)||void 0===a?void 0:a.load)){var s=Io("iframefcb");return Yu()[s]=function(){gapi.load?o():n(ta(e,"network-request-failed"))},Eo("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Cl=null,e}))}(e),Cl}var Dl=new fa(5e3,15e3),Ol="__/auth/iframe",Rl="emulator/auth/iframe",Pl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ml=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ll(e){var t=e.config;aa(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ha(t,Rl):"https://".concat(e.config.authDomain,"/").concat(Ol),r={apiKey:t.apiKey,appName:e.name,v:ti},i=Ml.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(er(r).slice(1))}function jl(e){return Fl.apply(this,arguments)}function Fl(){return Fl=j(M().mark((function e(t){var n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl(t);case 2:return n=e.sent,aa(r=Yu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ll(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pl,dontclear:!0},(function(e){return new Promise(function(){var n=j(M().mark((function n(r,i){var a,o,s;return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Yu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ta(t,"network-request-failed"),o=Yu().setTimeout((function(){i(a)}),Dl.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Fl.apply(this,arguments)}var Ul={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vl=function(){function e(t){I(this,e),this.window=t,this.associatedEvent=null}return A(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function zl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Ul),{width:r.toString(),height:i.toString(),top:a,left:o}),l=zn().toLowerCase();n&&(s=co(l)?"_blank":n),so(l)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return vo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Vl(null);var h=window.open(t||"",s,f);aa(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Vl(h)}var Bl="__/auth/handler",ql="emulator/auth/handler",Hl=encodeURIComponent("fac");function Wl(e,t,n,r,i,a){return Gl.apply(this,arguments)}function Gl(){return Gl=j(M().mark((function e(t,n,r,i,a,o){var s,u,l,f,h,d,p,v,m,y,g,k,w;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(aa(t.config.authDomain,t,"auth-domain-config-required"),aa(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:ti,eventId:a},n instanceof vs)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Xn(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,l=Object.entries(o||{});u<l.length;u++)f=c(l[u],2),h=f[0],d=f[1],s[h]=d;for(n instanceof ms&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,w=k?"#".concat(Hl,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Kl(t),"?").concat(er(v).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Kl(e){var t=e.config;return t.emulator?ha(t,ql):"https://".concat(t.authDomain,"/").concat(Bl)}var Yl="webStorageSupport",Ql=function(){function e(){I(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qu,this._completeRedirectFn=pl,this._overrideRedirectResult=rl}return A(e,[{key:"_openPopup",value:function(){var e=j(M().mark((function e(t,n,r,i){var a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sa(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Wl(t,n,r,ua(),i);case 3:return o=e.sent,e.abrupt("return",zl(t,o,Gu()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=j(M().mark((function e(t,n,r,i){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Wl(t,n,r,ua(),i);case 4:return Qu(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(sa(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=j(M().mark((function e(t){var n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(t);case 2:return n=e.sent,r=new gl(t),n.register("authEvent",(function(e){return aa(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Yl,{type:Yl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Yl];void 0!==i&&t(!!i),ea(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return El.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return mo()||uo()||vo()}}]),e}(),Jl=Ql,Xl=function(){function e(t){I(this,e),this.factorId=t}return A(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return oa("unexpected MultiFactorSessionType")}}}]),e}(),Zl=function(e){N(n,e);var t=P(n);function n(e){var r;return I(this,n),(r=t.call(this,"phone")).credential=e,r}return A(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ya(e,"POST","/v2/accounts/mfaEnrollment:finalize",ma(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ya(e,"POST","/v2/accounts/mfaSignIn:finalize",ma(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Xl),$l=function(){function e(){I(this,e)}return A(e,null,[{key:"assertion",value:function(e){return Zl._fromCredential(e)}}]),e}();$l.FACTOR_ID="phone";var ef=function(){function e(){I(this,e)}return A(e,null,[{key:"assertionForEnrollment",value:function(e,t){return tf._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return tf._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=j(M().mark((function e(t){var n,r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aa("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Ru(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",nf._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();ef.FACTOR_ID="totp";var tf=function(e){N(n,e);var t=P(n);function n(e,r,i){var a;return I(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return A(n,[{key:"_finalizeEnroll",value:function(){var e=j(M().mark((function e(t,n,r){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aa("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Pu(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=j(M().mark((function e(t,n){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aa(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",vc(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Xl),nf=function(){function e(t,n,r,i,a,o,s){I(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return A(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(rf(e)||rf(t))&&(r=!0),r&&(rf(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),rf(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function rf(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var af="@firebase/auth",of="1.2.0",sf=function(){function e(t){I(this,e),this.auth=t,this.internalListeners=new Map}return A(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){aa(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var uf;!function(e){var t;null===(t=Fn())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function cf(){return window}uf="Browser",Yr(new sr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;aa(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:uf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yo(uf)},l=new xo(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(to);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Yr(new sr("auth-internal",(function(e){return function(e){return new sf(e)}(_o(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),si(af,of,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(uf)),si(af,of,"esm2017");var lf=2e3;function ff(e,t,n){return hf.apply(this,arguments)}function hf(){return hf=j(M().mark((function e(t,n,r){var i,a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=cf(),o=a.BuildInfo,sa(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,gf(n.sessionId);case 4:return s=e.sent,u={},vo()?u.ibi=o.packageName:fo()?u.apn=o.packageName:ea(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Wl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}function df(){return df=j(M().mark((function e(t){var n,r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cf(),r=n.BuildInfo,i={},vo()?i.iosBundleId=r.packageName:fo()?i.androidPackageName=r.packageName:ea(t,"operation-not-supported-in-this-environment"),e.next=5,bl(t,i);case 5:case"end":return e.stop()}}),e)}))),df.apply(this,arguments)}function pf(e){var t=cf().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function vf(e,t,n){return mf.apply(this,arguments)}function mf(){return mf=j(M().mark((function e(t,n,r){var i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cf(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(ta(t,"redirect-cancelled-by-user"))}),lf))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),fo()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),mf.apply(this,arguments)}function yf(e){var t,n,r,i,a,o,s,u,c,l,f=cf();aa("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),aa("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),aa("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),aa("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),aa("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function gf(e){return kf.apply(this,arguments)}function kf(){return(kf=j(M().mark((function e(t){var n,r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wf(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wf(e){if(sa(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var bf=20,xf=function(e){N(n,e);var t=P(n);function n(){var e;return I(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return A(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Pi(D(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(gl);function _f(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Af(),postBody:null,tenantId:e.tenantId,error:ta(e,"no-auth-event")}}function Sf(e,t){return Cf()._set(Nf(e),t)}function Ef(e){return If.apply(this,arguments)}function If(){return If=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cf()._get(Nf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Cf()._remove(Nf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function Tf(e,t){var n,r,i=function(e){var t=Df(e),n=t.link?decodeURIComponent(t.link):void 0,r=Df(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Df(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Df(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?ta(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Af(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<bf;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Cf(){return to(zu)}function Nf(e){return io("authEvent",e.config.apiKey,e.name)}function Df(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=V(e.split("?"));t[0];return tr(t.slice(1).join("?"))}var Of=function(){function e(){I(this,e),this._redirectPersistence=qu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pl,this._overrideRedirectResult=rl}return A(e,[{key:"_initialize",value:function(){var e=j(M().mark((function e(t){var n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new xf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ea(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=j(M().mark((function e(t,n,r,i){var a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yf(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Xc.clear(),e.next=10,this._originValidation(t);case 10:return o=_f(t,r,i),e.next=13,Sf(t,o);case 13:return e.next=15,ff(t,o,n);case 15:return s=e.sent,e.next=18,pf(s);case 18:return u=e.sent,e.abrupt("return",vf(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return df.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=cf(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(j(M().mark((function n(){return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ef(e);case 2:t.onEvent(Pf());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=j(M().mark((function n(r){var i,a;return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Ef(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Tf(i,r.url)),t.onEvent(a||Pf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");cf().handleOpenURL=function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Rf=Of;function Pf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ta("no-auth-event")}}var Mf=1e3;function Lf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function jf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();return!("file:"!==Lf()&&"ionic:"!==Lf()&&"capacitor:"!==Lf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ff(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();return Wn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn();return/Edge\/\d+/.test(e)}(e)}function Uf(){try{var e=self.localStorage,t=Gu();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ff()||Gn()}catch(n){return Vf()&&Gn()}return!1}function Vf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function zf(){return("http:"===Lf()||"https:"===Lf()||qn()||jf())&&!(Hn()||Bn())&&Uf()&&!Vf()}function Bf(){return jf()&&"undefined"!==typeof document}function qf(){return Hf.apply(this,arguments)}function Hf(){return(Hf=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Mf);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wf={LOCAL:"local",NONE:"none",SESSION:"session"},Gf=aa,Kf="persistence";function Yf(e,t){Gf(Object.values(Wf).includes(t),e,"invalid-persistence-type"),Hn()?Gf(t!==Wf.SESSION,e,"unsupported-persistence-type"):Bn()?Gf(t===Wf.NONE,e,"unsupported-persistence-type"):Vf()?Gf(t===Wf.NONE||t===Wf.LOCAL&&Gn(),e,"unsupported-persistence-type"):Gf(t===Wf.NONE||Uf(),e,"unsupported-persistence-type")}function Qf(e){return Jf.apply(this,arguments)}function Jf(){return Jf=j(M().mark((function e(t){var n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Xf(),r=io(Kf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Xf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Zf=aa,$f=function(){function e(){I(this,e),this.browserResolver=to(Jl),this.cordovaResolver=to(Rf),this.underlyingResolver=null,this._redirectPersistence=qu,this._completeRedirectFn=pl,this._overrideRedirectResult=rl}return A(e,[{key:"_initialize",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=j(M().mark((function e(t,n,r,i){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=j(M().mark((function e(t,n,r,i){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Bf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Zf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,qf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function eh(e){return e.unwrap()}function th(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new oh(e,function(e,t){var n,r=or(e),i=t;return aa(t.customData.operationType,r,"argument-error"),aa(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Du._fromError(r,i)}(e,t));else if(r){var i=nh(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function nh(e){var t=(e instanceof Kn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Kn)&&"temporaryProof"in t&&"phoneNumber"in t)return Mc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ji.PASSWORD)return null;switch(r){case ji.GOOGLE:n=ks;break;case ji.FACEBOOK:n=gs;break;case ji.GITHUB:n=ws;break;case ji.TWITTER:n=_s;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?bs._create(r,s):as._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new ys(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Kn?n.credentialFromError(e):n.credentialFromResult(e)}function rh(e,t){return t.catch((function(t){throw t instanceof Kn&&th(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,nh(t)),additionalUserInfo:Cu(e),user:sh.getOrCreate(r)}}))}function ih(e,t){return ah.apply(this,arguments)}function ah(){return ah=j(M().mark((function e(t,n){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return rh(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}var oh=function(){function e(t,n){I(this,e),this.resolver=n,this.auth=t.wrapped()}return A(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return rh(eh(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),sh=function(){function e(t){I(this,e),this._delegate=t,this.multiFactor=function(e){var t=or(e);return ju.has(t)||ju.set(t,Lu._fromUser(t)),ju.get(t)}(t)}return A(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rh(this.auth,Hs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ih(this.auth,Cc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rh(this.auth,Kc(this._delegate,t,$f)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qf(_o(this.auth));case 2:return e.abrupt("return",ll(this._delegate,t,$f));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rh(this.auth,Gs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ih(this.auth,function(e,t,n){return Dc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return rh(this.auth,function(e,t,n){return Gc.apply(this,arguments)}(this._delegate,e,$f))}},{key:"reauthenticateWithRedirect",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qf(_o(this.auth));case 2:return e.abrupt("return",ul(this._delegate,t,$f));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return mu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return bu(or(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return bu(or(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Pc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return wu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return yu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();sh.USER_MAP=new WeakMap;var uh=aa,ch=function(){function e(t,n){if(I(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;uh(r,"invalid-api-key",{appName:t.name}),uh(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?$f:void 0;this._delegate=n.initialize({options:{persistence:fh(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Yi),this.linkUnderlyingAuth()}return A(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?sh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){No(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return au.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ou(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return iu.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rh(this._delegate,cu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return vu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ds.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uh(zf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,hl(this._delegate,$f);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",rh(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){_o(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=lh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=lh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return fu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ru.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=j(M().mark((function e(t){var n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yf(this._delegate,t),e.t0=t,e.next=e.t0===Wf.SESSION?4:e.t0===Wf.LOCAL?6:e.t0===Wf.NONE?11:13;break;case 4:return n=qu,e.abrupt("break",14);case 6:return e.next=8,to(dc)._isAvailable();case 8:return r=e.sent,n=r?dc:zu,e.abrupt("break",14);case 11:return n=ro,e.abrupt("break",14);case 13:return e.abrupt("return",ea("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return rh(this._delegate,function(e){return As.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return rh(this._delegate,Bs(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return rh(this._delegate,function(e,t){return Js.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return rh(this._delegate,function(e,t,n){return Bs(or(e),ps.credential(t,n)).catch(function(){var t=j(M().mark((function t(n){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&tu(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return rh(this._delegate,function(e,t,n){return hu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ih(this._delegate,function(e,t,n){return Ac.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uh(zf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",rh(this._delegate,Hc(this._delegate,t,$f)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uh(zf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Qf(this._delegate);case 3:return e.abrupt("return",ol(this._delegate,t,$f));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return uu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function lh(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&sh.getOrCreate(e))},error:t,complete:n}}function fh(e,t){var n=function(e,t){var n=Xf();if(!n)return[];var r=io(Kf,e,t);switch(n.getItem(r)){case Wf.NONE:return[ro];case Wf.LOCAL:return[dc,qu];case Wf.SESSION:return[qu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(dc)||n.push(dc),"undefined"!==typeof window)for(var r=0,i=[zu,qu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ro)||n.push(ro),n}ch.Persistence=Wf;var hh=function(){function e(){I(this,e),this.providerId="phone",this._delegate=new Mc(eh(Ri.auth()))}return A(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Mc.credential(e,t)}}]),e}();hh.PHONE_SIGN_IN_METHOD=Mc.PHONE_SIGN_IN_METHOD,hh.PROVIDER_ID=Mc.PROVIDER_ID;var dh=aa,ph=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ri.app();I(this,e),dh(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ec(i.auth(),t,n),this.type=this._delegate.type}return A(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new sr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ch(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fi,PASSWORD_RESET:Ui,RECOVER_EMAIL:Vi,REVERT_SECOND_FACTOR_ADDITION:zi,VERIFY_AND_CHANGE_EMAIL:Bi,VERIFY_EMAIL:qi}},EmailAuthProvider:ps,FacebookAuthProvider:gs,GithubAuthProvider:ws,GoogleAuthProvider:ks,OAuthProvider:ys,SAMLAuthProvider:xs,PhoneAuthProvider:hh,PhoneMultiFactorGenerator:$l,RecaptchaVerifier:ph,TwitterAuthProvider:_s,Auth:ch,AuthCredential:Ro,Error:Kn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.5")}(Ri);var vh,mh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},yh={},gh=gh||{},kh=mh||self;function wh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var xh="closure_uid_"+(1e9*Math.random()>>>0),_h=0;function Sh(e,t,n){return e.call.apply(e.bind,arguments)}function Eh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ih(e,t,n){return(Ih=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sh:Eh).apply(null,arguments)}function Th(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ah(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ch(){this.s=this.s,this.o=this.o}Ch.prototype.s=!1,Ch.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,xh)&&e[xh]||(e[xh]=++_h))},Ch.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Nh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Dh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Oh(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(wh(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Rh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Rh.prototype.h=function(){this.defaultPrevented=!0};var Ph=function(){if(!kh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{kh.addEventListener("test",(function(){}),t),kh.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Mh(e){return/^[\s\xa0]*$/.test(e)}function Lh(){var e=kh.navigator;return e&&(e=e.userAgent)?e:""}function jh(e){return-1!=Lh().indexOf(e)}function Fh(e){return Fh[" "](e),e}Fh[" "]=function(){};var Uh,Vh,zh=jh("Opera"),Bh=jh("Trident")||jh("MSIE"),qh=jh("Edge"),Hh=qh||Bh,Wh=jh("Gecko")&&!(-1!=Lh().toLowerCase().indexOf("webkit")&&!jh("Edge"))&&!(jh("Trident")||jh("MSIE"))&&!jh("Edge"),Gh=-1!=Lh().toLowerCase().indexOf("webkit")&&!jh("Edge");function Kh(){var e=kh.document;return e?e.documentMode:void 0}e:{var Yh="",Qh=function(){var e=Lh();return Wh?/rv:([^\);]+)(\)|;)/.exec(e):qh?/Edge\/([\d\.]+)/.exec(e):Bh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Gh?/WebKit\/(\S+)/.exec(e):zh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Qh&&(Yh=Qh?Qh[1]:""),Bh){var Jh=Kh();if(null!=Jh&&Jh>parseFloat(Yh)){Uh=String(Jh);break e}}Uh=Yh}if(kh.document&&Bh){var Xh=Kh();Vh=Xh||(parseInt(Uh,10)||void 0)}else Vh=void 0;var Zh=Vh;function $h(e,t){if(Rh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Wh){e:{try{Fh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ed[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$h.$.h.call(this)}}Ah($h,Rh);var ed={2:"touch",3:"pen",4:"mouse"};$h.prototype.h=function(){$h.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var td="closure_listenable_"+(1e6*Math.random()|0),nd=0;function rd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++nd,this.fa=this.ia=!1}function id(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ad(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function od(e){var t={};for(var n in e)t[n]=e[n];return t}var sd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ud(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<sd.length;a++)n=sd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function cd(e){this.src=e,this.g={},this.h=0}function ld(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Nh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(id(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function fd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}cd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=fd(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new rd(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var hd="closure_lm_"+(1e6*Math.random()|0),dd={};function pd(e,t,n,r,i){if(r&&r.once)return md(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)pd(e,t[a],n,r,i);return null}return n=_d(n),e&&e[td]?e.O(t,n,bh(r)?!!r.capture:!!r,i):vd(e,t,n,!1,r,i)}function vd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=bh(i)?!!i.capture:!!i,s=bd(e);if(s||(e[hd]=s=new cd(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=wd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ph||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(kd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function md(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)md(e,t[a],n,r,i);return null}return n=_d(n),e&&e[td]?e.P(t,n,bh(r)?!!r.capture:!!r,i):vd(e,t,n,!0,r,i)}function yd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)yd(e,t[a],n,r,i);else r=bh(r)?!!r.capture:!!r,n=_d(n),e&&e[td]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=fd(a=e.g[t],n,r,i))&&(id(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=bd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=fd(t,n,r,i)),(n=-1<e?t[e]:null)&&gd(n))}function gd(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[td])ld(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(kd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bd(t))?(ld(n,e),0==n.h&&(n.src=null,t[hd]=null)):id(e)}}}function kd(e){return e in dd?dd[e]:dd[e]="on"+e}function wd(e,t){if(e.fa)e=!0;else{t=new $h(t,this);var n=e.listener,r=e.la||e.src;e.ia&&gd(e),e=n.call(r,t)}return e}function bd(e){return(e=e[hd])instanceof cd?e:null}var xd="__closure_events_fn_"+(1e9*Math.random()>>>0);function _d(e){return"function"===typeof e?e:(e[xd]||(e[xd]=function(t){return e.handleEvent(t)}),e[xd])}function Sd(){Ch.call(this),this.i=new cd(this),this.S=this,this.J=null}function Ed(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Rh(t,e);else if(t instanceof Rh)t.target=t.target||e;else{var i=t;ud(t=new Rh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Id(o,r,!0,t)&&i}if(i=Id(o=t.g=e,r,!0,t)&&i,i=Id(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Id(o=t.g=n[a],r,!1,t)&&i}function Id(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&ld(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ah(Sd,Ch),Sd.prototype[td]=!0,Sd.prototype.removeEventListener=function(e,t,n,r){yd(this,e,t,n,r)},Sd.prototype.N=function(){if(Sd.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)id(n[r]);delete t.g[e],t.h--}}this.J=null},Sd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Sd.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Td=kh.JSON.stringify,Ad=function(){function e(t,n){I(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return A(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Cd(){var e=jd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Nd=function(){function e(){I(this,e),this.h=this.g=null}return A(e,[{key:"add",value:function(e,t){var n=Dd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Dd=new Ad((function(){return new Od}),(function(e){return e.reset()})),Od=function(){function e(){I(this,e),this.next=this.g=this.h=null}return A(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Rd(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pd(e){kh.setTimeout((function(){throw e}),0)}var Md,Ld=!1,jd=new Nd,Fd=function(){var e=kh.Promise.resolve(void 0);Md=function(){e.then(Ud)}},Ud=function(){for(var e;e=Cd();){try{e.h.call(e.g)}catch(n){Pd(n)}var t=Dd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ld=!1};function Vd(e,t){Sd.call(this),this.h=e||1,this.g=t||kh,this.j=Ih(this.qb,this),this.l=Date.now()}function zd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Bd(e,t,n){if("function"===typeof e)n&&(e=Ih(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ih(e.handleEvent,e)}return 2147483647<Number(t)?-1:kh.setTimeout(e,t||0)}function qd(e){e.g=Bd((function(){e.g=null,e.i&&(e.i=!1,qd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ah(Vd,Sd),(vh=Vd.prototype).ga=!1,vh.T=null,vh.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ed(this,"tick"),this.ga&&(zd(this),this.start()))}},vh.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vh.N=function(){Vd.$.N.call(this),zd(this),delete this.g};var Hd=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return A(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:qd(this)}},{key:"N",value:function(){Pi(D(n.prototype),"N",this).call(this),this.g&&(kh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ch);function Wd(e){Ch.call(this),this.h=e,this.g={}}Ah(Wd,Ch);var Gd=[];function Kd(e,t,n,r){Array.isArray(n)||(n&&(Gd[0]=n.toString()),n=Gd);for(var i=0;i<n.length;i++){var a=pd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Yd(e){ad(e.g,(function(e,t){this.g.hasOwnProperty(t)&&gd(e)}),e),e.g={}}function Qd(){this.g=!0}function Jd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Td(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Wd.prototype.N=function(){Wd.$.N.call(this),Yd(this)},Wd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qd.prototype.Ea=function(){this.g=!1},Qd.prototype.info=function(){};var Xd={},Zd=null;function $d(){return Zd=Zd||new Sd}function ep(e){Rh.call(this,Xd.Ta,e)}function tp(e){var t=$d();Ed(t,new ep(t))}function np(e,t){Rh.call(this,Xd.STAT_EVENT,e),this.stat=t}function rp(e){var t=$d();Ed(t,new np(t,e))}function ip(e,t){Rh.call(this,Xd.Ua,e),this.size=t}function ap(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return kh.setTimeout((function(){e()}),t)}Xd.Ta="serverreachability",Ah(ep,Rh),Xd.STAT_EVENT="statevent",Ah(np,Rh),Xd.Ua="timingevent",Ah(ip,Rh);var op={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function up(){}function cp(e){return e.h||(e.h=e.i())}function lp(){}up.prototype.h=null;var fp,hp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dp(){Rh.call(this,"d")}function pp(){Rh.call(this,"c")}function vp(){}function mp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Wd(this),this.P=gp,e=Hh?125:void 0,this.V=new Vd(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yp}function yp(){this.i=null,this.g="",this.h=!1}Ah(dp,Rh),Ah(pp,Rh),Ah(vp,up),vp.prototype.g=function(){return new XMLHttpRequest},vp.prototype.i=function(){return{}},fp=new vp;var gp=45e3,kp={},wp={};function bp(e,t,n){e.L=1,e.v=Vp(Mp(t)),e.s=n,e.S=!0,xp(e,null)}function xp(e,t){e.G=Date.now(),Ip(e),e.A=Mp(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),$p(n.i,"t",r),e.C=0,n=e.l.J,e.h=new yp,e.g=em(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Hd(Ih(e.Pa,e,e.g),e.O)),Kd(e.U,e.g,"readystatechange",e.nb),t=e.I?od(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),tp(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function _p(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Sp(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Ep(e,n))==wp){4==t&&(e.o=4,rp(14),i=!1),Jd(e.j,e.m,null,"[Incomplete Response]");break}if(r==kp){e.o=4,rp(15),Jd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Jd(e.j,e.m,r,null),Dp(e,r)}_p(e)&&r!=wp&&r!=kp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gv(t),t.M=!0,rp(11))):(Jd(e.j,e.m,n,"[Invalid Chunked Response]"),Np(e),Cp(e))}function Ep(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?wp:(n=Number(t.substring(n,r)),isNaN(n)?kp:(r+=1)+n>t.length?wp:(t=t.slice(r,r+n),e.C=r+n,t))}function Ip(e){e.Y=Date.now()+e.P,Tp(e,e.P)}function Tp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ap(Ih(e.lb,e),t)}function Ap(e){e.B&&(kh.clearTimeout(e.B),e.B=null)}function Cp(e){0==e.l.H||e.J||Qv(e.l,e)}function Np(e){Ap(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,zd(e.V),Yd(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Dp(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ov(n.i,e)))if(!e.K&&ov(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Yv(n),Fv(n)}Wv(n),rp(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ap(Ih(n.ib,n),6e3));if(1>=av(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Xv(n,11)}else if((e.K||n.g==e)&&Yv(n),!Mh(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(sv(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Up(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=$v(r,r.J?r.pa:null,r.Y),d.K){uv(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Ap(p),Ip(p)),r.g=d}else Hv(r);0<n.j.length&&Vv(n)}else"stop"!=a[0]&&"close"!=a[0]||Xv(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Xv(n,7):jv(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}tp()}catch(a){}}function Op(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(wh(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(wh(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(wh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(vh=mp.prototype).setTimeout=function(e){this.P=e},vh.nb=function(e){e=e.target;var t=this.M;t&&3==Dv(e)?t.l():this.Pa(e)},vh.Pa=function(e){try{if(e==this.g)e:{var t=Dv(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Hh||this.g&&(this.h.h||this.g.ja()||Ov(this.g)))){this.J||4!=t||7==n||tp(),Ap(this);var r=this.g.da();this.ca=r;t:if(_p(this)){var i=Ov(this.g);e="";var a=i.length,o=4==Dv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Np(this),Cp(this);var s="";break t}this.h.i=new kh.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mh(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,rp(12),Np(this),Cp(this);break e}Jd(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dp(this,r)}this.S?(Sp(this,t,s),Hh&&this.i&&3==t&&(Kd(this.U,this.V,"tick",this.mb),this.V.start())):(Jd(this.j,this.m,s,null),Dp(this,s)),4==t&&Np(this),this.i&&!this.J&&(4==t?Qv(this.l,this):(this.i=!1,Ip(this)))}else(function(e){var t={};e=(e.g&&2<=Dv(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Mh(e[n])){var r=Rd(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,rp(12)):(this.o=0,rp(13)),Np(this),Cp(this)}}}catch(t){}},vh.mb=function(){if(this.g){var e=Dv(this.g),t=this.g.ja();this.C<t.length&&(Ap(this),Sp(this,e,t),this.i&&4!=e&&Ip(this))}},vh.cancel=function(){this.J=!0,Np(this)},vh.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(tp(),rp(17)),Np(this),this.o=2,Cp(this)):Tp(this,this.Y-e)};var Rp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pp(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Pp){this.h=e.h,Lp(this,e.j),this.s=e.s,this.g=e.g,jp(this,e.m),this.l=e.l;var t=e.i,n=new Qp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Fp(this,n),this.o=e.o}else e&&(t=String(e).match(Rp))?(this.h=!1,Lp(this,t[1]||"",!0),this.s=zp(t[2]||""),this.g=zp(t[3]||"",!0),jp(this,t[4]),this.l=zp(t[5]||"",!0),Fp(this,t[6]||"",!0),this.o=zp(t[7]||"")):(this.h=!1,this.i=new Qp(null,this.h))}function Mp(e){return new Pp(e)}function Lp(e,t,n){e.j=n?zp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Fp(e,t,n){t instanceof Qp?(e.i=t,function(e,t){t&&!e.j&&(Jp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xp(this,t),$p(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Bp(t,Kp)),e.i=new Qp(t,e.h))}function Up(e,t,n){e.i.set(t,n)}function Vp(e){return Up(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bp(t,Hp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bp(t,Hp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bp(n,"/"==n.charAt(0)?Gp:Wp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bp(n,Yp)),e.join("")};var Hp=/[#\/\?@]/g,Wp=/[#\?:]/g,Gp=/[#\?]/g,Kp=/[#\?@]/g,Yp=/#/g;function Qp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xp(e,t){Jp(e),t=ev(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Zp(e,t){return Jp(e),t=ev(e,t),e.g.has(t)}function $p(e,t,n){Xp(e,t),0<n.length&&(e.i=null,e.g.set(ev(e,t),Dh(n)),e.h+=n.length)}function ev(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(vh=Qp.prototype).add=function(e,t){Jp(this),this.i=null,e=ev(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},vh.forEach=function(e,t){Jp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},vh.ta=function(){Jp(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},vh.Z=function(e){Jp(this);var t=[];if("string"===typeof e)Zp(this,e)&&(t=t.concat(this.g.get(ev(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},vh.set=function(e,t){return Jp(this),this.i=null,Zp(this,e=ev(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},vh.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},vh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var tv=A((function e(t,n){I(this,e),this.g=t,this.map=n}));function nv(e){this.l=e||rv,kh.PerformanceNavigationTiming?e=0<(e=kh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(kh.g&&kh.g.Ka&&kh.g.Ka()&&kh.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rv=10;function iv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function av(e){return e.h?1:e.g?e.g.size:0}function ov(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function sv(e,t){e.g?e.g.add(t):e.h=t}function uv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function cv(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=z(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Dh(e.i)}nv.prototype.cancel=function(){if(this.i=cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=z(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var lv,fv=function(){function e(){I(this,e)}return A(e,[{key:"stringify",value:function(e){return kh.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return kh.JSON.parse(e,void 0)}}]),e}();function hv(){this.g=new fv}function dv(e,t,n){var r=n||"";try{Op(e,(function(e,n){var i=e;bh(e)&&(i=Td(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function pv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function vv(e){this.l=e.fc||null,this.j=e.ob||!1}function mv(e,t){Sd.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=yv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ah(vv,up),vv.prototype.g=function(){return new mv(this.l,this.j)},vv.prototype.i=(lv={},function(){return lv}),Ah(mv,Sd);var yv=0;function gv(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function kv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wv(e)}function wv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(vh=mv.prototype).open=function(e,t){if(this.readyState!=yv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wv(this)},vh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||kh).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},vh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kv(this)),this.readyState=yv},vh.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wv(this)),this.g&&(this.readyState=3,wv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof kh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gv(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},vh.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?kv(this):wv(this),3==this.readyState&&gv(this)}},vh.Za=function(e){this.g&&(this.response=this.responseText=e,kv(this))},vh.Ya=function(e){this.g&&(this.response=e,kv(this))},vh.ka=function(){this.g&&kv(this)},vh.setRequestHeader=function(e,t){this.v.append(e,t)},vh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},vh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(mv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var bv=kh.JSON.parse;function xv(e){Sd.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_v,this.L=this.M=!1}Ah(xv,Sd);var _v="",Sv=/^https?$/i,Ev=["POST","PUT"];function Iv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Tv(e),Cv(e)}function Tv(e){e.F||(e.F=!0,Ed(e,"complete"),Ed(e,"error"))}function Av(e){if(e.h&&"undefined"!=typeof gh&&(!e.C[1]||4!=Dv(e)||2!=e.da()))if(e.v&&4==Dv(e))Bd(e.La,0,e);else if(Ed(e,"readystatechange"),4==Dv(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Rp)[1]||null;!a&&kh.self&&kh.self.location&&(a=kh.self.location.protocol.slice(0,-1)),i=!Sv.test(a?a.toLowerCase():"")}t=i}if(t)Ed(e,"complete"),Ed(e,"success");else{e.m=6;try{var o=2<Dv(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Tv(e)}}finally{Cv(e)}}}function Cv(e,t){if(e.g){Nv(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Ed(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Nv(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(kh.clearTimeout(e.A),e.A=null)}function Dv(e){return e.g?e.g.readyState:0}function Ov(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case _v:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Um){return null}}function Rv(e){var t="";return ad(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Pv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Up(e,t,n))}function Mv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Lv(e){this.Ga=0,this.j=[],this.l=new Qd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mv("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mv("baseRetryDelayMs",5e3,e),this.hb=Mv("retryDelaySeedMs",1e4,e),this.eb=Mv("forwardChannelMaxRetries",2,e),this.xa=Mv("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new nv(e&&e.concurrentRequestLimit),this.Ja=new hv,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jv(e){if(Uv(e),3==e.H){var t=e.W++,n=Mp(e.I);if(Up(n,"SID",e.K),Up(n,"RID",t),Up(n,"TYPE","terminate"),Bv(e,n),(t=new mp(e,e.l,t)).L=2,t.v=Vp(Mp(n)),n=!1,kh.navigator&&kh.navigator.sendBeacon)try{n=kh.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&kh.Image&&((new Image).src=t.v,n=!0),n||(t.g=em(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ip(t)}Zv(e)}function Fv(e){e.g&&(Gv(e),e.g.cancel(),e.g=null)}function Uv(e){Fv(e),e.u&&(kh.clearTimeout(e.u),e.u=null),Yv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&kh.clearTimeout(e.m),e.m=null)}function Vv(e){if(!iv(e.i)&&!e.m){e.m=!0;var t=e.Na;Md||Fd(),Ld||(Md(),Ld=!0),jd.add(t,e),e.C=0}}function zv(e,t){var n;n=t?t.m:e.W++;var r=Mp(e.I);Up(r,"SID",e.K),Up(r,"RID",n),Up(r,"AID",e.V),Bv(e,r),e.o&&e.s&&Pv(r,e.o,e.s),n=new mp(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=qv(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),sv(e.i,n),bp(n,r,t)}function Bv(e,t){e.na&&ad(e.na,(function(e,n){Up(t,n,e)})),e.h&&Op({},(function(e,n){Up(t,n,e)}))}function qv(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ih(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{dv(l,o,"req"+c+"_")}catch(rg){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Hv(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Md||Fd(),Ld||(Md(),Ld=!0),jd.add(t,e),e.A=0}}function Wv(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ap(Ih(e.Ma,e),Jv(e,e.A)),e.A++,!0)}function Gv(e){null!=e.B&&(kh.clearTimeout(e.B),e.B=null)}function Kv(e){e.g=new mp(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Mp(e.wa);Up(t,"RID","rpc"),Up(t,"SID",e.K),Up(t,"AID",e.V),Up(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Up(t,"TO",e.qa),Up(t,"TYPE","xmlhttp"),Bv(e,t),e.o&&e.s&&Pv(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Vp(Mp(t)),n.s=null,n.S=!0,xp(n,e)}function Yv(e){null!=e.v&&(kh.clearTimeout(e.v),e.v=null)}function Qv(e,t){var n=null;if(e.g==t){Yv(e),Gv(e),e.g=null;var r=2}else{if(!ov(e.i,t))return;n=t.F,uv(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Ed(r=$d(),new ip(r,n)),Vv(e)}else Hv(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(av(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ap(Ih(e.Na,e,t),Jv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Wv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Xv(e,5);break;case 4:Xv(e,10);break;case 3:Xv(e,6);break;default:Xv(e,2)}}function Jv(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Xv(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ih(e.pb,e);n||(n=new Pp("//www.google.com/images/cleardot.gif"),kh.location&&"http"==kh.location.protocol||Lp(n,"https"),Vp(n)),function(e,t){var n=new Qd;if(kh.Image){var r=new Image;r.onload=Th(pv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Th(pv,n,r,"TestLoadImage: error",!1,t),r.onabort=Th(pv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Th(pv,n,r,"TestLoadImage: timeout",!1,t),kh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rp(2);e.H=0,e.h&&e.h.za(t),Zv(e),Uv(e)}function Zv(e){if(e.H=0,e.ma=[],e.h){var t=cv(e.i);0==t.length&&0==e.j.length||(Oh(e.ma,t),Oh(e.ma,e.j),e.i.i.length=0,Dh(e.j),e.j.length=0),e.h.ya()}}function $v(e,t,n){var r=n instanceof Pp?Mp(n):new Pp(n);if(""!=r.g)t&&(r.g=t+"."+r.g),jp(r,r.m);else{var i=kh.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Pp(null);r&&Lp(a,r),t&&(a.g=t),i&&jp(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Up(r,n,t),Up(r,"VER",e.ra),Bv(e,r),r}function em(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new xv(new vv({ob:!0})):new xv(e.va)).Oa(e.J),t}function tm(){}function nm(){if(Bh&&!(10<=Number(Zh)))throw Error("Environmental error: no available transport.")}function rm(e,t){Sd.call(this),this.g=new Lv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Mh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Mh(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new om(this)}function im(e){dp.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function am(){pp.call(this),this.status=1}function om(e){this.g=e}function sm(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function um(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function cm(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(vh=xv.prototype).Oa=function(e){this.M=e},vh.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fp.g(),this.C=this.u?cp(this.u):cp(fp),this.g.onreadystatechange=Ih(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Iv(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=z(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=kh.FormData&&e instanceof kh.FormData,!(0<=Nh(Ev,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=z(n);try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Nv(this),0<this.B&&((this.L=function(e){return Bh&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ih(this.ua,this)):this.A=Bd(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Iv(this,s)}},vh.ua=function(){"undefined"!=typeof gh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ed(this,"timeout"),this.abort(8))},vh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ed(this,"complete"),Ed(this,"abort"),Cv(this))},vh.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cv(this,!0)),xv.$.N.call(this)},vh.La=function(){this.s||(this.G||this.v||this.l?Av(this):this.kb())},vh.kb=function(){Av(this)},vh.isActive=function(){return!!this.g},vh.da=function(){try{return 2<Dv(this)?this.g.status:-1}catch(lv){return-1}},vh.ja=function(){try{return this.g?this.g.responseText:""}catch(lv){return""}},vh.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),bv(t)}},vh.Ia=function(){return this.m},vh.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(vh=Lv.prototype).ra=8,vh.H=1,vh.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new mp(this,this.l,e),n=this.s;if(this.U&&(n?ud(n=od(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=qv(this,t,r),Up(i=Mp(this.I),"RID",e),Up(i,"CVER",22),this.F&&Up(i,"X-HTTP-Session-Id",this.F),Bv(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Rv(n)))+"&"+r:this.o&&Pv(i,this.o,n)),sv(this.i,t),this.bb&&Up(i,"TYPE","init"),this.P?(Up(i,"$req",r),Up(i,"SID","null"),t.aa=!0,bp(t,i,null)):bp(t,i,r),this.H=2}}else 3==this.H&&(e?zv(this,e):0==this.j.length||iv(this.i)||zv(this))},vh.Ma=function(){if(this.u=null,Kv(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ap(Ih(this.jb,this),e)}},vh.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rp(10),Fv(this),Kv(this))},vh.ib=function(){null!=this.v&&(this.v=null,Fv(this),Wv(this),rp(19))},vh.pb=function(e){e?(this.l.info("Successfully pinged google.com"),rp(2)):(this.l.info("Failed to ping google.com"),rp(1))},vh.isActive=function(){return!!this.h&&this.h.isActive(this)},(vh=tm.prototype).Ba=function(){},vh.Aa=function(){},vh.za=function(){},vh.ya=function(){},vh.isActive=function(){return!0},vh.Va=function(){},nm.prototype.g=function(e,t){return new rm(e,t)},Ah(rm,Sd),rm.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;rp(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=$v(e,null,e.Y),Vv(e)},rm.prototype.close=function(){jv(this.g)},rm.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Td(e),e=n);t.j.push(new tv(t.fb++,e)),3==t.H&&Vv(t)},rm.prototype.N=function(){this.g.h=null,delete this.j,jv(this.g),delete this.g,rm.$.N.call(this)},Ah(im,dp),Ah(am,pp),Ah(om,tm),om.prototype.Ba=function(){Ed(this.g,"a")},om.prototype.Aa=function(e){Ed(this.g,new im(e))},om.prototype.za=function(e){Ed(this.g,new am)},om.prototype.ya=function(){Ed(this.g,"b")},Ah(sm,(function(){this.blockSize=-1})),sm.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},sm.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)um(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){um(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){um(this,r),i=0;break}}this.h=i,this.i+=t},sm.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var lm={};function fm(e){return-128<=e&&128>e?function(e,t){var n=lm;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new cm([0|e],0>e?-1:0)})):new cm([0|e],0>e?-1:0)}function hm(e){if(isNaN(e)||!isFinite(e))return pm;if(0>e)return km(hm(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=dm;return new cm(t,0)}var dm=4294967296,pm=fm(0),vm=fm(1),mm=fm(16777216);function ym(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function gm(e){return-1==e.h}function km(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new cm(n,~e.h).add(vm)}function wm(e,t){return e.add(km(t))}function bm(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function xm(e,t){this.g=e,this.h=t}function _m(e,t){if(ym(t))throw Error("division by zero");if(ym(e))return new xm(pm,pm);if(gm(e))return t=_m(km(e),t),new xm(km(t.g),km(t.h));if(gm(t))return t=_m(e,km(t)),new xm(km(t.g),t.h);if(30<e.g.length){if(gm(e)||gm(t))throw Error("slowDivide_ only works with positive integers.");for(var n=vm,r=t;0>=r.X(e);)n=Sm(n),r=Sm(r);var i=Em(n,1),a=Em(r,1);for(r=Em(r,2),n=Em(n,2);!ym(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Em(r,1),n=Em(n,1)}return t=wm(e,i.R(t)),new xm(i,t)}for(i=pm;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=hm(n)).R(t);gm(o)||0<o.X(e);)o=(a=hm(n-=r)).R(t);ym(a)&&(a=vm),i=i.add(a),e=wm(e,o)}return new xm(i,e)}function Sm(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new cm(n,e.h)}function Em(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new cm(i,e.h)}(vh=cm.prototype).ea=function(){if(gm(this))return-km(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:dm+r)*t,t*=dm}return e},vh.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ym(this))return"0";if(gm(this))return"-"+km(this).toString(e);for(var t=hm(Math.pow(e,6)),n=this,r="";;){var i=_m(n,t).g,a=((0<(n=wm(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ym(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},vh.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},vh.X=function(e){return gm(e=wm(this,e))?-1:ym(e)?0:1},vh.abs=function(){return gm(this)?km(this):this},vh.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new cm(n,-2147483648&n[n.length-1]?-1:0)},vh.R=function(e){if(ym(this)||ym(e))return pm;if(gm(this))return gm(e)?km(this).R(km(e)):km(km(this).R(e));if(gm(e))return km(this.R(km(e)));if(0>this.X(mm)&&0>e.X(mm))return hm(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,bm(n,2*r+2*i),n[2*r+2*i+1]+=a*u,bm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,bm(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,bm(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new cm(n,0)},vh.gb=function(e){return _m(this,e).h},vh.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new cm(n,this.h&e.h)},vh.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new cm(n,this.h|e.h)},vh.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new cm(n,this.h^e.h)},nm.prototype.createWebChannel=nm.prototype.g,rm.prototype.send=rm.prototype.u,rm.prototype.open=rm.prototype.m,rm.prototype.close=rm.prototype.close,op.NO_ERROR=0,op.TIMEOUT=8,op.HTTP_ERROR=6,sp.COMPLETE="complete",lp.EventType=hp,hp.OPEN="a",hp.CLOSE="b",hp.ERROR="c",hp.MESSAGE="d",Sd.prototype.listen=Sd.prototype.O,xv.prototype.listenOnce=xv.prototype.P,xv.prototype.getLastError=xv.prototype.Sa,xv.prototype.getLastErrorCode=xv.prototype.Ia,xv.prototype.getStatus=xv.prototype.da,xv.prototype.getResponseJson=xv.prototype.Wa,xv.prototype.getResponseText=xv.prototype.ja,xv.prototype.send=xv.prototype.ha,xv.prototype.setWithCredentials=xv.prototype.Oa,sm.prototype.digest=sm.prototype.l,sm.prototype.reset=sm.prototype.reset,sm.prototype.update=sm.prototype.j,cm.prototype.add=cm.prototype.add,cm.prototype.multiply=cm.prototype.R,cm.prototype.modulo=cm.prototype.gb,cm.prototype.compare=cm.prototype.X,cm.prototype.toNumber=cm.prototype.ea,cm.prototype.toString=cm.prototype.toString,cm.prototype.getBits=cm.prototype.D,cm.fromNumber=hm,cm.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return km(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=hm(Math.pow(n,8)),i=pm,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=hm(Math.pow(n,o)),i=i.R(o).add(hm(s))):i=(i=i.R(r)).add(hm(s))}return i};var Im=yh.createWebChannelTransport=function(){return new nm},Tm=yh.getStatEventTarget=function(){return $d()},Am=yh.ErrorCode=op,Cm=yh.EventType=sp,Nm=yh.Event=Xd,Dm=yh.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Om=yh.FetchXmlHttpFactory=vv,Rm=yh.WebChannel=lp,Pm=yh.XhrIo=xv,Mm=yh.Md5=sm,Lm=yh.Integer=cm,jm="@firebase/firestore",Fm=function(){function e(t){I(this,e),this.uid=t}return A(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Fm.UNAUTHENTICATED=new Fm(null),Fm.GOOGLE_CREDENTIALS=new Fm("google-credentials-uid"),Fm.FIRST_PARTY=new Fm("first-party-uid"),Fm.MOCK_USER=new Fm("mock-user");var Um="10.2.0",Vm=new gr("@firebase/firestore");function zm(){return Vm.logLevel}function Bm(e){if(Vm.logLevel<=fr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Wm);Vm.debug.apply(Vm,["Firestore (".concat(Um,"): ").concat(e)].concat(y(i)))}}function qm(e){if(Vm.logLevel<=fr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Wm);Vm.error.apply(Vm,["Firestore (".concat(Um,"): ").concat(e)].concat(y(i)))}}function Hm(e){if(Vm.logLevel<=fr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Wm);Vm.warn.apply(Vm,["Firestore (".concat(Um,"): ").concat(e)].concat(y(i)))}}function Wm(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Gm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Um,") INTERNAL ASSERTION FAILED: ")+e;throw qm(t),new Error(t)}function Km(e,t){e||Gm()}function Ym(e,t){return e}var Qm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Jm=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return A(n)}(Kn),Xm=A((function e(){var t=this;I(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Zm=A((function e(t,n){I(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),$m=function(){function e(){I(this,e)}return A(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Fm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ey=function(){function e(t){I(this,e),this.token=t,this.changeListener=null}return A(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),ty=function(){function e(t){I(this,e),this.t=t,this.currentUser=Fm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return A(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Xm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Xm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Bm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Bm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Bm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Km("string"==typeof n.accessToken),new Zm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Km(null===e||"string"==typeof e),new Fm(e)}}]),e}(),ny=function(){function e(t,n,r){I(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Fm.FIRST_PARTY,this.I=new Map}return A(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),ry=function(){function e(t,n,r){I(this,e),this.l=t,this.h=n,this.P=r}return A(e,[{key:"getToken",value:function(){return Promise.resolve(new ny(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Fm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),iy=A((function e(t){I(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ay=function(){function e(t){I(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return A(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Bm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Bm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Bm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Bm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Km("string"==typeof t.token),e.R=t.token,new iy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function oy(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var sy=function(){function e(){I(this,e)}return A(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=oy(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function uy(e,t){return e<t?-1:e>t?1:0}function cy(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ly(e){return e+"\0"}var fy=function(){function e(t,n){if(I(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Jm(Qm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Jm(Qm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Jm(Qm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jm(Qm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return A(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?uy(this.nanoseconds,e.nanoseconds):uy(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),hy=function(){function e(t){I(this,e),this.timestamp=t}return A(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new fy(0,0))}},{key:"max",value:function(){return new e(new fy(253402300799,999999999))}}]),e}(),dy=function(){function e(t,n,r){I(this,e),void 0===n?n=0:n>t.length&&Gm(),void 0===r?r=t.length-n:r>t.length-n&&Gm(),this.segments=t,this.offset=n,this.len=r}return A(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),py=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.apply(this,arguments)}return A(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Jm(Qm.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,y(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(dy),vy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,my=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.apply(this,arguments)}return A(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return vy.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Jm(Qm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Jm(Qm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Jm(Qm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Jm(Qm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(dy),yy=function(){function e(t){I(this,e),this.path=t}return A(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===py.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(py.fromString(t))}},{key:"fromName",value:function(t){return new e(py.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(py.emptyPath())}},{key:"comparator",value:function(e,t){return py.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new py(t.slice()))}}]),e}(),gy=A((function e(t,n,r,i){I(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ky(e){return e.fields.find((function(e){return 2===e.kind}))}function wy(e){return e.fields.filter((function(e){return 2!==e.kind}))}gy.UNKNOWN_ID=-1;var by=A((function e(t,n){I(this,e),this.fieldPath=t,this.kind=n}));var xy=function(){function e(t,n){I(this,e),this.sequenceNumber=t,this.offset=n}return A(e,null,[{key:"empty",value:function(){return new e(0,Ey.min())}}]),e}();function _y(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=hy.fromTimestamp(1e9===r?new fy(n+1,0):new fy(n,r));return new Ey(i,yy.empty(),t)}function Sy(e){return new Ey(e.readTime,e.key,-1)}var Ey=function(){function e(t,n,r){I(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return A(e,null,[{key:"min",value:function(){return new e(hy.min(),yy.empty(),-1)}},{key:"max",value:function(){return new e(hy.max(),yy.empty(),-1)}}]),e}();function Iy(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=yy.comparator(e.documentKey,t.documentKey))?n:uy(e.largestBatchId,t.largestBatchId)}var Ty="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ay=function(){function e(){I(this,e),this.onCommittedListeners=[]}return A(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Cy(e){return Ny.apply(this,arguments)}function Ny(){return(Ny=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Qm.FAILED_PRECONDITION&&t.message===Ty){e.next=2;break}throw t;case 2:Bm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dy=function(){function e(t){var n=this;I(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return A(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Gm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=z(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Oy=function(){function e(t,n){var r=this;I(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new Xm,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new My(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=Vy(e.target.error);r.m.reject(new My(t,n))}}return A(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(Bm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new jy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new My(n,t)}}}]),e}(),Ry=function(){function e(t,n,r){I(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(zn())&&qm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return A(e,[{key:"N",value:function(){var e=j(M().mark((function e(t){var n=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Bm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new My(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Jm(Qm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Jm(Qm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new My(t,n))},i.onupgradeneeded=function(e){Bm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){Bm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=j(M().mark((function e(t,n,r,i){var a,o,s,u,c=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=M().mark((function e(){var n,s,u,l;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=Oy.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),Dy.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.g;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,Bm("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if(!(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Bm("SimpleDb","Removing database:",e),Fy(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"v",value:function(){if(!Gn())return!1;if(e.C())return!0;var t=zn(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Py=function(){function e(t){I(this,e),this.q=t,this.K=!1,this.$=null}return A(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return Fy(this.q.delete())}}]),e}(),My=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this,Qm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return A(n)}(Jm);function Ly(e){return"IndexedDbTransactionError"===e.name}var jy=function(){function e(t){I(this,e),this.store=t}return A(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Bm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Bm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Fy(n)}},{key:"add",value:function(e){return Bm("SimpleDb","ADD",this.store.name,e,e),Fy(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Fy(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Bm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Bm("SimpleDb","DELETE",this.store.name,e),Fy(this.store.delete(e))}},{key:"count",value:function(){return Bm("SimpleDb","COUNT",this.store.name),Fy(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Dy((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Dy((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Bm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Dy((function(n,r){t.onerror=function(e){var t=Vy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new Dy((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Py(i),o=t(i.primaryKey,i.value,a);if(o instanceof Dy){var s=o.catch((function(e){return a.done(),Dy.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Dy.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Fy(e){return new Dy((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Vy(e.target.error);n(t)}}))}var Uy=!1;function Vy(e){var t=Ry.D(zn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Jm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Uy||(Uy=!0,setTimeout((function(){throw r}),0)),r}}return e}var zy=function(){function e(t,n){I(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return A(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;Bm("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Bm,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Ly(e.t4)){e.next=17;break}Bm("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Cy(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),By=function(){function e(t,n){I(this,e),this.localStore=t,this.persistence=n}return A(e,[{key:"ne",value:function(){var e=j(M().mark((function e(){var t,n=this,r=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Dy.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Bm("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return Bm("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Sy(t);Iy(r,n)>0&&(n=r)})),new Ey(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),qy=function(){function e(t,n){var r=this;I(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return A(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function Hy(e){return null==e}function Wy(e){return 0===e&&1/e==-1/0}function Gy(e){return"number"==typeof e&&Number.isInteger(e)&&!Wy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Ky(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Qy(t)),t=Yy(e.get(n),t);return Qy(t)}function Yy(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Qy(e){return e+"\x01\x01"}function Jy(e){var t=e.length;if(Km(t>=2),2===t)return Km("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),py.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Gm(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Gm()}a=o+2}return new py(r)}qy.ae=-1;var Xy=["userId","batchId"];function Zy(e,t){return[e,Ky(t)]}function $y(e,t,n){return[e,Ky(t),n]}var eg={},tg=["prefixPath","collectionGroup","readTime","documentId"],ng=["prefixPath","collectionGroup","documentId"],rg=["collectionGroup","readTime","prefixPath","documentId"],ig=["canonicalId","targetId"],ag=["targetId","path"],og=["path","targetId"],sg=["collectionId","parent"],ug=["indexId","uid"],cg=["uid","sequenceNumber"],lg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fg=["indexId","uid","orderedDocumentKey"],hg=["userId","collectionPath","documentId"],dg=["userId","collectionPath","largestBatchId"],pg=["userId","collectionGroup","largestBatchId"],vg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),mg=[].concat(y(vg),["documentOverlays"]),yg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gg=yg,kg=[].concat(gg,["indexConfiguration","indexState","indexEntries"]),wg=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return A(n)}(Ay);function bg(e,t){var n=Ym(e);return Ry.O(n.ue,t)}function xg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _g(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Eg=function(){function e(t,n){I(this,e),this.comparator=t,this.root=n||Tg.EMPTY}return A(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Tg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ig(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ig(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ig(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ig(this.root,e,this.comparator,!0)}}]),e}(),Ig=function(){function e(t,n,r,i){I(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return A(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Tg=function(){function e(t,n,r,i,a){I(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return A(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Gm();if(this.right.isRed())throw Gm();var e=this.left.check();if(e!==this.right.check())throw Gm();return e+(this.isRed()?0:1)}}]),e}();Tg.EMPTY=null,Tg.RED=!0,Tg.BLACK=!1,Tg.EMPTY=new(function(){function e(){I(this,e),this.size=0}return A(e,[{key:"key",get:function(){throw Gm()}},{key:"value",get:function(){throw Gm()}},{key:"color",get:function(){throw Gm()}},{key:"left",get:function(){throw Gm()}},{key:"right",get:function(){throw Gm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Tg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ag=function(){function e(t){I(this,e),this.comparator=t,this.data=new Eg(this.comparator)}return A(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Cg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Cg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Cg=function(){function e(t){I(this,e),this.iter=t}return A(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ng(e){return e.hasNext()?e.getNext():void 0}var Dg=function(){function e(t){I(this,e),this.fields=t,t.sort(my.comparator)}return A(e,[{key:"unionWith",value:function(t){var n,r=new Ag(my.comparator),i=z(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=z(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=z(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return cy(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Og=function(e){N(n,e);var t=P(n);function n(){var e;return I(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return A(n)}(U(Error));var Rg=function(e){function t(e){I(this,t),this.binaryString=e}return A(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return uy(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Og("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Rg.EMPTY_BYTE_STRING=new Rg("");var Pg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mg(e){if(Km(!!e),"string"==typeof e){var t=0,n=Pg.exec(e);if(Km(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Lg(e.seconds),nanos:Lg(e.nanos)}}function Lg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jg(e){return"string"==typeof e?Rg.fromBase64String(e):Rg.fromUint8Array(e)}function Fg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ug(e){var t=e.mapValue.fields.__previous_value__;return Fg(t)?Ug(t):t}function Vg(e){var t=Mg(e.mapValue.fields.__local_write_time__.timestampValue);return new fy(t.seconds,t.nanos)}var zg=A((function e(t,n,r,i,a,o,s,u,c){I(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),Bg=function(){function e(t,n){I(this,e),this.projectId=t,this.database=n||"(default)"}return A(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),qg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hg={nullValue:"NULL_VALUE"};function Wg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fg(e)?4:ak(e)?9007199254740991:10:Gm()}function Gg(e,t){if(e===t)return!0;var n=Wg(e);if(n!==Wg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vg(e).isEqual(Vg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Mg(e.timestampValue),r=Mg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jg(e.bytesValue).isEqual(jg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Lg(e.geoPointValue.latitude)===Lg(t.geoPointValue.latitude)&&Lg(e.geoPointValue.longitude)===Lg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Lg(e.integerValue)===Lg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Lg(e.doubleValue),r=Lg(t.doubleValue);return n===r?Wy(n)===Wy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return cy(e.arrayValue.values||[],t.arrayValue.values||[],Gg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xg(n)!==xg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gg(n[i],r[i])))return!1;return!0}(e,t);default:return Gm()}}function Kg(e,t){return void 0!==(e.values||[]).find((function(e){return Gg(e,t)}))}function Yg(e,t){if(e===t)return 0;var n=Wg(e),r=Wg(t);if(n!==r)return uy(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return uy(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Lg(e.integerValue||e.doubleValue),r=Lg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qg(e.timestampValue,t.timestampValue);case 4:return Qg(Vg(e),Vg(t));case 5:return uy(e.stringValue,t.stringValue);case 6:return function(e,t){var n=jg(e),r=jg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=uy(n[i],r[i]);if(0!==a)return a}return uy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=uy(Lg(e.latitude),Lg(t.latitude));return 0!==n?n:uy(Lg(e.longitude),Lg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Yg(n[i],r[i]);if(a)return a}return uy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===qg.mapValue&&t===qg.mapValue)return 0;if(e===qg.mapValue)return 1;if(t===qg.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=uy(r[o],a[o]);if(0!==s)return s;var u=Yg(n[r[o]],i[a[o]]);if(0!==u)return u}return uy(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Gm()}}function Qg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return uy(e,t);var n=Mg(e),r=Mg(t),i=uy(n.seconds,r.seconds);return 0!==i?i:uy(n.nanos,r.nanos)}function Jg(e){return Xg(e)}function Xg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Mg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return jg(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return yy.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=z(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Xg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=z(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Xg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Gm()}function Zg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $g(e){return!!e&&"integerValue"in e}function ek(e){return!!e&&"arrayValue"in e}function tk(e){return!!e&&"nullValue"in e}function nk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rk(e){return!!e&&"mapValue"in e}function ik(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return _g(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ik(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ik(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ak(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ok(e){return"nullValue"in e?Hg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Zg(Bg.empty(),yy.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Gm()}function sk(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Zg(Bg.empty(),yy.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?qg:Gm()}function uk(e,t){var n=Yg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ck(e,t){var n=Yg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var lk=function(){function e(t){I(this,e),this.value=t}return A(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!rk(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ik(t)}},{key:"setAll",value:function(e){var t=this,n=my.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ik(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());rk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Gg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];rk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){_g(t,(function(t,n){return e[t]=n}));var r,i=z(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ik(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function fk(e){var t=[];return _g(e.fields,(function(e,n){var r=new my([e]);if(rk(n)){var i=fk(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=z(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Dg(t)}var hk=function(){function e(t,n,r,i,a,o,s){I(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return A(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(hy.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=lk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=lk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=hy.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,hy.min(),hy.min(),hy.min(),lk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,hy.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,hy.min(),hy.min(),lk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,hy.min(),hy.min(),lk.empty(),2)}}]),e}(),dk=A((function e(t,n){I(this,e),this.position=t,this.inclusive=n}));function pk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?yy.comparator(yy.fromName(o.referenceValue),n.key):Yg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function vk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Gg(e.position[n],t.position[n]))return!1;return!0}var mk=A((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";I(this,e),this.field=t,this.dir=n}));function yk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var gk=A((function e(){I(this,e)})),kk=function(e){N(n,e);var t=P(n);function n(e,r,i){var a;return I(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return A(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yg(t,this.value)):null!==t&&Wg(this.value)===Wg(t)&&this.matchesComparison(Yg(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gm()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Ck(e,t,r):"array-contains"===t?new Rk(e,r):"in"===t?new Pk(e,r):"not-in"===t?new Mk(e,r):"array-contains-any"===t?new Lk(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Nk(e,n):new Dk(e,n)}}]),n}(gk),wk=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return A(n,[{key:"matches",value:function(e){return bk(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=z(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(gk);function bk(e){return"and"===e.op}function xk(e){return"or"===e.op}function _k(e){return Sk(e)&&bk(e)}function Sk(e){var t,n=z(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof wk)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Ek(e){if(e instanceof kk)return e.field.canonicalString()+e.op.toString()+Jg(e.value);if(_k(e))return e.filters.map((function(e){return Ek(e)})).join(",");var t=e.filters.map((function(e){return Ek(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Ik(e,t){return e instanceof kk?function(e,t){return t instanceof kk&&e.op===t.op&&e.field.isEqual(t.field)&&Gg(e.value,t.value)}(e,t):e instanceof wk?function(e,t){return t instanceof wk&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Ik(n,t.filters[r])}),!0)}(e,t):void Gm()}function Tk(e,t){var n=e.filters.concat(t);return wk.create(n,e.op)}function Ak(e){return e instanceof kk?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Jg(e.value))}(e):e instanceof wk?function(e){return e.op.toString()+" {"+e.getFilters().map(Ak).join(" ,")+"}"}(e):"Filter"}var Ck=function(e){N(n,e);var t=P(n);function n(e,r,i){var a;return I(this,n),(a=t.call(this,e,r,i)).key=yy.fromName(i.referenceValue),a}return A(n,[{key:"matches",value:function(e){var t=yy.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(kk),Nk=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this,e,"in",r)).keys=Ok("in",r),i}return A(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(kk),Dk=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this,e,"not-in",r)).keys=Ok("not-in",r),i}return A(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(kk);function Ok(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return yy.fromName(e.referenceValue)}))}var Rk=function(e){N(n,e);var t=P(n);function n(e,r){return I(this,n),t.call(this,e,"array-contains",r)}return A(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ek(t)&&Kg(t.arrayValue,this.value)}}]),n}(kk),Pk=function(e){N(n,e);var t=P(n);function n(e,r){return I(this,n),t.call(this,e,"in",r)}return A(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Kg(this.value.arrayValue,t)}}]),n}(kk),Mk=function(e){N(n,e);var t=P(n);function n(e,r){return I(this,n),t.call(this,e,"not-in",r)}return A(n,[{key:"matches",value:function(e){if(Kg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Kg(this.value.arrayValue,t)}}]),n}(kk),Lk=function(e){N(n,e);var t=P(n);function n(e,r){return I(this,n),t.call(this,e,"array-contains-any",r)}return A(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ek(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Kg(t.value.arrayValue,e)}))}}]),n}(kk),jk=A((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;I(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.he=null}));function Fk(e){return new jk(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Uk(e){var t=Ym(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Ek(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Hy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Jg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Jg(e)})).join(",")),t.he=n}return t.he}function Vk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!yk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Ik(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vk(e.startAt,t.startAt)&&vk(e.endAt,t.endAt)}function zk(e){return yy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Bk(e,t){return e.filters.filter((function(e){return e instanceof kk&&e.field.isEqual(t)}))}function qk(e,t,n){var r,i=Hg,a=!0,o=z(Bk(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Hg,c=!0;switch(s.op){case"<":case"<=":u=ok(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Hg}uk({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];uk({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Hk(e,t,n){var r,i=qg,a=!0,o=z(Bk(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=qg,c=!0;switch(s.op){case">=":case">":u=sk(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=qg}ck({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ck({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Wk=A((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;I(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}));function Gk(e,t,n,r,i,a,o,s){return new Wk(e,t,n,r,i,a,o,s)}function Kk(e){return new Wk(e)}function Yk(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Qk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Jk(e){var t,n=z(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Xk(e){return null!==e.collectionGroup}function Zk(e){var t=Ym(e);if(null===t.Pe){t.Pe=[];var n=Jk(t),r=Qk(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new mk(n)),t.Pe.push(new mk(my.keyField(),"asc"));else{var i,a=!1,o=z(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.Pe.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new mk(my.keyField(),u))}}}return t.Pe}function $k(e){var t=Ym(e);return t.Ie||(t.Ie=ew(t,Zk(e))),t.Ie}function ew(e,t){if("F"===e.limitType)return Fk(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new mk(e.field,t)}));var n=e.endAt?new dk(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new dk(e.startAt.position,e.startAt.inclusive):null;return Fk(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function tw(e,t){t.getFirstInequalityField(),Jk(e);var n=e.filters.concat([t]);return new Wk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function nw(e,t,n){return new Wk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rw(e,t){return Vk($k(e),$k(t))&&e.limitType===t.limitType}function iw(e){return"".concat(Uk($k(e)),"|lt:").concat(e.limitType)}function aw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Ak(e)})).join(", "),"]")),Hy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Jg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Jg(e)})).join(",")),"Target(".concat(t,")")}($k(e)),"; limitType=").concat(e.limitType,")")}function ow(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):yy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=z(Zk(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=z(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=pk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Zk(e),t))&&!(e.endAt&&!function(e,t,n){var r=pk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Zk(e),t))}(e,t)}function sw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uw(e){return function(t,n){var r,i=!1,a=z(Zk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=cw(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function cw(e,t,n){var r=e.field.isKeyField()?yy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yg(r,i):Gm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Gm()}}var lw=function(){function e(t,n){I(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return A(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=z(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){_g(this.inner,(function(t,n){var r,i=z(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Sg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),fw=new Eg(yy.comparator);function hw(){return fw}var dw=new Eg(yy.comparator);function pw(){for(var e=dw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function vw(e){var t=dw;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function mw(){return gw()}function yw(){return gw()}function gw(){return new lw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var kw=new Eg(yy.comparator),ww=new Ag(yy.comparator);function bw(){for(var e=ww,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var xw=new Ag(uy);function _w(){return xw}function Sw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wy(t)?"-0":t}}function Ew(e){return{integerValue:""+e}}function Iw(e,t){return Gy(t)?Ew(t):Sw(e,t)}var Tw=A((function e(){I(this,e),this._=void 0}));function Aw(e,t,n){return e instanceof Dw?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Fg(t)&&(t=Ug(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ow?Rw(e,t):e instanceof Pw?Mw(e,t):function(e,t){var n=Nw(e,t),r=jw(n)+jw(e.Ee);return $g(n)&&$g(e.Ee)?Ew(r):Sw(e.serializer,r)}(e,t)}function Cw(e,t,n){return e instanceof Ow?Rw(e,t):e instanceof Pw?Mw(e,t):n}function Nw(e,t){return e instanceof Lw?function(e){return $g(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Dw=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.apply(this,arguments)}return A(n)}(Tw),Ow=function(e){N(n,e);var t=P(n);function n(e){var r;return I(this,n),(r=t.call(this)).elements=e,r}return A(n)}(Tw);function Rw(e,t){var n,r=Fw(t),i=z(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Gg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Pw=function(e){N(n,e);var t=P(n);function n(e){var r;return I(this,n),(r=t.call(this)).elements=e,r}return A(n)}(Tw);function Mw(e,t){var n,r=Fw(t),i=z(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Gg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Lw=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this)).serializer=e,i.Ee=r,i}return A(n)}(Tw);function jw(e){return Lg(e.integerValue||e.doubleValue)}function Fw(e){return ek(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Uw=A((function e(t,n){I(this,e),this.field=t,this.transform=n}));var Vw=A((function e(t,n){I(this,e),this.version=t,this.transformResults=n})),zw=function(){function e(t,n){I(this,e),this.updateTime=t,this.exists=n}return A(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Bw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qw=A((function e(){I(this,e)}));function Hw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nb(e.key,zw.none()):new Qw(e.key,e.data,zw.none());var n,r=e.data,i=lk.empty(),a=new Ag(my.comparator),o=z(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Jw(e.key,i,new Dg(a.toArray()),zw.none())}function Ww(e,t,n){e instanceof Qw?function(e,t,n){var r=e.value.clone(),i=Zw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jw?function(e,t,n){if(Bw(e.precondition,t)){var r=Zw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Gw(e,t,n,r){return e instanceof Qw?function(e,t,n,r){if(!Bw(e.precondition,t))return n;var i=e.value.clone(),a=$w(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Jw?function(e,t,n,r){if(!Bw(e.precondition,t))return n;var i=$w(e.fieldTransforms,r,t),a=t.data;return a.setAll(Xw(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Bw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Kw(e,t){var n,r=null,i=z(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Nw(a.transform,o||null);null!=s&&(null===r&&(r=lk.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Yw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&cy(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ow&&t instanceof Ow||e instanceof Pw&&t instanceof Pw?cy(e.elements,t.elements,Gg):e instanceof Lw&&t instanceof Lw?Gg(e.Ee,t.Ee):e instanceof Dw&&t instanceof Dw}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Qw=function(e){N(n,e);var t=P(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return I(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return A(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qw),Jw=function(e){N(n,e);var t=P(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return I(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return A(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(qw);function Xw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Zw(e,t,n){var r=new Map;Km(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Cw(o,s,n[i]))}return r}function $w(e,t,n){var r,i=new Map,a=z(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Aw(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var eb,tb,nb=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return A(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qw),rb=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return A(n,[{key:"getFieldMask",value:function(){return null}}]),n}(qw),ib=function(){function e(t,n,r,i){I(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return A(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ww(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=z(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Gw(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=z(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Gw(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=yw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Hw(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(hy.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),bw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&cy(this.mutations,e.mutations,(function(e,t){return Yw(e,t)}))&&cy(this.baseMutations,e.baseMutations,(function(e,t){return Yw(e,t)}))}}]),e}(),ab=function(){function e(t,n,r,i){I(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return A(e,null,[{key:"from",value:function(t,n,r){Km(t.mutations.length===r.length);for(var i=kw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ob=function(){function e(t,n){I(this,e),this.largestBatchId=t,this.mutation=n}return A(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),sb=A((function e(t,n){I(this,e),this.count=t,this.unchangedNames=n}));function ub(e){switch(e){default:return Gm();case Qm.CANCELLED:case Qm.UNKNOWN:case Qm.DEADLINE_EXCEEDED:case Qm.RESOURCE_EXHAUSTED:case Qm.INTERNAL:case Qm.UNAVAILABLE:case Qm.UNAUTHENTICATED:return!1;case Qm.INVALID_ARGUMENT:case Qm.NOT_FOUND:case Qm.ALREADY_EXISTS:case Qm.PERMISSION_DENIED:case Qm.FAILED_PRECONDITION:case Qm.ABORTED:case Qm.OUT_OF_RANGE:case Qm.UNIMPLEMENTED:case Qm.DATA_LOSS:return!0}}function cb(e){if(void 0===e)return qm("GRPC error has no .code"),Qm.UNKNOWN;switch(e){case eb.OK:return Qm.OK;case eb.CANCELLED:return Qm.CANCELLED;case eb.UNKNOWN:return Qm.UNKNOWN;case eb.DEADLINE_EXCEEDED:return Qm.DEADLINE_EXCEEDED;case eb.RESOURCE_EXHAUSTED:return Qm.RESOURCE_EXHAUSTED;case eb.INTERNAL:return Qm.INTERNAL;case eb.UNAVAILABLE:return Qm.UNAVAILABLE;case eb.UNAUTHENTICATED:return Qm.UNAUTHENTICATED;case eb.INVALID_ARGUMENT:return Qm.INVALID_ARGUMENT;case eb.NOT_FOUND:return Qm.NOT_FOUND;case eb.ALREADY_EXISTS:return Qm.ALREADY_EXISTS;case eb.PERMISSION_DENIED:return Qm.PERMISSION_DENIED;case eb.FAILED_PRECONDITION:return Qm.FAILED_PRECONDITION;case eb.ABORTED:return Qm.ABORTED;case eb.OUT_OF_RANGE:return Qm.OUT_OF_RANGE;case eb.UNIMPLEMENTED:return Qm.UNIMPLEMENTED;case eb.DATA_LOSS:return Qm.DATA_LOSS;default:return Gm()}}(tb=eb||(eb={}))[tb.OK=0]="OK",tb[tb.CANCELLED=1]="CANCELLED",tb[tb.UNKNOWN=2]="UNKNOWN",tb[tb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tb[tb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tb[tb.NOT_FOUND=5]="NOT_FOUND",tb[tb.ALREADY_EXISTS=6]="ALREADY_EXISTS",tb[tb.PERMISSION_DENIED=7]="PERMISSION_DENIED",tb[tb.UNAUTHENTICATED=16]="UNAUTHENTICATED",tb[tb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tb[tb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tb[tb.ABORTED=10]="ABORTED",tb[tb.OUT_OF_RANGE=11]="OUT_OF_RANGE",tb[tb.UNIMPLEMENTED=12]="UNIMPLEMENTED",tb[tb.INTERNAL=13]="INTERNAL",tb[tb.UNAVAILABLE=14]="UNAVAILABLE",tb[tb.DATA_LOSS=15]="DATA_LOSS";var lb=function(){function e(){I(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return A(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return fb}},{key:"getOrCreateInstance",value:function(){return null===fb&&(fb=new e),fb}}]),e}(),fb=null;function hb(){return new TextEncoder}var db=new Lm([4294967295,4294967295],0);function pb(e){var t=hb().encode(e),n=new Mm;return n.update(t),new Uint8Array(n.digest())}function vb(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Lm([n,r],0),new Lm([i,a],0)]}var mb=function(){function e(t,n,r){if(I(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yb("Invalid padding: ".concat(n));if(r<0)throw new yb("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new yb("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new yb("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=Lm.fromNumber(this.Ae)}return A(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(Lm.fromNumber(n)));return 1===r.compare(db)&&(r=new Lm([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=c(vb(pb(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=c(vb(pb(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),yb=function(e){N(n,e);var t=P(n);function n(){var e;return I(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return A(n)}(U(Error)),gb=function(){function e(t,n,r,i,a){I(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return A(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,kb.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(hy.min(),i,new Eg(uy),hw(),bw())}}]),e}(),kb=function(){function e(t,n,r,i,a){I(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return A(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,bw(),bw(),bw())}}]),e}(),wb=A((function e(t,n,r,i){I(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),bb=A((function e(t,n){I(this,e),this.targetId=t,this.ye=n})),xb=A((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;I(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),_b=function(){function e(){I(this,e),this.we=0,this.Se=Ib(),this.be=Rg.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}return A(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"Ce",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.ve}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}},{key:"xe",value:function(){var e=bw(),t=bw(),n=bw();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Gm()}})),new kb(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.ve=!1,this.Se=Ib()}},{key:"Ne",value:function(e,t){this.ve=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.ve=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.ve=!0,this.De=!0}}]),e}(),Sb=function(){function e(t){I(this,e),this.Qe=t,this.Ke=new Map,this.$e=hw(),this.Ue=Eb(),this.We=new Eg(uy)}return A(e,[{key:"Ge",value:function(e){var t,n=z(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(s){n.e(s)}finally{n.f()}var i,a=z(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(s){a.e(s)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:Gm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t,n=e.targetId,r=e.ye.count,i=this.et(n);if(i){var a=i.target;if(zk(a))if(0===r){var o=new yy(a.path);this.je(n,o,hk.newNoDocument(o,hy.min()))}else Km(1===r);else{var s=this.tt(n);if(s!==r){var u=this.nt(e),c=u?this.rt(u,e,s):1;if(0!==c){this.Ze(n);var l=2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,l)}null===(t=lb.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r,i){var a,o,s,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(s,e.ye,this.Qe.it(),u,c))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=jg(o).toUint8Array()}catch(e){if(e instanceof Og)return Hm("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new mb(n,u,l)}catch(e){return Hm(e instanceof yb?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.st(e,t.targetId)?0:2}},{key:"st",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.it(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"ot",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&zk(a.target)){var o=new yy(a.target.path);null!==t.$e.get(o)||t._t(i,o)||t.je(i,o,hk.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=bw();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new gb(e,n,this.We,this.$e,r);return this.$e=hw(),this.Ue=Eb(),this.We=new Eg(uy),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this._t(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ut(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this._t(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ut(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new _b,this.Ke.set(e,t)),t}},{key:"ut",value:function(e){var t=this.Ue.get(e);return t||(t=new Ag(uy),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||Bm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.Ce?null:this.Qe.ct(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new _b),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"_t",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function Eb(){return new Eg(yy.comparator)}function Ib(){return new Eg(yy.comparator)}var Tb={asc:"ASCENDING",desc:"DESCENDING"},Ab={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cb={and:"AND",or:"OR"},Nb=A((function e(t,n){I(this,e),this.databaseId=t,this.useProto3Json=n}));function Db(e,t){return e.useProto3Json||Hy(t)?t:{value:t}}function Ob(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Rb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Pb(e,t){return Ob(e,t.toTimestamp())}function Mb(e){return Km(!!e),hy.fromTimestamp(function(e){var t=Mg(e);return new fy(t.seconds,t.nanos)}(e))}function Lb(e,t){return function(e){return new py(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function jb(e){var t=py.fromString(e);return Km(ox(t)),t}function Fb(e,t){return Lb(e.databaseId,t.path)}function Ub(e,t){var n=jb(t);if(n.get(1)!==e.databaseId.projectId)throw new Jm(Qm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Jm(Qm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yy(qb(n))}function Vb(e,t){return Lb(e.databaseId,t)}function zb(e){var t=jb(e);return 4===t.length?py.emptyPath():qb(t)}function Bb(e){return new py(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qb(e){return Km(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hb(e,t,n){return{name:Fb(e,t),fields:n.value.mapValue.fields}}function Wb(e,t,n){var r=Ub(e,t.name),i=Mb(t.updateTime),a=t.createTime?Mb(t.createTime):hy.min(),o=new lk({mapValue:{fields:t.fields}}),s=hk.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Gb(e,t){return"found"in t?function(e,t){Km(!!t.found),t.found.name,t.found.updateTime;var n=Ub(e,t.found.name),r=Mb(t.found.updateTime),i=t.found.createTime?Mb(t.found.createTime):hy.min(),a=new lk({mapValue:{fields:t.found.fields}});return hk.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Km(!!t.missing),Km(!!t.readTime);var n=Ub(e,t.missing),r=Mb(t.readTime);return hk.newNoDocument(n,r)}(e,t):Gm()}function Kb(e,t){var n;if(t instanceof Qw)n={update:Hb(e,t.key,t.value)};else if(t instanceof nb)n={delete:Fb(e,t.key)};else if(t instanceof Jw)n={update:Hb(e,t.key,t.data),updateMask:ax(t.fieldMask)};else{if(!(t instanceof rb))return Gm();n={verify:Fb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Dw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ow)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Lw)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw Gm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Pb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Gm()}(e,t.precondition)),n}function Yb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?zw.updateTime(Mb(e.updateTime)):void 0!==e.exists?zw.exists(e.exists):zw.none()}(t.currentDocument):zw.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Km("REQUEST_TIME"===t.setToServerValue),n=new Dw;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ow(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Pw(i)}else"increment"in t?n=new Lw(e,t.increment):Gm();var a=my.fromServerFormat(t.fieldPath);return new Uw(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ub(e,t.update.name),a=new lk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Dg(t.map((function(e){return my.fromServerFormat(e)})))}(t.updateMask);return new Jw(i,a,o,n,r)}return new Qw(i,a,n,r)}if(t.delete){var s=Ub(e,t.delete);return new nb(s,n)}if(t.verify){var u=Ub(e,t.verify);return new rb(u,n)}return Gm()}function Qb(e,t){return{documents:[Vb(e,t.path)]}}function Jb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return ix(wk.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:nx(e.field),direction:$b(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Db(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Xb(e){var t=zb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Km(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Zb(e);return t instanceof wk&&_k(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new mk(rx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return Hy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new dk(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new dk(n,t)}(n.endAt)),Gk(t,i,s,o,u,"F",c,l)}function Zb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=rx(e.unaryFilter.field);return kk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=rx(e.unaryFilter.field);return kk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=rx(e.unaryFilter.field);return kk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=rx(e.unaryFilter.field);return kk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Gm()}}(e):void 0!==e.fieldFilter?function(e){return kk.create(rx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return wk.create(e.compositeFilter.filters.map((function(e){return Zb(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Gm()}}(e.compositeFilter.op))}(e):Gm()}function $b(e){return Tb[e]}function ex(e){return Ab[e]}function tx(e){return Cb[e]}function nx(e){return{fieldPath:e.canonicalString()}}function rx(e){return my.fromServerFormat(e.fieldPath)}function ix(e){return e instanceof kk?function(e){if("=="===e.op){if(nk(e.value))return{unaryFilter:{field:nx(e.field),op:"IS_NAN"}};if(tk(e.value))return{unaryFilter:{field:nx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nk(e.value))return{unaryFilter:{field:nx(e.field),op:"IS_NOT_NAN"}};if(tk(e.value))return{unaryFilter:{field:nx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nx(e.field),op:ex(e.op),value:e.value}}}(e):e instanceof wk?function(e){var t=e.getFilters().map((function(e){return ix(e)}));return 1===t.length?t[0]:{compositeFilter:{op:tx(e.op),filters:t}}}(e):Gm()}function ax(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ox(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var sx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:hy.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:hy.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Rg.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;I(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return A(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),ux=A((function e(t){I(this,e),this.lt=t}));function cx(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Fb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ob(e,t.version.toTimestamp()),createTime:Ob(e,t.createTime.toTimestamp())}}(e.lt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:fx(t.version)};else{if(!t.isUnknownDocument())return Gm();r.unknownDocument={path:n.path.toArray(),version:fx(t.version)}}return r}function lx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function fx(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hx(e){var t=new fy(e.seconds,e.nanoseconds);return hy.fromTimestamp(t)}function dx(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Yb(e.lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Yb(e.lt,t)})),s=fy.fromMillis(t.localWriteTimeMs);return new ib(t.batchId,s,n,o)}function px(e){var t,n=hx(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?hx(e.lastLimboFreeSnapshotVersion):hy.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return Km(1===e.documents.length),$k(Kk(zb(e.documents[0])))}(e.query):function(e){return $k(Xb(e))}(e.query),new sx(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,Rg.fromBase64String(e.resumeToken))}function vx(e,t){var n,r=fx(t.snapshotVersion),i=fx(t.lastLimboFreeSnapshotVersion);n=zk(t.target)?Qb(e.lt,t.target):Jb(e.lt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Uk(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function mx(e){var t=Xb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?nw(t,t.limit,"L"):t}function yx(e,t){return new ob(t.largestBatchId,Yb(e.lt,t.overlayMutation))}function gx(e,t){var n=t.path.lastSegment();return[e,Ky(t.path.popLast()),n]}function kx(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:fx(r.readTime),documentKey:Ky(r.documentKey.path),largestBatchId:r.largestBatchId}}var wx=function(){function e(){I(this,e)}return A(e,[{key:"getBundleMetadata",value:function(e,t){return bx(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:hx(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return bx(e).put(function(e){return{bundleId:e.id,createTime:fx(Mb(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return xx(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:mx(e.bundledQuery),readTime:hx(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return xx(e).put(function(e){return{name:e.name,readTime:fx(Mb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function bx(e){return bg(e,"bundles")}function xx(e){return bg(e,"namedQueries")}var _x=function(){function e(t,n){I(this,e),this.serializer=t,this.userId=n}return A(e,[{key:"getOverlay",value:function(e,t){var n=this;return Sx(e).get(gx(this.userId,t)).next((function(e){return e?yx(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=mw();return Dy.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new ob(t,a);i.push(r.Pt(e,o))})),Dy.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Ky(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Sx(e).J("collectionPathOverlayIndex",i))})),Dy.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=mw(),a=Ky(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Sx(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=z(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=yx(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=mw(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sx(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=yx(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Pt",value:function(e,t){return Sx(e).put(function(e,t,n){var r=c(gx(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Kb(e.lt,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ht",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Sx(e){return bg(e,"documentOverlays")}var Ex=function(){function e(){I(this,e)}return A(e,[{key:"It",value:function(e,t){this.Tt(e,t),t.Et()}},{key:"Tt",value:function(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Lg(e.integerValue));else if("doubleValue"in e){var n=Lg(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Wy(n)?t.At(0):t.At(n))}else if("timestampValue"in e){var r=e.timestampValue;this.dt(t,20),"string"==typeof r?t.Rt(r):(t.Rt("".concat(r.seconds||"")),t.At(r.nanos||0))}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(jg(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?ak(e)?this.dt(t,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.St(e.arrayValue,t),this.ft(t)):Gm()}},{key:"Vt",value:function(e,t){this.dt(t,25),this.bt(e,t)}},{key:"bt",value:function(e,t){t.Rt(e)}},{key:"wt",value:function(e,t){var n=e.fields||{};this.dt(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Vt(a,t),this.Tt(n[a],t)}}},{key:"St",value:function(e,t){var n=e.values||[];this.dt(t,50);var r,i=z(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Tt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"yt",value:function(e,t){var n=this;this.dt(t,37),yy.fromName(e).path.forEach((function(e){n.dt(t,60),n.bt(e,t)}))}},{key:"dt",value:function(e,t){e.At(t)}},{key:"ft",value:function(e){e.At(2)}}]),e}();function Ix(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Tx(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Ix(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ex.Dt=new Ex;var Ax=function(){function e(){I(this,e),this.buffer=new Uint8Array(1024),this.position=0}return A(e,[{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ct(n.value),n=t.next();this.Ft()}},{key:"Mt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.xt(n.value),n=t.next();this.Ot()}},{key:"Nt",value:function(e){var t,n=z(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{var a=r.codePointAt(0);this.Ct(240|a>>>18),this.Ct(128|63&a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ft()}},{key:"Bt",value:function(e){var t,n=z(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.xt(i);else if(i<2048)this.xt(960|i>>>6),this.xt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.xt(480|i>>>12),this.xt(128|63&i>>>6),this.xt(128|63&i);else{var a=r.codePointAt(0);this.xt(240|a>>>18),this.xt(128|63&a>>>12),this.xt(128|63&a>>>6),this.xt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ot()}},{key:"Lt",value:function(e){var t=this.kt(e),n=Tx(t);this.qt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Qt",value:function(e){var t=this.kt(e),n=Tx(t);this.qt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Kt",value:function(){this.$t(255),this.$t(255)}},{key:"Ut",value:function(){this.Wt(255),this.Wt(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Gt",value:function(){return this.buffer.slice(0,this.position)}},{key:"kt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ct",value:function(e){var t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(t)}},{key:"xt",value:function(e){var t=255&e;0===t?(this.Wt(0),this.Wt(255)):255===t?(this.Wt(255),this.Wt(0)):this.Wt(e)}},{key:"Ft",value:function(){this.$t(0),this.$t(1)}},{key:"Ot",value:function(){this.Wt(0),this.Wt(1)}},{key:"$t",value:function(e){this.qt(1),this.buffer[this.position++]=e}},{key:"Wt",value:function(e){this.qt(1),this.buffer[this.position++]=~e}},{key:"qt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Cx=function(){function e(t){I(this,e),this.zt=t}return A(e,[{key:"gt",value:function(e){this.zt.vt(e)}},{key:"Rt",value:function(e){this.zt.Nt(e)}},{key:"At",value:function(e){this.zt.Lt(e)}},{key:"Et",value:function(){this.zt.Kt()}}]),e}(),Nx=function(){function e(t){I(this,e),this.zt=t}return A(e,[{key:"gt",value:function(e){this.zt.Mt(e)}},{key:"Rt",value:function(e){this.zt.Bt(e)}},{key:"At",value:function(e){this.zt.Qt(e)}},{key:"Et",value:function(){this.zt.Ut()}}]),e}(),Dx=function(){function e(){I(this,e),this.zt=new Ax,this.jt=new Cx(this.zt),this.Ht=new Nx(this.zt)}return A(e,[{key:"seed",value:function(e){this.zt.seed(e)}},{key:"Jt",value:function(e){return 0===e?this.jt:this.Ht}},{key:"Gt",value:function(){return this.zt.Gt()}},{key:"reset",value:function(){this.zt.reset()}}]),e}(),Ox=function(){function e(t,n,r,i){I(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return A(e,[{key:"Yt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Rx(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Px(e.arrayValue,t.arrayValue))?n:0!==(n=Px(e.directionalValue,t.directionalValue))?n:yy.comparator(e.documentKey,t.documentKey)}function Px(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Mx=function(){function e(t){I(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];var n,r=z(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.en=i:this.Xt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return A(e,[{key:"tn",value:function(e){Km(e.collectionGroup===this.collectionId);var t=ky(e);if(void 0!==t&&!this.nn(t))return!1;for(var n=wy(e),r=new Set,i=0,a=0;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.en){if(!r.has(this.en.field.canonicalString())){var o=n[i];if(!this.rn(this.en,o)||!this.sn(this.Zt[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Zt.length||!this.sn(this.Zt[a++],s))return!1}return!0}},{key:"nn",value:function(e){var t,n=z(this.Xt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.rn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"rn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Lx(e){var t,n;if(Km(e instanceof kk||e instanceof wk),e instanceof kk){if(e instanceof Pk){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return kk.create(e.field,"==",t)})))||[];return wk.create(r,"or")}return e}var i=e.filters.map((function(e){return Lx(e)}));return wk.create(i,e.op)}function jx(e){if(0===e.getFilters().length)return[];var t=zx(Lx(e));return Km(Vx(t)),Fx(t)||Ux(t)?[t]:t.getFilters()}function Fx(e){return e instanceof kk}function Ux(e){return e instanceof wk&&_k(e)}function Vx(e){return Fx(e)||Ux(e)||function(e){if(e instanceof wk&&xk(e)){var t,n=z(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Fx(r)&&!Ux(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function zx(e){if(Km(e instanceof kk||e instanceof wk),e instanceof kk)return e;if(1===e.filters.length)return zx(e.filters[0]);var t=e.filters.map((function(e){return zx(e)})),n=wk.create(t,e.op);return Vx(n=Hx(n))?n:(Km(n instanceof wk),Km(bk(n)),Km(n.filters.length>1),n.filters.reduce((function(e,t){return Bx(e,t)})))}function Bx(e,t){var n;return Km(e instanceof kk||e instanceof wk),Km(t instanceof kk||t instanceof wk),n=e instanceof kk?t instanceof kk?function(e,t){return wk.create([e,t],"and")}(e,t):qx(e,t):t instanceof kk?qx(t,e):function(e,t){if(Km(e.filters.length>0&&t.filters.length>0),bk(e)&&bk(t))return Tk(e,t.getFilters());var n=xk(e)?e:t,r=xk(e)?t:e,i=n.filters.map((function(e){return Bx(e,r)}));return wk.create(i,"or")}(e,t),Hx(n)}function qx(e,t){if(bk(t))return Tk(t,e.getFilters());var n=t.filters.map((function(t){return Bx(e,t)}));return wk.create(n,"or")}function Hx(e){if(Km(e instanceof kk||e instanceof wk),e instanceof kk)return e;var t=e.getFilters();if(1===t.length)return Hx(t[0]);if(Sk(e))return e;var n=t.map((function(e){return Hx(e)})),r=[];return n.forEach((function(t){t instanceof kk?r.push(t):t instanceof wk&&(t.op===e.op?r.push.apply(r,y(t.filters)):r.push(t))})),1===r.length?r[0]:wk.create(r,e.op)}var Wx=function(){function e(){I(this,e),this.on=new Gx}return A(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.on.add(t),Dy.resolve()}},{key:"getCollectionParents",value:function(e,t){return Dy.resolve(this.on.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Dy.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Dy.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Dy.resolve(null)}},{key:"getIndexType",value:function(e,t){return Dy.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Dy.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Dy.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Dy.resolve(Ey.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Dy.resolve(Ey.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Dy.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Dy.resolve()}}]),e}(),Gx=function(){function e(){I(this,e),this.index={}}return A(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ag(py.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ag(py.comparator)).toArray()}}]),e}(),Kx=new Uint8Array(0),Yx=function(){function e(t,n){I(this,e),this.user=t,this.databaseId=n,this._n=new Gx,this.an=new lw((function(e){return Uk(e)}),(function(e,t){return Vk(e,t)})),this.uid=t.uid||""}return A(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this._n.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n._n.add(t)}));var a={collectionId:r,parent:Ky(i)};return Qx(e).put(a)}return Dy.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ly(t),""],!1,!0);return Qx(e).G(r).next((function(e){var r,i=z(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Jy(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Xx(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Zx(e);return a.next((function(e){o.put(kx(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Xx(e),r=Zx(e),i=Jx(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Jx(e),i=!0,a=new Map;return Dy.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=bw(),o=[];return Dy.forEach(a,(function(i,a){Bm("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(Uk(t)));var s=function(e,t){var n=ky(t);if(void 0===n)return null;var r,i=z(Bk(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=z(wy(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=z(Bk(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=z(wy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?qk(e,o.fieldPath,e.startAt):Hk(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new dk(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=z(wy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Hk(e,o.fieldPath,e.endAt):qk(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new dk(r,i)}(a,i),f=n.ln(i,a,c),h=n.ln(i,a,l),d=n.hn(i,a,u),p=n.Pn(i.indexId,s,f,c.inclusive,h,l.inclusive,d);return Dy.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=yy.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Dy.resolve(null)}))}},{key:"un",value:function(e){var t=this.an.get(e);return t||(t=0===e.filters.length?[e]:jx(wk.create(e.filters,"and")).map((function(t){return Fk(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.an.set(e,t),t)}},{key:"Pn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.In(t[h/c]):Kx,f=s.Tn(e,u,n[h%c],r),d=s.En(e,u,i[h%c],a),p=o.map((function(t){return s.Tn(e,u,t,!0)}));l.push.apply(l,y(s.createRange(f,d,p)))},h=0;h<u;++h)f();return l}},{key:"Tn",value:function(e,t,n,r){var i=new Ox(e,yy.empty(),t,n);return r?i:i.Yt()}},{key:"En",value:function(e,t,n,r){var i=new Ox(e,yy.empty(),t,n);return r?i.Yt():i}},{key:"cn",value:function(e,t){var n=new Mx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=z(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return Dy.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Ag(my.comparator),r=!1,i=z(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=z(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=z(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"dn",value:function(e,t){var n,r=new Dx,i=z(wy(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Jt(a.kind);Ex.Dt.It(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Gt()}},{key:"In",value:function(e){var t=new Dx;return Ex.Dt.It(e,t.Jt(0)),t.Gt()}},{key:"An",value:function(e,t){var n=new Dx;return Ex.Dt.It(Zg(this.databaseId,t),n.Jt(function(e){var t=wy(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Gt()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Dx);var i,a=0,o=z(wy(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=z(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.Rn(t,u.fieldPath)&&ek(c))r=this.Vn(r,u,c);else{var h=f.Jt(u.kind);Ex.Dt.It(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.mn(r)}},{key:"ln",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"mn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Gt();return t}},{key:"Vn",value:function(e,t,n){var r,i=y(e),a=[],o=z(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=z(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new Dx;f.seed(l.Gt()),Ex.Dt.It(u,f.Jt(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"Rn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof kk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Xx(e),i=Zx(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return Dy.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new xy(t.sequenceNumber,new Ey(hx(t.readTime),new yy(Jy(t.documentKey)),t.largestBatchId)):xy.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new by(my.fromServerFormat(n),r)}));return new gy(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:uy(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Xx(e),a=Zx(e);return this.fn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Dy.forEach(t,(function(t){return a.put(kx(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Dy.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Dy.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Dy.forEach(a,(function(r){return n.gn(e,t,r).next((function(t){var a=n.pn(i,r);return t.isEqual(a)?Dy.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return Jx(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Sn",value:function(e,t,n,r){return Jx(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}},{key:"gn",value:function(e,t,n){var r=Jx(e),i=new Ag(Rx);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},(function(e,r){i=i.add(new Ox(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"pn",value:function(e,t){var n=new Ag(Rx),r=this.dn(t,e);if(null==r)return n;var i=ky(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ek(a)){var o,s=z(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Ox(t.indexId,e.key,this.In(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Ox(t.indexId,e.key,Kx,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;Bm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Ng(a),u=Ng(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Ng(o)):l?(i(s),s=Ng(a)):(s=Ng(a),u=Ng(o))}}(r,i,Rx,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.Sn(e,t,n,r))})),Dy.waitFor(o)}},{key:"fn",value:function(e){var t=1;return Zx(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Rx(e,t)})).filter((function(e,t,n){return!t||0!==Rx(e,n[t-1])}));var r=[];r.push(e);var i,a=z(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Rx(o,e),u=Rx(o,t);if(0===s)r[0]=e.Yt();else if(s>0&&u<0)r.push(o),r.push(o.Yt());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Kx,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Kx,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return Rx(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next($x)}},{key:"getMinOffset",value:function(e,t){var n=this;return Dy.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||Gm()}))})).next($x)}}]),e}();function Qx(e){return bg(e,"collectionParents")}function Jx(e){return bg(e,"indexEntries")}function Xx(e){return bg(e,"indexConfiguration")}function Zx(e){return bg(e,"indexState")}function $x(e){Km(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Iy(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ey(t.readTime,t.documentKey,n)}var e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t_=function(){function e(t,n,r){I(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return A(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function n_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Km(1===s)})));var c,l=[],f=z(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=$y(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Dy.waitFor(a).next((function(){return l}))}function r_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Gm();t=e.noDocument}return JSON.stringify(t).length}t_.DEFAULT_COLLECTION_PERCENTILE=10,t_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,t_.DEFAULT=new t_(41943040,t_.DEFAULT_COLLECTION_PERCENTILE,t_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),t_.DISABLED=new t_(-1,0,0);var i_=function(){function e(t,n,r,i){I(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}return A(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return o_(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=s_(e),o=o_(e);return o.add({}).next((function(s){Km("number"==typeof s);var u,c=new ib(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Kb(e.lt,t)})),i=n.mutations.map((function(t){return Kb(e.lt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Ag((function(e,t){return uy(e.canonicalString(),t.canonicalString())})),d=z(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=$y(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,eg))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Dn[s]=c.keys()})),Dy.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return o_(e).get(t).next((function(e){return e?(Km(e.userId===n.userId),dx(n.serializer,e)):null}))}},{key:"vn",value:function(e,t){var n=this;return this.Dn[t]?Dy.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Dn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return o_(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Km(t.batchId>=r),a=dx(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return o_(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return o_(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return dx(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Zy(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return s_(e).Z({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=Jy(l);if(u===n.userId&&t.path.isEqual(h))return o_(e).get(f).next((function(e){if(!e)throw Gm();Km(e.userId===n.userId),a.push(dx(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ag(uy),i=[];return t.forEach((function(t){var a=Zy(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=s_(e).Z({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=Jy(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),Dy.waitFor(i).next((function(){return n.Cn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Zy(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Ag(uy);return s_(e).Z({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],h=Jy(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Cn(e,s)}))}},{key:"Cn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(o_(e).get(t).next((function(e){if(null===e)throw Gm();Km(e.userId===n.userId),r.push(dx(n.serializer,e))})))})),Dy.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return n_(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Fn(t.batchId)})),Dy.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Fn",value:function(e){delete this.Dn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Dy.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return s_(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Jy(e[1]);i.push(a)}else r.done()})).next((function(){Km(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return a_(e,this.userId,t)}},{key:"Mn",value:function(e){var t=this;return u_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ht",value:function(t,n,r,i){return Km(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function a_(e,t,n){var r=Zy(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return s_(e).Z({range:a,Y:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function o_(e){return bg(e,"mutations")}function s_(e){return bg(e,"documentMutations")}function u_(e){return bg(e,"mutationQueues")}var c_=function(){function e(t){I(this,e),this.xn=t}return A(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"On",value:function(){return new e(0)}},{key:"Nn",value:function(){return new e(-1)}}]),e}(),l_=function(){function e(t,n){I(this,e),this.referenceDelegate=t,this.serializer=n}return A(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Bn(e).next((function(n){var r=new c_(n.highestTargetId);return n.highestTargetId=r.next(),t.Ln(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Bn(e).next((function(e){return hy.fromTimestamp(new fy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ln(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.kn(e,t).next((function(){return n.Bn(e).next((function(r){return r.targetCount+=1,n.qn(t,r),n.Ln(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.kn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return f_(e).delete(t.targetId)})).next((function(){return n.Bn(e)})).next((function(t){return Km(t.targetCount>0),t.targetCount-=1,n.Ln(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return f_(e).Z((function(o,s){var u=px(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Dy.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return f_(e).Z((function(e,n){var r=px(n);t(r)}))}},{key:"Bn",value:function(e){return h_(e).get("targetGlobalKey").next((function(e){return Km(null!==e),e}))}},{key:"Ln",value:function(e,t){return h_(e).put("targetGlobalKey",t)}},{key:"kn",value:function(e,t){return f_(e).put(vx(this.serializer,t))}},{key:"qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Uk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return f_(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=px(n);Vk(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=d_(e);return t.forEach((function(t){var o=Ky(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Dy.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=d_(e);return Dy.forEach(t,(function(t){var a=Ky(t.path);return Dy.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=d_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=d_(e),i=bw();return r.Z({range:n,Y:!0},(function(e,t,n){var r=Jy(e[1]),a=new yy(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Ky(t.path),r=IDBKeyRange.bound([n],[ly(n)],!1,!0),i=0;return d_(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ct",value:function(e,t){return f_(e).get(t).next((function(e){return e?px(e):null}))}}]),e}();function f_(e){return bg(e,"targets")}function h_(e){return bg(e,"targetGlobal")}function d_(e){return bg(e,"targetDocuments")}function p_(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=uy(r,o);return 0===u?uy(i,s):u}var v_=function(){function e(t){I(this,e),this.Qn=t,this.buffer=new Ag(p_),this.Kn=0}return A(e,[{key:"$n",value:function(){return++this.Kn}},{key:"Un",value:function(e){var t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();p_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),m_=function(){function e(t,n,r){I(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Wn=null}return A(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}},{key:"started",get:function(){return null!==this.Wn}},{key:"Gn",value:function(e){var t=this;Bm("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Wn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Ly(e.t0)){e.next=12;break}Bm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Cy(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),y_=function(){function e(t,n){I(this,e),this.zn=t,this.params=n}return A(e,[{key:"calculateTargetCount",value:function(e,t){return this.zn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Dy.resolve(qy.ae);var r=new v_(t);return this.zn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.zn.Hn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.zn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.zn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Bm("LruGarbageCollector","Garbage collection skipped; disabled"),Dy.resolve(e_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Bm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),e_):n.Jn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.zn.getCacheSize(e)}},{key:"Jn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Bm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),zm()<=fr.DEBUG&&Bm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Dy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function g_(e,t){return new y_(e,t)}var k_=function(){function e(t,n){I(this,e),this.db=t,this.garbageCollector=g_(this,n)}return A(e,[{key:"jn",value:function(e){var t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Yn",value:function(e){var t=0;return this.Hn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Hn",value:function(e,t){return this.Zn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return w_(e,n)}},{key:"removeReference",value:function(e,t,n){return w_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return w_(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return u_(e).X((function(r){return a_(e,r,t).next((function(e){return e&&(n=!0),Dy.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Zn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,hy.min()),d_(e).delete(function(e){return[0,Ky(e.path)]}(o))}))}));i.push(u)}})).next((function(){return Dy.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return w_(e,t)}},{key:"Zn",value:function(e,t){var n,r=d_(e),i=qy.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==qy.ae&&t(new yy(Jy(n)),i),i=u,n=s):i=qy.ae})).next((function(){i!==qy.ae&&t(new yy(Jy(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function w_(e,t){return d_(e).put(function(e,t){return{targetId:0,path:Ky(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var b_=function(){function e(){I(this,e),this.changes=new lw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return A(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,hk.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Dy.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),x_=function(){function e(t){I(this,e),this.serializer=t}return A(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return I_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return I_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],lx(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.er(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=hk.newInvalidDocument(t);return I_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(T_(t))},(function(e,i){r=n.tr(t,i)})).next((function(){return r}))}},{key:"nr",value:function(e,t){var n=this,r={size:0,document:hk.newInvalidDocument(t)};return I_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(T_(t))},(function(e,i){r={document:n.tr(t,i),size:r_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=hw();return this.rr(e,t,(function(e,t){var i=n.tr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r=hw(),i=new Eg(yy.comparator);return this.rr(e,t,(function(e,t){var a=n.tr(e,t);r=r.insert(e,a),i=i.insert(e,r_(t))})).next((function(){return{documents:r,sr:i}}))}},{key:"rr",value:function(e,t,n){if(t.isEmpty())return Dy.resolve();var r=new Ag(C_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(T_(r.first()),T_(r.last())),a=r.getIterator(),o=a.getNext();return I_(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=yy.fromSegments([].concat(y(t.prefixPath),[t.collectionGroup,t.documentId]));o&&C_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(T_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),lx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return I_(e).G(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=hw(),o=z(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.tr(yy.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(ow(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=hw(),o=A_(t,n),s=A_(t,Ey.max());return I_(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.tr(yy.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new S_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return E_(e).get("remoteDocumentGlobalKey").next((function(e){return Km(!!e),e}))}},{key:"er",value:function(e,t){return E_(e).put("remoteDocumentGlobalKey",t)}},{key:"tr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Wb(e.lt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=yy.fromSegments(t.noDocument.path),i=hx(t.noDocument.readTime);n=hk.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Gm();var a=yy.fromSegments(t.unknownDocument.path),o=hx(t.unknownDocument.version);n=hk.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new fy(e[0],e[1]);return hy.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(hy.min()))return n}return hk.newInvalidDocument(e)}}]),e}();function __(e){return new x_(e)}var S_=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this))._r=e,i.trackRemovals=r,i.ar=new lw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return A(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ag((function(e,t){return uy(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.ar.get(a);if(n.push(t._r.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=cx(t._r.serializer,o);i=i.add(a.path.popLast());var c=r_(u);r+=c-s.size,n.push(t._r.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=cx(t._r.serializer,o.convertToNoDocument(hy.min()));n.push(t._r.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t._r.indexManager.addToCollectionParentIndex(e,r))})),n.push(this._r.updateMetadata(e,r)),Dy.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this._r.nr(e,t).next((function(e){return n.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this._r.ir(e,t).next((function(e){var t=e.documents;return e.sr.forEach((function(e,r){n.ar.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(b_);function E_(e){return bg(e,"remoteDocumentGlobal")}function I_(e){return bg(e,"remoteDocumentsV14")}function T_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function A_(e,t){var n=t.documentKey.path.toArray();return[e,lx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function C_(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=uy(n[a],r[a]))return i;return(i=uy(n.length,r.length))||((i=uy(n[n.length-2],r[r.length-2]))||uy(n[n.length-1],r[r.length-1]))}var N_=A((function e(t,n){I(this,e),this.overlayedDocument=t,this.mutatedFields=n})),D_=function(){function e(t,n,r,i){I(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return A(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Gw(r.mutation,e,Dg.empty(),fy.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,bw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bw(),i=mw();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=pw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=mw();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,bw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=hw(),a=gw(),o=gw();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Jw)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Gw(o.mutation,t,o.mutation.getFieldMask(),fy.now())):a.set(t.key,Dg.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new N_(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=gw(),i=new Eg((function(e,t){return e-t})),a=bw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=z(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Dg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||bw()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=yw();c.forEach((function(e){if(!a.has(e)){var n=Hw(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Dy.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return yy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Dy.resolve(mw()),s=-1,u=a;return o.next((function(t){return Dy.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Dy.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,bw())})).next((function(e){return{batchId:s,changes:vw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new yy(t)).next((function(e){var t=pw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=pw();return this.indexManager.getCollectionParents(e,i).next((function(o){return Dy.forEach(o,(function(o){var s=function(e,t){return new Wk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,hk.newInvalidDocument(r)))}));var n=pw();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Gw(a.mutation,i,Dg.empty(),fy.now()),ow(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),O_=function(){function e(t){I(this,e),this.serializer=t,this.ur=new Map,this.cr=new Map}return A(e,[{key:"getBundleMetadata",value:function(e,t){return Dy.resolve(this.ur.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Mb(e.createTime)}}(t)),Dy.resolve()}},{key:"getNamedQuery",value:function(e,t){return Dy.resolve(this.cr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:mx(e.bundledQuery),readTime:Mb(e.readTime)}}(t)),Dy.resolve()}}]),e}(),R_=function(){function e(){I(this,e),this.overlays=new Eg(yy.comparator),this.lr=new Map}return A(e,[{key:"getOverlay",value:function(e,t){return Dy.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=mw();return Dy.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Pt(e,t,i)})),Dy.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.lr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.lr.delete(n)),Dy.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=mw(),i=t.length+1,a=new yy(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Dy.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Eg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=mw(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=mw(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Dy.resolve(u)}},{key:"Pt",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ob(t,n));var a=this.lr.get(t);void 0===a&&(a=bw(),this.lr.set(t,a)),this.lr.set(t,a.add(n.key))}}]),e}(),P_=function(){function e(){I(this,e),this.hr=new Ag(M_.Pr),this.Ir=new Ag(M_.Tr)}return A(e,[{key:"isEmpty",value:function(){return this.hr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new M_(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}},{key:"Er",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.dr(new M_(e,t))}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Rr",value:function(e){var t=this,n=new yy(new py([])),r=new M_(n,e),i=new M_(n,e+1),a=[];return this.Ir.forEachInRange([r,i],(function(e){t.dr(e),a.push(e.key)})),a}},{key:"Vr",value:function(){var e=this;this.hr.forEach((function(t){return e.dr(t)}))}},{key:"dr",value:function(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}},{key:"mr",value:function(e){var t=new yy(new py([])),n=new M_(t,e),r=new M_(t,e+1),i=bw();return this.Ir.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new M_(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),M_=function(){function e(t,n){I(this,e),this.key=t,this.gr=n}return A(e,null,[{key:"Pr",value:function(e,t){return yy.comparator(e.key,t.key)||uy(e.gr,t.gr)}},{key:"Tr",value:function(e,t){return uy(e.gr,t.gr)||yy.comparator(e.key,t.key)}}]),e}(),L_=function(){function e(t,n){I(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ag(M_.Pr)}return A(e,[{key:"checkEmpty",value:function(e){return Dy.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ib(i,t,n,r);this.mutationQueue.push(a);var o,s=z(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.yr=this.yr.add(new M_(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Dy.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Dy.resolve(this.wr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Sr(n),i=r<0?0:r;return Dy.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Dy.resolve(0===this.mutationQueue.length?-1:this.pr-1)}},{key:"getAllMutationBatches",value:function(e){return Dy.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new M_(t,0),i=new M_(t,Number.POSITIVE_INFINITY),a=[];return this.yr.forEachInRange([r,i],(function(e){var t=n.wr(e.gr);a.push(t)})),Dy.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ag(uy);return t.forEach((function(e){var t=new M_(e,0),i=new M_(e,Number.POSITIVE_INFINITY);n.yr.forEachInRange([t,i],(function(e){r=r.add(e.gr)}))})),Dy.resolve(this.br(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;yy.isDocumentKey(i)||(i=i.child(""));var a=new M_(new yy(i),0),o=new Ag(uy);return this.yr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),a),Dy.resolve(this.br(o))}},{key:"br",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.wr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Km(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.yr;return Dy.forEach(t.mutations,(function(i){var a=new M_(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.yr=r}))}},{key:"Fn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new M_(t,0),r=this.yr.firstAfterOrEqual(n);return Dy.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Dy.resolve()}},{key:"Dr",value:function(e,t){return this.Sr(e)}},{key:"Sr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"wr",value:function(e){var t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),j_=function(){function e(t){I(this,e),this.vr=t,this.docs=new Eg(yy.comparator),this.size=0}return A(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Dy.resolve(n?n.document.mutableCopy():hk.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=hw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():hk.newInvalidDocument(e))})),Dy.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=hw(),a=t.path,o=new yy(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Iy(Sy(l),n)<=0||(r.has(l.key)||ow(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Dy.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Gm()}},{key:"Cr",value:function(e,t){return Dy.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new F_(this)}},{key:"getSize",value:function(e){return Dy.resolve(this.size)}}]),e}(),F_=function(e){N(n,e);var t=P(n);function n(e){var r;return I(this,n),(r=t.call(this))._r=e,r}return A(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t._r.addEntry(e,i)):t._r.removeEntry(r)})),Dy.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this._r.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this._r.getEntries(e,t)}}]),n}(b_),U_=function(){function e(t){I(this,e),this.persistence=t,this.Fr=new lw((function(e){return Uk(e)}),Vk),this.lastRemoteSnapshotVersion=hy.min(),this.highestTargetId=0,this.Mr=0,this.Or=new P_,this.targetCount=0,this.Nr=c_.On()}return A(e,[{key:"forEachTarget",value:function(e,t){return this.Fr.forEach((function(e,n){return t(n)})),Dy.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Dy.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Dy.resolve(this.Mr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Nr.next(),Dy.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Dy.resolve()}},{key:"kn",value:function(e){this.Fr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Nr=new c_(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.kn(t),this.targetCount+=1,Dy.resolve()}},{key:"updateTargetData",value:function(e,t){return this.kn(t),Dy.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Dy.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Fr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Dy.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Dy.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fr.get(t)||null;return Dy.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Or.Er(t,n),Dy.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Or.Ar(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Dy.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Or.Rr(t),Dy.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Or.mr(t);return Dy.resolve(n)}},{key:"containsKey",value:function(e,t){return Dy.resolve(this.Or.containsKey(t))}}]),e}(),V_=function(){function e(t,n){var r=this;I(this,e),this.Br={},this.overlays={},this.Lr=new qy(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new U_(this),this.indexManager=new Wx,this.remoteDocumentCache=function(e){return new j_(e)}((function(e){return r.referenceDelegate.Qr(e)})),this.serializer=new ux(n),this.Kr=new O_(this.serializer)}return A(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new R_,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new L_(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;Bm("MemoryPersistence","Starting transaction:",e);var i=new z_(this.Lr.next());return this.referenceDelegate.$r(),n(i).next((function(e){return r.referenceDelegate.Ur(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Wr",value:function(e,t){return Dy.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),z_=function(e){N(n,e);var t=P(n);function n(e){var r;return I(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return A(n)}(Ay),B_=function(){function e(t){I(this,e),this.persistence=t,this.Gr=new P_,this.zr=null}return A(e,[{key:"Hr",get:function(){if(this.zr)return this.zr;throw Gm()}},{key:"addReference",value:function(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Dy.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Dy.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hr.add(t.toString()),Dy.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gr.Rr(t.targetId).forEach((function(e){return n.Hr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"$r",value:function(){this.zr=new Set}},{key:"Ur",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dy.forEach(this.Hr,(function(r){var i=yy.fromPath(r);return t.Jr(e,i).next((function(e){e||n.removeEntry(i,hy.min())}))})).next((function(){return t.zr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Jr(e,t).next((function(e){e?n.Hr.delete(t.toString()):n.Hr.add(t.toString())}))}},{key:"Qr",value:function(e){return 0}},{key:"Jr",value:function(e,t){var n=this;return Dy.or([function(){return Dy.resolve(n.Gr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Wr(e,t)}])}}],[{key:"jr",value:function(t){return new e(t)}}]),e}(),q_=function(){function e(t){I(this,e),this.serializer=t}return A(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new Oy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xy,{unique:!0}),e.createObjectStore("documentMutations")}(e),H_(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Dy.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),H_(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:hy.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xy,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Dy.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Zr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ei(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ni(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:hg});t.createIndex("collectionPathOverlayIndex",dg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",pg,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:tg});t.createIndex("documentKeyIndex",ng),t.createIndex("collectionGroupIndex",rg)}(e)})).next((function(){return i.ri(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ii(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ug}).createIndex("sequenceNumberIndex",cg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:lg}).createIndex("documentKeyIndex",fg,{unique:!1})}(e)}))),o}},{key:"Xr",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=r_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Zr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return Dy.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return Dy.forEach(r,(function(r){Km(r.userId===n.userId);var i=dx(t.serializer,r);return n_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ei",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new py(n),o=function(e){return[0,Ky(e)]}(a);r.push(t.get(o).next((function(n){return n?Dy.resolve():function(n){return t.put({targetId:0,path:Ky(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Dy.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:sg});var n=t.store("collectionParents"),r=new Gx,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ky(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new py(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],Jy(r));return i(a.popLast())}))}))}},{key:"ni",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=px(r),a=vx(t.serializer,i);return n.put(a)}))}},{key:"ri",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new yy(py.fromString(e.document.name).popFirst(5)):e.noDocument?yy.fromSegments(e.noDocument.path):e.unknownDocument?yy.fromSegments(e.unknownDocument.path):Gm()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Dy.waitFor(r)}))}},{key:"ii",value:function(e,t){var n=this,r=t.store("mutations"),i=__(this.serializer),a=new V_(B_.jr,this.serializer.lt);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:bw();dx(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Dy.forEach(r,(function(e,r){var o=new Fm(r),s=_x.ht(n.serializer,o),u=a.getIndexManager(o),c=i_.ht(o,n.serializer,u,a.referenceDelegate);return new D_(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new wg(t,qy.ae),e).next()}))}))}}]),e}();function H_(e){e.createObjectStore("targetDocuments",{keyPath:ag}).createIndex("documentTargetsIndex",og,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ig,{unique:!0}),e.createObjectStore("targetGlobal")}var W_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",G_=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(I(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=s,this.oi=c,this._i=l,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=function(e){return Promise.resolve()},!e.v())throw new Jm(Qm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new k_(this,i),this.Ii=n+"main",this.serializer=new ux(u),this.Ti=new Ry(this.Ii,this.ai,new q_(this.serializer)),this.qr=new l_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=__(this.serializer),this.Kr=new wx,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&qm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return A(e,[{key:"start",value:function(){var e=this;return this.di().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Jm(Qm.FAILED_PRECONDITION,W_);return e.Ai(),e.Ri(),e.Vi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qr.getHighestSequenceNumber(t)}))})).then((function(t){e.Lr=new qy(t,e.oi)})).then((function(){e.kr=!0})).catch((function(t){return e.Ti&&e.Ti.close(),Promise.reject(t)}))}},{key:"mi",value:function(e){var t=this;return this.Pi=function(){var n=j(M().mark((function n(r){return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ti.k(function(){var t=j(M().mark((function t(n){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.di();case 4:case"end":return e.stop()}}),e)})))))}},{key:"di",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Y_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.Pi(!1)})))}))})).next((function(){return e.gi(t)})).next((function(n){return e.isPrimary&&!n?e.pi(t).next((function(){return!1})):!!n&&e.yi(t).next((function(){return!0}))}))})).catch((function(t){if(Ly(t))return Bm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Bm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.Pi(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return K_(e).get("owner").next((function(e){return Dy.resolve(t.wi(e))}))}},{key:"Si",value:function(e){return Y_(e).delete(this.clientId)}},{key:"bi",value:function(){var e=j(M().mark((function e(){var t,n,r,i,a=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Di(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=bg(e,"clientMetadata");return t.G().next((function(e){var n=a.vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Dy.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ei){n=z(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ei.removeItem(this.Ci(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(){var e=this;this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.di().then((function(){return e.bi()})).then((function(){return e.Vi()}))}))}},{key:"wi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"gi",value:function(e){var t=this;return this._i?Dy.resolve(!0):K_(e).get("owner").next((function(n){if(null!==n&&t.Di(n.leaseTimestampMs,5e3)&&!t.Fi(n.ownerId)){if(t.wi(n)&&t.networkEnabled)return!0;if(!t.wi(n)){if(!n.allowTabSynchronization)throw new Jm(Qm.FAILED_PRECONDITION,W_);return!1}}return!(!t.networkEnabled||!t.inForeground)||Y_(e).G().next((function(e){return void 0===t.vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Bm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=j(M().mark((function e(){var t=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),e.next=7,this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new wg(e,qy.ae);return t.pi(n).next((function(){return t.Si(n)}))}));case 7:this.Ti.close(),this.Ni();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vi",value:function(e,t){var n=this;return e.filter((function(e){return n.Di(e.updateTimeMs,t)&&!n.Fi(e.clientId)}))}},{key:"Bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Y_(t).G().next((function(t){return e.vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.kr}},{key:"getMutationQueue",value:function(e,t){return i_.ht(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Yx(e,this.serializer.lt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return _x.ht(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;Bm("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?kg:14===e?gg:13===e?yg:12===e?mg:11===e?vg:void Gm()}(this.ai);return this.Ti.runTransaction(e,a,o,(function(a){return i=new wg(a,r.Lr?r.Lr.next():qy.ae),"readwrite-primary"===t?r.fi(i).next((function(e){return!!e||r.gi(i)})).next((function(t){if(!t)throw qm("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.Pi(!1)})),new Jm(Qm.FAILED_PRECONDITION,Ty);return n(i)})).next((function(e){return r.yi(i).next((function(){return e}))})):r.Li(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Li",value:function(e){var t=this;return K_(e).get("owner").next((function(e){if(null!==e&&t.Di(e.leaseTimestampMs,5e3)&&!t.Fi(e.ownerId)&&!t.wi(e)&&!(t._i||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Jm(Qm.FAILED_PRECONDITION,W_)}))}},{key:"yi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return K_(e).put("owner",t)}},{key:"pi",value:function(e){var t=this,n=K_(e);return n.get("owner").next((function(e){return t.wi(e)?(Bm("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Dy.resolve()}))}},{key:"Di",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(qm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ai",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.di()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"Ri",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Mi();var e=/(?:Version|Mobile)\/1[456]/;!Bn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Oi",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Fi",value:function(e){var t;try{var n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.Ci(e)));return Bm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return qm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Mi",value:function(){if(this.Ei)try{this.Ei.setItem(this.Ci(this.clientId),String(Date.now()))}catch(e){qm("Failed to set zombie client id.",e)}}},{key:"Ni",value:function(){if(this.Ei)try{this.Ei.removeItem(this.Ci(this.clientId))}catch(e){}}},{key:"Ci",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"v",value:function(){return Ry.v()}}]),e}();function K_(e){return bg(e,"owner")}function Y_(e){return bg(e,"clientMetadata")}function Q_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var J_=function(){function e(t,n,r,i){I(this,e),this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}return A(e,null,[{key:"Qi",value:function(t,n){var r,i=bw(),a=bw(),o=z(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),X_=function(){function e(){I(this,e),this.Ki=!1}return A(e,[{key:"initialize",value:function(e,t){this.$i=e,this.indexManager=t,this.Ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ui(e,t).next((function(a){return a||i.Wi(e,t,r,n)})).next((function(n){return n||i.Gi(e,t)}))}},{key:"Ui",value:function(e,t){var n=this;if(Yk(t))return Dy.resolve(null);var r=$k(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=nw(t,null,"F"),r=$k(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=bw.apply(void 0,y(i));return n.$i.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.zi(t,i);return n.ji(t,o,a,r.readTime)?n.Ui(e,nw(t,null,"F")):n.Hi(e,o,t,r)}))}))})))}))}},{key:"Wi",value:function(e,t,n,r){var i=this;return Yk(t)||r.isEqual(hy.min())?this.Gi(e,t):this.$i.getDocuments(e,n).next((function(a){var o=i.zi(t,a);return i.ji(t,o,n,r)?i.Gi(e,t):(zm()<=fr.DEBUG&&Bm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),aw(t)),i.Hi(e,o,t,_y(r,-1)))}))}},{key:"zi",value:function(e,t){var n=new Ag(uw(e));return t.forEach((function(t,r){ow(e,r)&&(n=n.add(r))})),n}},{key:"ji",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Gi",value:function(e,t){return zm()<=fr.DEBUG&&Bm("QueryEngine","Using full collection scan to execute query:",aw(t)),this.$i.getDocumentsMatchingQuery(e,t,Ey.min())}},{key:"Hi",value:function(e,t,n,r){return this.$i.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Z_=function(){function e(t,n,r,i){I(this,e),this.persistence=t,this.Ji=n,this.serializer=i,this.Yi=new Eg(uy),this.Zi=new lw((function(e){return Uk(e)}),Vk),this.Xi=new Map,this.es=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.ts(r)}return A(e,[{key:"ts",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D_(this.es,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.es.setIndexManager(this.indexManager),this.Ji.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Yi)}))}}]),e}();function $_(e,t,n,r){return new Z_(e,t,n,r)}function eS(e,t){return tS.apply(this,arguments)}function tS(){return tS=j(M().mark((function e(t,n){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.ts(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=bw(),u=z(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=z(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=z(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=z(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ns:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}function nS(e,t){var n=Ym(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.es.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Dy.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Km(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=bw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function rS(e){var t=Ym(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qr.getLastRemoteSnapshotVersion(e)}))}function iS(e,t){var n=Ym(e),r=t.snapshotVersion,i=n.Yi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.es.newChangeBuffer({trackRemovals:!0});i=n.Yi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.qr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Rg.EMPTY_BYTE_STRING,hy.min()).withLastLimboFreeSnapshotVersion(hy.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.qr.updateTargetData(e,c))}}));var s=hw(),u=bw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(aS(e,a,t.documentUpdates).next((function(e){s=e.rs,u=e.ss}))),!r.isEqual(hy.min())){var c=n.qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Dy.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Yi=i,e}))}function aS(e,t,n){var r=bw(),i=bw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=hw();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(hy.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Bm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{rs:r,ss:i}}))}function oS(e,t){var n=Ym(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function sS(e,t){var n=Ym(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qr.getTargetData(e,t).next((function(i){return i?(r=i,Dy.resolve(r)):n.qr.allocateTargetId(e).next((function(i){return r=new sx(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Yi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Yi=n.Yi.insert(e.targetId,e),n.Zi.set(t,e.targetId)),e}))}function uS(e,t,n){return cS.apply(this,arguments)}function cS(){return cS=j(M().mark((function e(t,n,r){var i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ym(t),a=i.Yi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ly(e.t1)){e.next=12;break}throw e.t1;case 12:Bm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Yi=i.Yi.remove(n),i.Zi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),cS.apply(this,arguments)}function lS(e,t,n){var r=Ym(e),i=hy.min(),a=bw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ym(e),i=r.Zi.get(n);return void 0!==i?Dy.resolve(r.Yi.get(i)):r.qr.getTargetData(t,n)}(r,e,$k(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ji.getDocumentsMatchingQuery(e,t,n?i:hy.min(),n?a:bw())})).next((function(e){return dS(r,sw(t),e),{documents:e,os:a}}))}))}function fS(e,t){var n=Ym(e),r=Ym(n.qr),i=n.Yi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ct(e,t).next((function(e){return e?e.target:null}))}))}function hS(e,t){var n=Ym(e),r=n.Xi.get(t)||hy.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.es.getAllFromCollectionGroup(e,t,_y(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return dS(n,t,e),e}))}function dS(e,t,n){var r=e.Xi.get(t)||hy.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function pS(e,t,n,r){return vS.apply(this,arguments)}function vS(){return vS=j(M().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ym(t),o=bw(),s=hw(),u=z(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n._s(l.metadata.name),l.document&&(o=o.add(f)),(h=n.us(l)).setReadTime(n.cs(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.es.newChangeBuffer({trackRemovals:!0}),e.next=7,sS(a,function(e){return $k(Kk(py.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return aS(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.rs,t.ss)})).next((function(){return t.rs}))}))})));case 9:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function mS(e,t){return yS.apply(this,arguments)}function yS(){return yS=j(M().mark((function e(t,n){var r,i,a,o=arguments;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:bw(),e.next=3,sS(t,$k(mx(n.bundledQuery)));case 3:return i=e.sent,a=Ym(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Mb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kr.saveNamedQuery(e,n);var o=i.withResumeToken(Rg.EMPTY_BYTE_STRING,t);return a.Yi=a.Yi.insert(o.targetId,o),a.qr.updateTargetData(e,o).next((function(){return a.qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}function gS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function kS(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function wS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var bS=function(){function e(t,n,r,i){I(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return A(e,[{key:"hs",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ls",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Jm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(qm("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),xS=function(){function e(t,n,r){I(this,e),this.targetId=t,this.state=n,this.error=r}return A(e,[{key:"hs",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ls",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Jm(i.error.code,i.error.message))),a?new e(t,i.state,r):(qm("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),_S=function(){function e(t,n){I(this,e),this.clientId=t,this.activeTargetIds=n}return A(e,null,[{key:"ls",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=_w(),o=0;i&&o<r.activeTargetIds.length;++o)i=Gy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(qm("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),SS=function(){function e(t,n){I(this,e),this.clientId=t,this.onlineState=n}return A(e,null,[{key:"ls",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(qm("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ES=function(){function e(){I(this,e),this.activeTargetIds=_w()}return A(e,[{key:"Ps",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Is",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hs",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),IS=function(){function e(t,n,r,i,a){I(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.Ts=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Es=this.ds.bind(this),this.As=new Eg(uy),this.started=!1,this.Rs=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Vs=gS(this.persistenceKey,this.Ts),this.fs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.As=this.As.insert(this.Ts,new ES),this.gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ps=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.ys=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.ws=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ss=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Es)}return A(e,[{key:"start",value:function(){var e=j(M().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Bi();case 2:t=e.sent,n=z(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Ts){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(gS(this.persistenceKey,i)))&&(o=_S.ls(i,a))&&(this.As=this.As.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.bs(),(s=this.storage.getItem(this.ws))&&(u=this.Ds(s))&&this.vs(u),c=z(this.Rs);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ds(f)}catch(d){c.e(d)}finally{c.f()}this.Rs=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.fs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Cs(this.As)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.As.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Fs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Fs(e,t,n),this.Ms(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(wS(this.persistenceKey,e));if(n){var r=xS.ls(e,n);r&&(t=r.state)}}return this.xs.Ps(e),this.bs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.xs.Is(e),this.bs()}},{key:"isLocalQueryTarget",value:function(e){return this.xs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(wS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Os(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ms(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ns(e)}},{key:"notifyBundleLoaded",value:function(e){this.Bs(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Es),this.removeItem(this.Vs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Bm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Bm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Bm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ds",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Bm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Vs)return void qm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(j(M().mark((function e(){var r,i,a,o,s,u,c;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Ls(n.key),e.abrupt("return",t.ks(r,null));case 6:if(!(i=t.qs(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ks(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ps.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Qs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Ks(a));case 16:e.next=41;break;case 18:if(!t.ys.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.$s(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Us(o));case 23:e.next=41;break;case 25:if(n.key!==t.ws){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Ds(n.newValue))){e.next=30;break}return e.abrupt("return",t.vs(s));case 30:e.next=41;break;case 32:if(n.key!==t.fs){e.next=37;break}u=function(e){var t=qy.ae;if(null!=e)try{var n=JSON.parse(e);Km("number"==typeof n),t=n}catch(e){qm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==qy.ae&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Ss){e.next=41;break}return c=t.Ws(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Gs(e)})));case 41:e.next=44;break;case 43:t.Rs.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"xs",get:function(){return this.As.get(this.Ts)}},{key:"bs",value:function(){this.setItem(this.Vs,this.xs.hs())}},{key:"Fs",value:function(e,t,n){var r=new bS(this.currentUser,e,t,n),i=kS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hs())}},{key:"Ms",value:function(e){var t=kS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ns",value:function(e){var t={clientId:this.Ts,onlineState:e};this.storage.setItem(this.ws,JSON.stringify(t))}},{key:"Os",value:function(e,t,n){var r=wS(this.persistenceKey,e),i=new xS(e,t,n);this.setItem(r,i.hs())}},{key:"Bs",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Ss,t)}},{key:"Ls",value:function(e){var t=this.gs.exec(e);return t?t[1]:null}},{key:"qs",value:function(e,t){var n=this.Ls(e);return _S.ls(n,t)}},{key:"Qs",value:function(e,t){var n=this.ps.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return bS.ls(new Fm(i),r,t)}},{key:"$s",value:function(e,t){var n=this.ys.exec(e),r=Number(n[1]);return xS.ls(r,t)}},{key:"Ds",value:function(e){return SS.ls(e)}},{key:"Ws",value:function(e){return JSON.parse(e)}},{key:"Ks",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.zs(t.batchId,t.state,t.error));case 2:Bm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Us",value:function(e){return this.syncEngine.js(e.targetId,e.state,e.error)}},{key:"ks",value:function(e,t){var n=this,r=t?this.As.insert(e,t):this.As.remove(e),i=this.Cs(this.As),a=this.Cs(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Hs(o,s).then((function(){n.As=r}))}},{key:"vs",value:function(e){this.As.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Cs",value:function(e){var t=_w();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"v",value:function(e){return!(!e||!e.localStorage)}}]),e}(),TS=function(){function e(){I(this,e),this.Js=new ES,this.Ys={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return A(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Js.Ps(e),this.Ys[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ys[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Js.Is(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Js.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ys[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Js.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Js.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Js=new ES,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),AS=function(){function e(){I(this,e)}return A(e,[{key:"Zs",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),CS=function(){function e(){var t=this;I(this,e),this.Xs=function(){return t.eo()},this.no=function(){return t.ro()},this.io=[],this.so()}return A(e,[{key:"Zs",value:function(e){this.io.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xs),window.removeEventListener("offline",this.no)}},{key:"so",value:function(){window.addEventListener("online",this.Xs),window.addEventListener("offline",this.no)}},{key:"eo",value:function(){Bm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=z(this.io);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ro",value:function(){Bm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=z(this.io);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),NS=null;function DS(){return null===NS?NS=268435456+Math.round(2147483648*Math.random()):NS++,"0x"+NS.toString(16)}var OS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},RS=function(){function e(t){I(this,e),this.oo=t.oo,this._o=t._o}return A(e,[{key:"ao",value:function(e){this.uo=e}},{key:"co",value:function(e){this.lo=e}},{key:"onMessage",value:function(e){this.ho=e}},{key:"close",value:function(){this._o()}},{key:"send",value:function(e){this.oo(e)}},{key:"Po",value:function(){this.uo()}},{key:"Io",value:function(e){this.lo(e)}},{key:"To",value:function(e){this.ho(e)}}]),e}(),PS="WebChannelConnection",MS=function(e){N(n,e);var t=P(n);function n(e){var r;return I(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return A(n,[{key:"yo",value:function(e,t,n,r){var i=DS();return new Promise((function(a,o){var s=new Pm;s.setWithCredentials(!0),s.listenOnce(Cm.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Am.NO_ERROR:var t=s.getResponseJson();Bm(PS,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Am.TIMEOUT:Bm(PS,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Jm(Qm.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:var n=s.getStatus();if(Bm(PS,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Qm).indexOf(t)>=0?t:Qm.UNKNOWN}(u.status);o(new Jm(c,u.message))}else o(new Jm(Qm.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Jm(Qm.UNAVAILABLE,"Connection failed."));break;default:Gm()}}finally{Bm(PS,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Bm(PS,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"So",value:function(e,t,n){var r=DS(),i=[this.Eo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Im(),o=Tm(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new Om({})),this.po(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");Bm(PS,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new RS({oo:function(t){h?Bm(PS,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Bm(PS,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Bm(PS,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},_o:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Rm.EventType.OPEN,(function(){h||Bm(PS,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Rm.EventType.CLOSE,(function(){h||(h=!0,Bm(PS,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Io())})),p(l,Rm.EventType.ERROR,(function(t){h||(h=!0,Hm(PS,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Io(new Jm(Qm.UNAVAILABLE,"The operation could not be completed")))})),p(l,Rm.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Km(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Bm(PS,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=eb[e];if(void 0!==t)return cb(t)}(s),c=o.message;void 0===u&&(u=Qm.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.Io(new Jm(u,c)),l.close()}else Bm(PS,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.To(i)}})),p(o,Nm.STAT_EVENT,(function(t){t.stat===Dm.PROXY?Bm(PS,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Dm.NOPROXY&&Bm(PS,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Po()}),0),d}}]),n}(function(){function e(t){I(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Eo=n+"://"+t.host,this.Ao="projects/".concat(r,"/databases/").concat(i),this.Ro="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return A(e,[{key:"Vo",get:function(){return!1}},{key:"mo",value:function(e,t,n,r,i){var a=DS(),o=this.fo(e,t);Bm("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.Ao,"x-goog-request-params":this.Ro};return this.po(s,r,i),this.yo(e,o,s,n).then((function(t){return Bm("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Hm("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"wo",value:function(e,t,n,r,i,a){return this.mo(e,t,n,r,i)}},{key:"po",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Um,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=OS[e];return"".concat(this.Eo,"/v1/").concat(t,":").concat(n)}}]),e}());function LS(){return"undefined"!=typeof window?window:null}function jS(){return"undefined"!=typeof document?document:null}function FS(e){return new Nb(e,!0)}var US=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;I(this,e),this.si=t,this.timerId=n,this.bo=r,this.Do=i,this.vo=a,this.Co=0,this.Fo=null,this.Mo=Date.now(),this.reset()}return A(e,[{key:"reset",value:function(){this.Co=0}},{key:"xo",value:function(){this.Co=this.vo}},{key:"Oo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Co+this.No()),r=Math.max(0,Date.now()-this.Mo),i=Math.max(0,n-r);i>0&&Bm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Co," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Fo=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Mo=Date.now(),e()})),this.Co*=this.Do,this.Co<this.bo&&(this.Co=this.bo),this.Co>this.vo&&(this.Co=this.vo)}},{key:"Bo",value:function(){null!==this.Fo&&(this.Fo.skipDelay(),this.Fo=null)}},{key:"cancel",value:function(){null!==this.Fo&&(this.Fo.cancel(),this.Fo=null)}},{key:"No",value:function(){return(Math.random()-.5)*this.Co}}]),e}(),VS=function(){function e(t,n,r,i,a,o,s,u){I(this,e),this.si=t,this.Lo=r,this.ko=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.qo=0,this.Qo=null,this.Ko=null,this.stream=null,this.$o=new US(t,n)}return A(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Wo()}},{key:"Wo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zo",value:function(){this.state=0,this.$o.reset()}},{key:"jo",value:function(){var e=this;this.Wo()&&null===this.Qo&&(this.Qo=this.si.enqueueAfterDelay(this.Lo,6e4,(function(){return e.Ho()})))}},{key:"Jo",value:function(e){this.Yo(),this.stream.send(e)}},{key:"Ho",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Wo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}},{key:"Zo",value:function(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}},{key:"close",value:function(){var e=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Yo(),this.Zo(),this.$o.cancel(),this.qo++,4!==t?this.$o.reset():n&&n.code===Qm.RESOURCE_EXHAUSTED?(qm(n.toString()),qm("Using maximum backoff delay to prevent overloading the backend."),this.$o.xo()):n&&n.code===Qm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Xo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.co(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Xo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.e_(this.qo),n=this.qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.qo===n&&e.t_(i,a)}),(function(n){t((function(){var t=new Jm(Qm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.n_(t)}))}))}},{key:"t_",value:function(e,t){var n=this,r=this.e_(this.qo);this.stream=this.r_(e,t),this.stream.ao((function(){r((function(){return n.state=2,n.Ko=n.si.enqueueAfterDelay(n.ko,1e4,(function(){return n.Wo()&&(n.state=3),Promise.resolve()})),n.listener.ao()}))})),this.stream.co((function(e){r((function(){return n.n_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.$o.Oo(j(M().mark((function t(){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"n_",value:function(e){return Bm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"e_",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.qo===e?n():(Bm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),zS=function(e){N(n,e);var t=P(n);function n(e,r,i,a,o,s){var u;return I(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return A(n,[{key:"r_",value:function(e,t){return this.connection.So("Listen",e,t)}},{key:"onMessage",value:function(e){this.$o.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Gm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Km(void 0===t||"string"==typeof t),Rg.fromBase64String(t||"")):(Km(void 0===t||t instanceof Uint8Array),Rg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Qm.UNKNOWN:cb(e.code);return new Jm(t,e.message||"")}(o);n=new xb(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Ub(e,u.document.name),l=Mb(u.document.updateTime),f=u.document.createTime?Mb(u.document.createTime):hy.min(),h=new lk({mapValue:{fields:u.document.fields}}),d=hk.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new wb(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Ub(e,m.document),g=m.readTime?Mb(m.readTime):hy.min(),k=hk.newNoDocument(y,g),w=m.removedTargetIds||[];n=new wb([],w,k.key,k)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var x=Ub(e,b.document),_=b.removedTargetIds||[];n=new wb([],_,x,null)}else{if(!("filter"in t))return Gm();t.filter;var S=t.filter;S.targetId;var E=S.count,I=void 0===E?0:E,T=S.unchangedNames,A=new sb(I,T),C=S.targetId;n=new bb(C,A)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return hy.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?hy.min():t.readTime?Mb(t.readTime):hy.min()}(e);return this.listener.i_(t,n)}},{key:"s_",value:function(e){var t={};t.database=Bb(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=zk(r)?{documents:Qb(e,r)}:{query:Jb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Rb(e,t.resumeToken);var i=Db(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(hy.min())>0){n.readTime=Ob(e,t.snapshotVersion.toTimestamp());var a=Db(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gm()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Jo(t)}},{key:"o_",value:function(e){var t={};t.database=Bb(this.serializer),t.removeTarget=e,this.Jo(t)}}]),n}(VS),BS=function(e){N(n,e);var t=P(n);function n(e,r,i,a,o,s){var u;return I(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.__=!1,u}return A(n,[{key:"a_",get:function(){return this.__}},{key:"start",value:function(){this.__=!1,this.lastStreamToken=void 0,Pi(D(n.prototype),"start",this).call(this)}},{key:"Xo",value:function(){this.__&&this.u_([])}},{key:"r_",value:function(e,t){return this.connection.So("Write",e,t)}},{key:"onMessage",value:function(e){if(Km(!!e.streamToken),this.lastStreamToken=e.streamToken,this.__){this.$o.reset();var t=function(e,t){return e&&e.length>0?(Km(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Mb(e.updateTime):Mb(t);return n.isEqual(hy.min())&&(n=Mb(t)),new Vw(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Mb(e.commitTime);return this.listener.c_(n,t)}return Km(!e.writeResults||0===e.writeResults.length),this.__=!0,this.listener.l_()}},{key:"h_",value:function(){var e={};e.database=Bb(this.serializer),this.Jo(e)}},{key:"u_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Kb(t.serializer,e)}))};this.Jo(n)}}]),n}(VS),qS=function(e){N(n,e);var t=P(n);function n(e,r,i,a){var o;return I(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.P_=!1,o}return A(n,[{key:"I_",value:function(){if(this.P_)throw new Jm(Qm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"mo",value:function(e,t,n){var r=this;return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.connection.mo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Qm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Jm(Qm.UNKNOWN,e.toString())}))}},{key:"wo",value:function(e,t,n,r){var i=this;return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.connection.wo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Qm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Jm(Qm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.P_=!0}}]),n}(A((function e(){I(this,e)})));var HS=function(){function e(t,n){I(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.E_=0,this.d_=null,this.A_=!0}return A(e,[{key:"R_",value:function(){var e=this;0===this.E_&&(this.V_("Unknown"),this.d_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.d_=null,e.m_("Backend didn't respond within 10 seconds."),e.V_("Offline"),Promise.resolve()})))}},{key:"f_",value:function(e){"Online"===this.state?this.V_("Unknown"):(this.E_++,this.E_>=1&&(this.g_(),this.m_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.V_("Offline")))}},{key:"set",value:function(e){this.g_(),this.E_=0,"Online"===e&&(this.A_=!1),this.V_(e)}},{key:"V_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"m_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.A_?(qm(t),this.A_=!1):Bm("OnlineStateTracker",t)}},{key:"g_",value:function(){null!==this.d_&&(this.d_.cancel(),this.d_=null)}}]),e}(),WS=A((function e(t,n,r,i,a){var o=this;I(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.p_=[],this.y_=new Map,this.w_=new Set,this.S_=[],this.b_=a,this.b_.Zs((function(e){r.enqueueAndForget(j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=nE(o),!e.t0){e.next=5;break}return Bm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ym(t)).w_.add(4),e.next=4,YS(n);case 4:return n.D_.set("Unknown"),n.w_.delete(4),e.next=8,GS(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.D_=new HS(r,i)}));function GS(e){return KS.apply(this,arguments)}function KS(){return(KS=j(M().mark((function e(t){var n,r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nE(t)){e.next=18;break}n=z(t.S_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function YS(e){return QS.apply(this,arguments)}function QS(){return(QS=j(M().mark((function e(t){var n,r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=z(t.S_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function JS(e,t){var n=Ym(e);n.y_.has(t.targetId)||(n.y_.set(t.targetId,t),tE(n)?eE(n):DE(n).Wo()&&ZS(n,t))}function XS(e,t){var n=Ym(e),r=DE(n);n.y_.delete(t),r.Wo()&&$S(n,t),0===n.y_.size&&(r.Wo()?r.jo():nE(n)&&n.D_.set("Unknown"))}function ZS(e,t){if(e.v_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(hy.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}DE(e).s_(t)}function $S(e,t){e.v_.Le(t),DE(e).o_(t)}function eE(e){e.v_=new Sb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ct:function(t){return e.y_.get(t)||null},it:function(){return e.datastore.serializer.databaseId}}),DE(e).start(),e.D_.R_()}function tE(e){return nE(e)&&!DE(e).Uo()&&e.y_.size>0}function nE(e){return 0===Ym(e).w_.size}function rE(e){e.v_=void 0}function iE(e){return aE.apply(this,arguments)}function aE(){return(aE=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.y_.forEach((function(e,n){ZS(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oE(e,t){return sE.apply(this,arguments)}function sE(){return(sE=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rE(t),tE(t)?(t.D_.f_(n),eE(t)):t.D_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uE(e,t,n){return cE.apply(this,arguments)}function cE(){return cE=j(M().mark((function e(t,n,r){var i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.D_.set("Online"),!(n instanceof xb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=j(M().mark((function e(t,n){var r,i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=z(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.y_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.y_.delete(o),t.v_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Bm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,lE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof wb?t.v_.Ge(n):n instanceof bb?t.v_.Xe(n):t.v_.He(n),r.isEqual(hy.min())){e.next=29;break}return e.prev=14,e.next=17,rS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.v_.ot(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.y_.get(r);i&&e.y_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.y_.get(t);if(r){e.y_.set(t,r.withResumeToken(Rg.EMPTY_BYTE_STRING,r.snapshotVersion)),$S(e,t);var i=new sx(r.target,t,n,r.sequenceNumber);ZS(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Bm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,lE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),cE.apply(this,arguments)}function lE(e,t,n){return fE.apply(this,arguments)}function fE(){return(fE=j(M().mark((function e(t,n,r){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ly(n)){e.next=2;break}throw n;case 2:return t.w_.add(1),e.next=5,YS(t);case 5:t.D_.set("Offline"),r||(r=function(){return rS(t.localStore)}),t.asyncQueue.enqueueRetryable(j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.w_.delete(1),e.next=6,GS(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hE(e,t){return t().catch((function(n){return lE(e,n,t)}))}function dE(e){return pE.apply(this,arguments)}function pE(){return pE=j(M().mark((function e(t){var n,r,i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ym(t),r=OE(n),i=n.p_.length>0?n.p_[n.p_.length-1].batchId:-1;case 2:if(!vE(n)){e.next=19;break}return e.prev=3,e.next=6,oS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.p_.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,mE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,lE(n,e.t0);case 17:e.next=2;break;case 19:yE(n)&&gE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),pE.apply(this,arguments)}function vE(e){return nE(e)&&e.p_.length<10}function mE(e,t){e.p_.push(t);var n=OE(e);n.Wo()&&n.a_&&n.u_(t.mutations)}function yE(e){return nE(e)&&!OE(e).Uo()&&e.p_.length>0}function gE(e){OE(e).start()}function kE(e){return wE.apply(this,arguments)}function wE(){return(wE=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:OE(t).h_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bE(e){return xE.apply(this,arguments)}function xE(){return(xE=j(M().mark((function e(t){var n,r,i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=OE(t),r=z(t.p_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.u_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _E(e,t,n){return SE.apply(this,arguments)}function SE(){return SE=j(M().mark((function e(t,n,r){var i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.p_.shift(),a=ab.from(i,n,r),e.next=3,hE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,dE(t);case 5:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function EE(e,t){return IE.apply(this,arguments)}function IE(){return IE=j(M().mark((function e(t,n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&OE(t).a_,!e.t0){e.next=4;break}return e.next=4,function(){var e=j(M().mark((function e(t,n){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return ub(e)&&e!==Qm.ABORTED}(n.code)){e.next=7;break}return r=t.p_.shift(),OE(t).zo(),e.next=5,hE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,dE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:yE(t)&&gE(t);case 5:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}function TE(e,t){return AE.apply(this,arguments)}function AE(){return AE=j(M().mark((function e(t,n){var r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ym(t)).asyncQueue.verifyOperationInProgress(),Bm("RemoteStore","RemoteStore received new credentials"),i=nE(r),r.w_.add(3),e.next=6,YS(r);case 6:return i&&r.D_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.w_.delete(3),e.next=12,GS(r);case 12:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function CE(e,t){return NE.apply(this,arguments)}function NE(){return(NE=j(M().mark((function e(t,n){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ym(t),!n){e.next=7;break}return r.w_.delete(2),e.next=5,GS(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.w_.add(2),e.next=12,YS(r);case 12:r.D_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DE(e){return e.C_||(e.C_=function(e,t,n){var r=Ym(e);return r.I_(),new zS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ao:iE.bind(null,e),co:oE.bind(null,e),i_:uE.bind(null,e)}),e.S_.push(function(){var t=j(M().mark((function t(n){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.C_.zo(),tE(e)?eE(e):e.D_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.C_.stop();case 6:rE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.C_}function OE(e){return e.F_||(e.F_=function(e,t,n){var r=Ym(e);return r.I_(),new BS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ao:kE.bind(null,e),co:EE.bind(null,e),l_:bE.bind(null,e),c_:_E.bind(null,e)}),e.S_.push(function(){var t=j(M().mark((function t(n){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.F_.zo(),t.next=4,dE(e);case 4:t.next=9;break;case 6:return t.next=8,e.F_.stop();case 8:e.p_.length>0&&(Bm("RemoteStore","Stopping write stream with ".concat(e.p_.length," pending writes")),e.p_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.F_}var RE=function(){function e(t,n,r,i,a){I(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Xm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return A(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jm(Qm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function PE(e,t){if(qm("AsyncQueue","".concat(t,": ").concat(e)),Ly(e))return new Jm(Qm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var ME=function(){function e(t){I(this,e),this.comparator=t?function(e,n){return t(e,n)||yy.comparator(e.key,n.key)}:function(e,t){return yy.comparator(e.key,t.key)},this.keyedMap=pw(),this.sortedSet=new Eg(this.comparator)}return A(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),LE=function(){function e(){I(this,e),this.M_=new Eg(yy.comparator)}return A(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.M_.get(t);n?0!==e.type&&3===n.type?this.M_=this.M_.insert(t,e):3===e.type&&1!==n.type?this.M_=this.M_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.M_=this.M_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.M_=this.M_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.M_=this.M_.remove(t):1===e.type&&2===n.type?this.M_=this.M_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.M_=this.M_.insert(t,{type:2,doc:e.doc}):Gm():this.M_=this.M_.insert(t,e)}},{key:"x_",value:function(){var e=[];return this.M_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),jE=function(){function e(t,n,r,i,a,o,s,u,c){I(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return A(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,ME.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),FE=A((function e(){I(this,e),this.O_=void 0,this.listeners=[]})),UE=A((function e(){I(this,e),this.queries=new lw((function(e){return iw(e)}),rw),this.onlineState="Unknown",this.N_=new Set}));function VE(e,t){return zE.apply(this,arguments)}function zE(){return zE=j(M().mark((function e(t,n){var r,i,a,o,s;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ym(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new FE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.O_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=PE(e.t0,"Initialization of query '".concat(aw(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.B_(r.onlineState),o.O_&&n.L_(o.O_)&&GE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),zE.apply(this,arguments)}function BE(e,t){return qE.apply(this,arguments)}function qE(){return qE=j(M().mark((function e(t,n){var r,i,a,o,s;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ym(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}function HE(e,t){var n,r=Ym(e),i=!1,a=z(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=z(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.L_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.O_=o}}}catch(f){a.e(f)}finally{a.f()}i&&GE(r)}function WE(e,t,n){var r=Ym(e),i=r.queries.get(t);if(i){var a,o=z(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function GE(e){e.N_.forEach((function(e){e.next()}))}var KE=function(){function e(t,n,r){I(this,e),this.query=t,this.k_=n,this.q_=!1,this.Q_=null,this.onlineState="Unknown",this.options=r||{}}return A(e,[{key:"L_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=z(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new jE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.q_?this.K_(e)&&(this.k_.next(e),a=!0):this.U_(e,this.onlineState)&&(this.W_(e),a=!0),this.Q_=e,a}},{key:"onError",value:function(e){this.k_.error(e)}},{key:"B_",value:function(e){this.onlineState=e;var t=!1;return this.Q_&&!this.q_&&this.U_(this.Q_,e)&&(this.W_(this.Q_),t=!0),t}},{key:"U_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.G_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"K_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Q_&&this.Q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"W_",value:function(e){e=jE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.q_=!0,this.k_.next(e)}}]),e}(),YE=function(){function e(t,n){I(this,e),this.z_=t,this.byteLength=n}return A(e,[{key:"j_",value:function(){return"metadata"in this.z_}}]),e}(),QE=function(){function e(t){I(this,e),this.serializer=t}return A(e,[{key:"_s",value:function(e){return Ub(this.serializer,e)}},{key:"us",value:function(e){return e.metadata.exists?Wb(this.serializer,e.document,!1):hk.newNoDocument(this._s(e.metadata.name),this.cs(e.metadata.readTime))}},{key:"cs",value:function(e){return Mb(e)}}]),e}(),JE=function(){function e(t,n,r){I(this,e),this.H_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=XE(t)}return A(e,[{key:"J_",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.z_.namedQuery)this.queries.push(e.z_.namedQuery);else if(e.z_.documentMetadata){this.documents.push({metadata:e.z_.documentMetadata}),e.z_.documentMetadata.exists||++t;var n=py.fromString(e.z_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.z_.document&&(this.documents[this.documents.length-1].document=e.z_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Y_",value:function(e){var t,n=new Map,r=new QE(this.serializer),i=z(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r._s(a.metadata.name),u=z(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||bw()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=j(M().mark((function e(){var t,n,r,i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pS(this.localStore,new QE(this.serializer),this.documents,this.H_.id);case 2:t=e.sent,n=this.Y_(this.documents),r=z(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,mS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Z_:this.collectionGroups,X_:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function XE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ZE=A((function e(t){I(this,e),this.key=t})),$E=A((function e(t){I(this,e),this.key=t})),eI=function(){function e(t,n){I(this,e),this.query=t,this.ea=n,this.ta=null,this.hasCachedResults=!1,this.current=!1,this.na=bw(),this.mutatedKeys=bw(),this.ra=uw(t),this.ia=new ME(this.ra)}return A(e,[{key:"sa",get:function(){return this.ea}},{key:"oa",value:function(e,t){var n=this,r=t?t._a:new LE,i=t?t.ia:this.ia,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ow(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.aa(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.ra(f,u)>0||c&&n.ra(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ia:o,_a:r,ji:s,mutatedKeys:a}}},{key:"aa",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ia;this.ia=e.ia,this.mutatedKeys=e.mutatedKeys;var a=e._a.x_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gm()}};return n(e)-n(t)}(e.type,t.type)||r.ra(e.doc,t.doc)})),this.ua(n);var o=t?this.ca():[],s=0===this.na.size&&this.current?1:0,u=s!==this.ta;return this.ta=s,0!==a.length||u?{snapshot:new jE(this.query,e.ia,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),la:o}:{la:o}}},{key:"B_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ia:this.ia,_a:new LE,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{la:[]}}},{key:"ha",value:function(e){return!this.ea.has(e)&&!!this.ia.has(e)&&!this.ia.get(e).hasLocalMutations}},{key:"ua",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ea=t.ea.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ea=t.ea.delete(e)})),this.current=e.current)}},{key:"ca",value:function(){var e=this;if(!this.current)return[];var t=this.na;this.na=bw(),this.ia.forEach((function(t){e.ha(t.key)&&(e.na=e.na.add(t.key))}));var n=[];return t.forEach((function(t){e.na.has(t)||n.push(new $E(t))})),this.na.forEach((function(e){t.has(e)||n.push(new ZE(e))})),n}},{key:"Pa",value:function(e){this.ea=e.os,this.na=bw();var t=this.oa(e.documents);return this.applyChanges(t,!0)}},{key:"Ia",value:function(){return jE.fromInitialDocuments(this.query,this.ia,this.mutatedKeys,0===this.ta,this.hasCachedResults)}}]),e}(),tI=A((function e(t,n,r){I(this,e),this.query=t,this.targetId=n,this.view=r})),nI=A((function e(t){I(this,e),this.key=t,this.Ta=!1})),rI=function(){function e(t,n,r,i,a,o){I(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ea={},this.da=new lw((function(e){return iw(e)}),rw),this.Aa=new Map,this.Ra=new Set,this.Va=new Eg(yy.comparator),this.ma=new Map,this.fa=new P_,this.ga={},this.pa=new Map,this.ya=c_.Nn(),this.onlineState="Unknown",this.wa=void 0}return A(e,[{key:"isPrimaryClient",get:function(){return!0===this.wa}}]),e}();function iI(e,t){return aI.apply(this,arguments)}function aI(){return aI=j(M().mark((function e(t,n){var r,i,a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=XI(t),!(o=r.da.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Ia(),e.next=15;break;case 6:return e.next=8,sS(r.localStore,$k(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,oI(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&JS(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),aI.apply(this,arguments)}function oI(e,t,n,r,i){return sI.apply(this,arguments)}function sI(){return sI=j(M().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Sa=function(e,n,r){return function(){var e=j(M().mark((function e(t,n,r,i){var a,o,s;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.oa(r),e.t0=a.ji,!e.t0){e.next=6;break}return e.next=5,lS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.oa(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(TI(t,n.targetId,s.la),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,lS(t.localStore,n,!0);case 3:return o=e.sent,s=new eI(n,o.os),u=s.oa(o.documents),c=kb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),TI(t,r,l.la),f=new tI(n,r,s),e.abrupt("return",(t.da.set(n,f),t.Aa.has(r)?t.Aa.get(r).push(n):t.Aa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function uI(e,t){return cI.apply(this,arguments)}function cI(){return cI=j(M().mark((function e(t,n){var r,i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ym(t),i=r.da.get(n),!((a=r.Aa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Aa.set(i.targetId,a.filter((function(e){return!rw(e,n)}))),void r.da.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,uS(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),XS(r.remoteStore,i.targetId),EI(r,i.targetId)})).catch(Cy);case 9:e.next=14;break;case 11:return EI(r,i.targetId),e.next=14,uS(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(e,t,n){return fI.apply(this,arguments)}function fI(){return fI=j(M().mark((function e(t,n,r){var i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ZI(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ym(e),a=fy.now(),o=t.reduce((function(e,t){return e.add(t.key)}),bw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=hw(),u=bw();return i.es.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=z(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Kw(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Jw(c.key,l,fk(l.value.mapValue),zw.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:vw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ga[e.currentUser.toKey()];r||(r=new Eg(uy)),r=r.insert(t,n),e.ga[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,NI(i,a.changes);case 9:return e.next=11,dE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=PE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),fI.apply(this,arguments)}function hI(e,t){return dI.apply(this,arguments)}function dI(){return dI=j(M().mark((function e(t,n){var r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),e.prev=1,e.next=4,iS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ma.get(t);n&&(Km(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ta=!0:e.modifiedDocuments.size>0?Km(n.Ta):e.removedDocuments.size>0&&(Km(n.Ta),n.Ta=!1))})),e.next=8,NI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Cy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),dI.apply(this,arguments)}function pI(e,t,n){var r=Ym(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.da.forEach((function(e,n){var r=n.view.B_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ym(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=z(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.B_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&GE(n)}(r.eventManager,t),i.length&&r.Ea.i_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function vI(e,t,n){return mI.apply(this,arguments)}function mI(){return mI=j(M().mark((function e(t,n,r){var i,a,o,s,u,c;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ym(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ma.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Eg(yy.comparator)).insert(o,hk.newNoDocument(o,hy.min())),u=bw().add(o),c=new gb(hy.min(),new Map,new Eg(uy),s,u),e.next=9,hI(i,c);case 9:i.Va=i.Va.remove(o),i.ma.delete(n),CI(i),e.next=16;break;case 14:return e.next=16,uS(i.localStore,n,!1).then((function(){return EI(i,n,r)})).catch(Cy);case 16:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function yI(e,t){return gI.apply(this,arguments)}function gI(){return gI=j(M().mark((function e(t,n){var r,i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),i=n.batch.batchId,e.prev=1,e.next=4,nS(r.localStore,n);case 4:return a=e.sent,SI(r,i,null),_I(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,NI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Cy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),gI.apply(this,arguments)}function kI(e,t,n){return wI.apply(this,arguments)}function wI(){return wI=j(M().mark((function e(t,n,r){var i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ym(t),e.prev=1,e.next=4,function(e,t){var n=Ym(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Km(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,SI(i,n,r),_I(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,NI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Cy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),wI.apply(this,arguments)}function bI(e,t){return xI.apply(this,arguments)}function xI(){return xI=j(M().mark((function e(t,n){var r,i,a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nE((r=Ym(t)).remoteStore)||Bm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ym(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.pa.get(i)||[]).push(n),r.pa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=PE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),xI.apply(this,arguments)}function _I(e,t){(e.pa.get(t)||[]).forEach((function(e){e.resolve()})),e.pa.delete(t)}function SI(e,t,n){var r=Ym(e),i=r.ga[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ga[r.currentUser.toKey()]=i}}function EI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=z(e.Aa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.da.delete(a),n&&e.Ea.ba(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Aa.delete(t),e.isPrimaryClient&&e.fa.Rr(t).forEach((function(t){e.fa.containsKey(t)||II(e,t)}))}function II(e,t){e.Ra.delete(t.path.canonicalString());var n=e.Va.get(t);null!==n&&(XS(e.remoteStore,n),e.Va=e.Va.remove(t),e.ma.delete(n),CI(e))}function TI(e,t,n){var r,i=z(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ZE?(e.fa.addReference(a.key,t),AI(e,a)):a instanceof $E?(Bm("SyncEngine","Document no longer in limbo: "+a.key),e.fa.removeReference(a.key,t),e.fa.containsKey(a.key)||II(e,a.key)):Gm()}}catch(o){i.e(o)}finally{i.f()}}function AI(e,t){var n=t.key,r=n.path.canonicalString();e.Va.get(n)||e.Ra.has(r)||(Bm("SyncEngine","New document in limbo: "+n),e.Ra.add(r),CI(e))}function CI(e){for(;e.Ra.size>0&&e.Va.size<e.maxConcurrentLimboResolutions;){var t=e.Ra.values().next().value;e.Ra.delete(t);var n=new yy(py.fromString(t)),r=e.ya.next();e.ma.set(r,new nI(n)),e.Va=e.Va.insert(n,r),JS(e.remoteStore,new sx($k(Kk(n.path)),r,"TargetPurposeLimboResolution",qy.ae))}}function NI(e,t,n){return DI.apply(this,arguments)}function DI(){return DI=j(M().mark((function e(t,n,r){var i,a,o,s;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ym(t),a=[],o=[],s=[],e.t0=i.da.isEmpty(),e.t0){e.next=9;break}return i.da.forEach((function(e,t){s.push(i.Sa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=J_.Qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Ea.i_(a),e.next=9,function(){var e=j(M().mark((function e(t,n){var r,i,a,o,s,u,c,l;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Dy.forEach(n,(function(t){return Dy.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Dy.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ly(e.t0)){e.next=10;break}throw e.t0;case 10:Bm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=z(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Yi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Yi=r.Yi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function OI(e,t){return RI.apply(this,arguments)}function RI(){return(RI=j(M().mark((function e(t,n){var r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ym(t)).currentUser.isEqual(n)){e.next=11;break}return Bm("SyncEngine","User change. New user:",n.toKey()),e.next=5,eS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.pa.forEach((function(e){e.forEach((function(e){e.reject(new Jm(Qm.CANCELLED,t))}))})),e.pa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,NI(r,i.ns);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PI(e,t){var n=Ym(e),r=n.ma.get(t);if(r&&r.Ta)return bw().add(r.key);var i=bw(),a=n.Aa.get(t);if(!a)return i;var o,s=z(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.da.get(u);i=i.unionWith(c.view.sa)}}catch(l){s.e(l)}finally{s.f()}return i}function MI(e,t){return LI.apply(this,arguments)}function LI(){return LI=j(M().mark((function e(t,n){var r,i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),e.next=3,lS(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Pa(i),e.abrupt("return",(r.isPrimaryClient&&TI(r,n.targetId,a.la),a));case 6:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function jI(e,t){return FI.apply(this,arguments)}function FI(){return(FI=j(M().mark((function e(t,n){var r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),e.abrupt("return",hS(r.localStore,n).then((function(e){return NI(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UI(e,t,n,r){return VI.apply(this,arguments)}function VI(){return VI=j(M().mark((function e(t,n,r,i){var a,o;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ym(t),e.next=3,function(e,t){var n=Ym(e),r=Ym(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Dy.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,dE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(SI(a,n,i||null),_I(a,n),function(e,t){Ym(Ym(e).mutationQueue).Fn(t)}(a.localStore,n)):Gm();case 11:return e.next=13,NI(a,o);case 13:e.next=16;break;case 15:Bm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function zI(e,t){return BI.apply(this,arguments)}function BI(){return(BI=j(M().mark((function e(t,n){var r,i,a,o,s,u,c,l;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(XI(r=Ym(t)),ZI(r),!0!==n||!0===r.wa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,qI(r,i.toArray());case 5:return a=e.sent,r.wa=!0,e.next=9,CE(r.remoteStore,!0);case 9:o=z(a);try{for(o.s();!(s=o.n()).done;)u=s.value,JS(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wa){e.next=25;break}return c=[],l=Promise.resolve(),r.Aa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return EI(r,t),uS(r.localStore,t,!0)})),XS(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,qI(r,c);case 21:return function(e){var t=Ym(e);t.ma.forEach((function(e,n){XS(t.remoteStore,n)})),t.fa.Vr(),t.ma=new Map,t.Va=new Eg(yy.comparator)}(r),r.wa=!1,e.next=25,CE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qI(e,t,n){return HI.apply(this,arguments)}function HI(){return HI=j(M().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ym(t),a=[],o=[],s=z(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Aa.get(c))||0===f.length){e.next=34;break}return e.next=11,sS(i.localStore,$k(f[0]));case 11:l=e.sent,h=z(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.da.get(p),e.next=20,MI(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,fS(i.localStore,c);case 36:return y=e.sent,e.next=39,sS(i.localStore,y);case 39:return l=e.sent,e.next=42,oI(i,WI(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ea.i_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),HI.apply(this,arguments)}function WI(e){return Gk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function GI(e){return function(e){return Ym(Ym(e).persistence).Bi()}(Ym(e).localStore)}function KI(e,t,n,r){return YI.apply(this,arguments)}function YI(){return YI=j(M().mark((function e(t,n,r,i){var a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ym(t)).wa){e.next=3;break}return e.abrupt("return",void Bm("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.Aa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,hS(a.localStore,sw(o[0]));case 10:return s=e.sent,u=gb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Rg.EMPTY_BYTE_STRING),e.next=14,NI(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,uS(a.localStore,n,!0);case 17:return EI(a,n,i),e.abrupt("break",20);case 19:Gm();case 20:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function QI(e,t,n){return JI.apply(this,arguments)}function JI(){return JI=j(M().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=XI(t)).wa){e.next=45;break}a=z(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Aa.has(s)){e.next=10;break}return Bm("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,fS(i.localStore,s);case 12:return u=e.sent,e.next=15,sS(i.localStore,u);case 15:return c=e.sent,e.next=18,oI(i,WI(u),c.targetId,!1,c.resumeToken);case 18:JS(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=z(r),e.prev=30,h=M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Aa.has(t),!e.t0){e.next=5;break}return e.next=5,uS(i.localStore,t,!1).then((function(){XS(i.remoteStore,t),EI(i,t)})).catch(Cy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),JI.apply(this,arguments)}function XI(e){var t=Ym(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vI.bind(null,t),t.Ea.i_=HE.bind(null,t.eventManager),t.Ea.ba=WE.bind(null,t.eventManager),t}function ZI(e){var t=Ym(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kI.bind(null,t),t}function $I(e,t,n){var r=Ym(e);(function(){var e=j(M().mark((function e(t,n,r){var i,a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ym(e),r=Mb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(XE(i)),a=new JE(i,t.localStore,n.serializer),e.next=15,n.Da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.J_(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,NI(t,u.X_,void 0);case 31:return e.next=33,function(e,t){var n=Ym(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Z_));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Hm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var eT=function(){function e(){I(this,e),this.synchronizeTabs=!1}return A(e,[{key:"initialize",value:function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=FS(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return $_(this.persistence,new X_,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new V_(B_.jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new TS}},{key:"terminate",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),tT=function(e){N(n,e);var t=P(n);function n(e,r,i){var a;return I(this,n),(a=t.call(this)).va=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return A(n,[{key:"initialize",value:function(){var e=j(M().mark((function e(t){var r=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(D(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.va.initialize(this,t);case 4:return e.next=6,ZI(this.va.syncEngine);case 6:return e.next=8,dE(this.va.remoteStore);case 8:return e.next=10,this.persistence.mi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return $_(this.persistence,new X_,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new m_(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new By(t,this.persistence);return new zy(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=Q_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?t_.withCacheSize(this.cacheSizeBytes):t_.DEFAULT;return new G_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,LS(),jS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new TS}}]),n}(eT),nT=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this,e,r,!1)).va=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return A(n,[{key:"initialize",value:function(){var e=j(M().mark((function e(t){var r,i=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(D(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.va.syncEngine,e.t0=this.sharedClientState instanceof IS,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={zs:UI.bind(null,r),js:KI.bind(null,r),Hs:QI.bind(null,r),Bi:GI.bind(null,r),Gs:jI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.mi(function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zI(i.va.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=LS();if(!IS.v(t))throw new Jm(Qm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Q_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(tT),rT=function(){function e(){I(this,e)}return A(e,[{key:"initialize",value:function(){var e=j(M().mark((function e(t,n){var r=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return pI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=OI.bind(null,this.syncEngine),e.next=12,CE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new UE}},{key:"createDatastore",value:function(e){var t=FS(e.databaseInfo.databaseId),n=function(e){return new MS(e)}(e.databaseInfo);return function(e,t,n,r){return new qS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new WS(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return pI(t.syncEngine,e,0)}),CS.v()?new CS:new AS)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new rI(e,t,n,r,i,a);return o&&(s.wa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ym(t),Bm("RemoteStore","RemoteStore shutting down."),n.w_.add(5),e.next=5,YS(n);case 5:n.b_.shutdown(),n.D_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function iT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return j(M().mark((function r(){var i;return M().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var aT=function(){function e(t){I(this,e),this.observer=t,this.muted=!1}return A(e,[{key:"next",value:function(e){this.observer.next&&this.Ca(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ca(this.observer.error,e):qm("Uncaught Error in snapshot listener:",e.toString())}},{key:"Fa",value:function(){this.muted=!0}},{key:"Ca",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),oT=function(){function e(t,n){var r=this;I(this,e),this.Ma=t,this.serializer=n,this.metadata=new Xm,this.buffer=new Uint8Array,this.xa=new TextDecoder("utf-8"),this.Oa().then((function(e){e&&e.j_()?r.metadata.resolve(e.z_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.z_))))}),(function(e){return r.metadata.reject(e)}))}return A(e,[{key:"close",value:function(){return this.Ma.cancel()}},{key:"getMetadata",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Oa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oa",value:function(){var e=j(M().mark((function e(){var t,n,r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Na();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xa.decode(t),r=Number(n),isNaN(r)&&this.Ba("length string (".concat(n,") is not valid number")),e.next=9,this.La(r);case 9:return i=e.sent,e.abrupt("return",new YE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ka",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Na",value:function(){var e=j(M().mark((function e(){var t,n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ka()<0)){e.next=7;break}return e.next=3,this.qa();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ka())<0&&this.Ba("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"La",value:function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.qa();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ba("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ba",value:function(e){throw this.Ma.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"qa",value:function(){var e=j(M().mark((function e(){var t,n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ma.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),sT=function(){function e(t){I(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return A(e,[{key:"lookup",value:function(){var e=j(M().mark((function e(t){var n,r=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Jm(Qm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=j(M().mark((function e(t,n){var r,i,a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),i=Bb(r.serializer)+"/documents",a={documents:n.map((function(e){return Fb(r.serializer,e)}))},e.next=5,r.wo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Gb(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Km(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new nb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=j(M().mark((function e(){var t,n=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=yy.fromPath(t);n.mutations.push(new rb(r,n.precondition(r)))})),e.next=7,function(){var e=j(M().mark((function e(t,n){var r,i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ym(t),i=Bb(r.serializer)+"/documents",a={writes:n.map((function(e){return Kb(r.serializer,e)}))},e.next=3,r.mo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Gm();t=hy.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Jm(Qm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(hy.min())?zw.exists(!1):zw.updateTime(t):zw.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(hy.min()))throw new Jm(Qm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zw.updateTime(t)}return zw.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),uT=function(){function e(t,n,r,i,a){I(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Qa=r.maxAttempts,this.$o=new US(this.asyncQueue,"transaction_retry")}return A(e,[{key:"run",value:function(){this.Qa-=1,this.Ka()}},{key:"Ka",value:function(){var e=this;this.$o.Oo(j(M().mark((function t(){var n,r;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new sT(e.datastore),(r=e.$a(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ua(t)}))}))})).catch((function(t){e.Ua(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"$a",value:function(e){try{var t=this.updateFunction(e);return!Hy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ua",value:function(e){var t=this;this.Qa>0&&this.Wa(e)?(this.Qa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Ka(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Wa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ub(t)}return!1}}]),e}(),cT=function(){function e(t,n,r,i){var a=this;I(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fm.UNAUTHENTICATED,this.clientId=sy.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Bm("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return A(e,[{key:"getConfiguration",value:function(){var e=j(M().mark((function e(){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Jm(Qm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Xm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(j(M().mark((function n(){var r;return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=PE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function lT(e,t){return fT.apply(this,arguments)}function fT(){return fT=j(M().mark((function e(t,n){var r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Bm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,eS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}function hT(e,t){return dT.apply(this,arguments)}function dT(){return dT=j(M().mark((function e(t,n){var r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,vT(t);case 3:return r=e.sent,Bm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return TE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return TE(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),dT.apply(this,arguments)}function pT(e){return"FirebaseError"===e.name?e.code===Qm.FAILED_PRECONDITION||e.code===Qm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function vT(e){return mT.apply(this,arguments)}function mT(){return(mT=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Bm("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,lT(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),pT(n=e.t0)){e.next=13;break}throw n;case 13:return Hm("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,lT(t,new eT);case 16:e.next=21;break;case 18:return Bm("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,lT(t,new eT);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function yT(e){return gT.apply(this,arguments)}function gT(){return(gT=j(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Bm("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,hT(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Bm("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,hT(t,new rT);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kT(e){return vT(e).then((function(e){return e.persistence}))}function wT(e){return vT(e).then((function(e){return e.localStore}))}function bT(e){return yT(e).then((function(e){return e.remoteStore}))}function xT(e){return yT(e).then((function(e){return e.syncEngine}))}function _T(e){return yT(e).then((function(e){return e.datastore}))}function ST(e){return ET.apply(this,arguments)}function ET(){return(ET=j(M().mark((function e(t){var n,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=iI.bind(null,n.syncEngine),r.onUnlisten=uI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Xm;return e.asyncQueue.enqueueAndForget(j(M().mark((function i(){return M().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new aT({next:function(a){t.enqueueAndForget((function(){return BE(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Jm(Qm.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Jm(Qm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new KE(Kk(n.path),a,{includeMetadataChanges:!0,G_:!0});return VE(e,o)},i.next=3,ST(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function TT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Xm;return e.asyncQueue.enqueueAndForget(j(M().mark((function i(){return M().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new aT({next:function(n){t.enqueueAndForget((function(){return BE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Jm(Qm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new KE(n,a,{includeMetadataChanges:!0,G_:!0});return VE(e,o)},i.next=3,ST(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function AT(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var CT=new Map;function NT(e,t,n){if(!n)throw new Jm(Qm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function DT(e,t,n,r){if(!0===t&&!0===r)throw new Jm(Qm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function OT(e){if(!yy.isDocumentKey(e))throw new Jm(Qm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function RT(e){if(yy.isDocumentKey(e))throw new Jm(Qm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function PT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Gm()}function MT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Jm(Qm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=PT(e);throw new Jm(Qm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function LT(e,t){if(t<=0)throw new Jm(Qm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var jT=function(){function e(t){var n,r;if(I(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Jm(Qm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Jm(Qm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Jm(Qm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Jm(Qm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Jm(Qm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return A(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),FT=function(){function e(t,n,r,i){I(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jT({}),this._settingsFrozen=!1}return A(e,[{key:"app",get:function(){if(!this._app)throw new Jm(Qm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Jm(Qm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new $m;switch(e.type){case"firstParty":return new ry(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Jm(Qm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=CT.get(e);t&&(Bm("ComponentProvider","Removing Datastore"),CT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function UT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=MT(e,FT))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Hm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=Fm.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Pn(JSON.stringify({alg:"none",type:"JWT"})),Pn(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Jm(Qm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Fm(c)}e._authCredentials=new ey(new Zm(s,u))}}var VT=function(){function e(t,n,r){I(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return A(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),zT=function(){function e(t,n,r){I(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return A(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new BT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),BT=function(e){N(n,e);var t=P(n);function n(e,r,i){var a;return I(this,n),(a=t.call(this,e,r,Kk(i)))._path=i,a.type="collection",a}return A(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new zT(this.firestore,null,new yy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(VT);function qT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=or(e),NT("collection","path",t),e instanceof FT){var a=py.fromString.apply(py,[t].concat(r));return RT(a),new BT(e,null,a)}if(!(e instanceof zT||e instanceof BT))throw new Jm(Qm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(py.fromString.apply(py,[t].concat(r)));return RT(o),new BT(e.firestore,null,o)}function HT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=or(e),1===arguments.length&&(t=sy.V()),NT("doc","path",t),e instanceof FT){var a=py.fromString.apply(py,[t].concat(r));return OT(a),new zT(e,null,new yy(a))}if(!(e instanceof zT||e instanceof BT))throw new Jm(Qm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(py.fromString.apply(py,[t].concat(r)));return OT(o),new zT(e.firestore,e instanceof BT?e.converter:null,new yy(o))}function WT(e,t){return e=or(e),t=or(t),(e instanceof zT||e instanceof BT)&&(t instanceof zT||t instanceof BT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function GT(e,t){return e=or(e),t=or(t),e instanceof VT&&t instanceof VT&&e.firestore===t.firestore&&rw(e._query,t._query)&&e.converter===t.converter}var KT=function(){function e(){var t=this;I(this,e),this.Ga=Promise.resolve(),this.za=[],this.ja=!1,this.Ha=[],this.Ja=null,this.Ya=!1,this.Za=!1,this.Xa=[],this.$o=new US(this,"async_queue_retry"),this.eu=function(){var e=jS();e&&Bm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.$o.Bo()};var n=jS();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.eu)}return A(e,[{key:"isShuttingDown",get:function(){return this.ja}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.tu(),this.nu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ja){this.ja=!0,this.Za=e||!1;var t=jS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.eu)}}},{key:"enqueue",value:function(e){var t=this;if(this.tu(),this.ja)return new Promise((function(){}));var n=new Xm;return this.nu((function(){return t.ja&&t.Za?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.za.push(e),t.ru()}))}},{key:"ru",value:function(){var e=j(M().mark((function e(){var t=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.za.length){e.next=14;break}return e.prev=1,e.next=4,this.za[0]();case 4:this.za.shift(),this.$o.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ly(e.t0)){e.next=12;break}throw e.t0;case 12:Bm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.za.length>0&&this.$o.Oo((function(){return t.ru()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(e){var t=this,n=this.Ga.then((function(){return t.Ya=!0,e().catch((function(e){t.Ja=e,t.Ya=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw qm("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ya=!1,e}))}));return this.Ga=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.tu(),this.Xa.indexOf(e)>-1&&(t=0);var i=RE.createAndSchedule(this,e,t,n,(function(e){return r.iu(e)}));return this.Ha.push(i),i}},{key:"tu",value:function(){this.Ja&&Gm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"su",value:function(){var e=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ga,e.next=3,t;case 3:if(t!==this.Ga){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ou",value:function(e){var t,n=z(this.Ha);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"_u",value:function(e){var t=this;return this.su().then((function(){t.Ha.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=z(t.Ha);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.su()}))}},{key:"au",value:function(e){this.Xa.push(e)}},{key:"iu",value:function(e){var t=this.Ha.indexOf(e);this.Ha.splice(t,1)}}]),e}();function YT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=z(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var QT=function(){function e(){I(this,e),this._progressObserver={},this._taskCompletionResolver=new Xm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return A(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),JT=function(e){N(n,e);var t=P(n);function n(e,r,i,a){var o;return I(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new KT,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return A(n,[{key:"_terminate",value:function(){return this._firestoreClient||ZT(this),this._firestoreClient.terminate()}}]),n}(FT);function XT(e){return e._firestoreClient||ZT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ZT(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new zg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,AT(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new cT(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function $T(e,t,n){var r=new Xm;return e.asyncQueue.enqueue(j(M().mark((function i(){var a;return M().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,lT(e,n);case 3:return i.next=5,hT(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),pT(a=i.t0)){i.next=13;break}throw a;case 13:Hm("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function eA(e){return function(e){var t=new Xm;return e.asyncQueue.enqueueAndForget(j(M().mark((function n(){return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=bI,n.next=3,xT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(XT(e=MT(e,JT)))}function tA(e){return function(e){return e.asyncQueue.enqueue(j(M().mark((function t(){var n,r;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kT(e);case 2:return n=t.sent,t.next=5,bT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ym(e);return t.w_.delete(0),GS(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(XT(e=MT(e,JT)))}function nA(e){return function(e){return e.asyncQueue.enqueue(j(M().mark((function t(){var n,r;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kT(e);case 2:return n=t.sent,t.next=5,bT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ym(t)).w_.add(0),e.next=4,YS(n);case 4:n.D_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(XT(e=MT(e,JT)))}function rA(e,t){var n=XT(e=MT(e,JT)),r=new QT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new oT(e,t)}(function(e,t){if(e instanceof Uint8Array)return iT(e,t);if(e instanceof ArrayBuffer)return iT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?hb().encode(e):e),t)}(n,FS(t));e.asyncQueue.enqueueAndForget(j(M().mark((function t(){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$I,t.next=3,xT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function iA(e,t){return function(e,t){return e.asyncQueue.enqueue(j(M().mark((function n(){return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ym(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kr.getNamedQuery(e,t)}))},n.next=3,wT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(XT(e=MT(e,JT)),t).then((function(t){return t?new VT(e,null,t.query):null}))}function aA(e){if(e._initialized||e._terminated)throw new Jm(Qm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var oA=function(){function e(t){I(this,e),this._byteString=t}return A(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Rg.fromBase64String(t))}catch(t){throw new Jm(Qm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Rg.fromUint8Array(t))}}]),e}(),sA=function(){function e(){I(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Jm(Qm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new my(n)}return A(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var uA=A((function e(t){I(this,e),this._methodName=t})),cA=function(){function e(t,n){if(I(this,e),!isFinite(t)||t<-90||t>90)throw new Jm(Qm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Jm(Qm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return A(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return uy(this._lat,e._lat)||uy(this._long,e._long)}}]),e}(),lA=/^__.*__$/,fA=function(){function e(t,n,r){I(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return A(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Jw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qw(e,this.data,t,this.fieldTransforms)}}]),e}(),hA=function(){function e(t,n,r){I(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return A(e,[{key:"toMutation",value:function(e,t){return new Jw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function dA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gm()}}var pA=function(){function e(t,n,r,i,a,o){I(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.uu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return A(e,[{key:"path",get:function(){return this.settings.path}},{key:"cu",get:function(){return this.settings.cu}},{key:"lu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"hu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.lu({path:n,Pu:!1});return r.Iu(e),r}},{key:"Tu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.lu({path:n,Pu:!1});return r.uu(),r}},{key:"Eu",value:function(e){return this.lu({path:void 0,Pu:!0})}},{key:"du",value:function(e){return PA(e,this.settings.methodName,this.settings.Au||!1,this.path,this.settings.Ru)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"uu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Iu(this.path.get(e))}},{key:"Iu",value:function(e){if(0===e.length)throw this.du("Document fields must not be empty");if(dA(this.cu)&&lA.test(e))throw this.du('Document fields cannot begin and end with "__"')}}]),e}(),vA=function(){function e(t,n,r){I(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||FS(t)}return A(e,[{key:"Vu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pA({cu:e,methodName:t,Ru:n,path:my.emptyPath(),Pu:!1,Au:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function mA(e){var t=e._freezeSettings(),n=FS(e._databaseId);return new vA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yA(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Vu(a.merge||a.mergeFields?2:0,t,n,i);NA("Data must be an object, but it was:",o,r);var s,u,c=AA(r,o);if(a.merge)s=new Dg(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=z(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=DA(t,l.value,n);if(!o.contains(d))throw new Jm(Qm.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));MA(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Dg(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new fA(new lk(c),s,u)}var gA=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.apply(this,arguments)}return A(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.cu)throw 1===e.cu?e.du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(uA);function kA(e,t,n){return new pA({cu:3,Ru:t.settings.Ru,methodName:e._methodName,Pu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var wA=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.apply(this,arguments)}return A(n,[{key:"_toFieldTransform",value:function(e){return new Uw(e.path,new Dw)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(uA),bA=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this,e)).mu=r,i}return A(n,[{key:"_toFieldTransform",value:function(e){var t=kA(this,e,!0),n=this.mu.map((function(e){return TA(e,t)})),r=new Ow(n);return new Uw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(uA),xA=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this,e)).mu=r,i}return A(n,[{key:"_toFieldTransform",value:function(e){var t=kA(this,e,!0),n=this.mu.map((function(e){return TA(e,t)})),r=new Pw(n);return new Uw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(uA),_A=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this,e)).fu=r,i}return A(n,[{key:"_toFieldTransform",value:function(e){var t=new Lw(e.serializer,Iw(e.serializer,this.fu));return new Uw(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(uA);function SA(e,t,n,r){var i=e.Vu(1,t,n);NA("Data must be an object, but it was:",i,r);var a=[],o=lk.empty();_g(r,(function(e,r){var s=RA(t,e,n);r=or(r);var u=i.Tu(s);if(r instanceof gA)a.push(s);else{var c=TA(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Dg(a);return new hA(o,s,i.fieldTransforms)}function EA(e,t,n,r,i,a){var o=e.Vu(1,t,n),s=[DA(t,r,n)],u=[i];if(a.length%2!=0)throw new Jm(Qm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(DA(t,a[c])),u.push(a[c+1]);for(var l=[],f=lk.empty(),h=s.length-1;h>=0;--h)if(!MA(l,s[h])){var d=s[h],p=u[h];p=or(p);var v=o.Tu(d);if(p instanceof gA)l.push(d);else{var m=TA(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Dg(l);return new hA(f,y,o.fieldTransforms)}function IA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return TA(n,e.Vu(r?4:3,t))}function TA(e,t){if(CA(e=or(e)))return NA("Unsupported field value:",t,e),AA(e,t);if(e instanceof uA)return function(e,t){if(!dA(t.cu))throw t.du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.du("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Pu&&4!==t.cu)throw t.du("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=z(e);try{for(a.s();!(n=a.n()).done;){var o=TA(n.value,t.Eu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=or(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Iw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=fy.fromDate(e);return{timestampValue:Ob(t.serializer,n)}}if(e instanceof fy){var r=new fy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ob(t.serializer,r)}}if(e instanceof cA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof oA)return{bytesValue:Rb(t.serializer,e._byteString)};if(e instanceof zT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.du("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Lb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.du("Unsupported field value: ".concat(PT(e)))}(e,t)}function AA(e,t){var n={};return Sg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_g(e,(function(e,r){var i=TA(r,t.hu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function CA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof fy||e instanceof cA||e instanceof oA||e instanceof zT||e instanceof uA)}function NA(e,t,n){if(!CA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=PT(n);throw"an object"===r?t.du(e+" a custom object"):t.du(e+" "+r)}}function DA(e,t,n){if((t=or(t))instanceof sA)return t._internalPath;if("string"==typeof t)return RA(e,t);throw PA("Field path arguments must be of type string or ",e,!1,void 0,n)}var OA=new RegExp("[~\\*/\\[\\]]");function RA(e,t,n){if(t.search(OA)>=0)throw PA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return F(sA,y(t.split(".")))._internalPath}catch(Ah){throw PA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function PA(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Jm(Qm.INVALID_ARGUMENT,s+e+u)}function MA(e,t){return e.some((function(e){return e.isEqual(t)}))}var LA=function(){function e(t,n,r,i,a){I(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return A(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new zT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new jA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(FA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),jA=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.apply(this,arguments)}return A(n,[{key:"data",value:function(){return Pi(D(n.prototype),"data",this).call(this)}}]),n}(LA);function FA(e,t){return"string"==typeof t?RA(e,t):t instanceof sA?t._internalPath:t._delegate._internalPath}function UA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Jm(Qm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var VA=A((function e(){I(this,e)})),zA=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.apply(this,arguments)}return A(n)}(VA);function BA(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof VA&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof HA})).length,n=e.filter((function(e){return e instanceof qA})).length;if(t>1||t>0&&n>0)throw new Jm(Qm.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=z(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var qA=function(e){N(n,e);var t=P(n);function n(e,r,i){var a;return I(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return A(n,[{key:"_apply",value:function(e){var t=this._parse(e);return nC(e._query,t),new VT(e.firestore,e.converter,tw(e._query,t))}},{key:"_parse",value:function(e){var t=mA(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Jm(Qm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){tC(o,a);var u,c=[],l=z(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(eC(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=eC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||tC(o,a),s=IA(n,t,o,"in"===a||"not-in"===a);return kk.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zA);var HA=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return A(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:wk.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=z(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;nC(r,a),r=tw(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new VT(e.firestore,e.converter,tw(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(VA);var WA=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return A(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Jm(Qm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Jm(Qm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new mk(t,n);return function(e,t){if(null===Qk(e)){var n=Jk(e);null!==n&&rC(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new VT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Wk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(zA);var GA=function(e){N(n,e);var t=P(n);function n(e,r,i){var a;return I(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return A(n,[{key:"_apply",value:function(e){return new VT(e.firestore,e.converter,nw(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zA);var KA=function(e){N(n,e);var t=P(n);function n(e,r,i){var a;return I(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return A(n,[{key:"_apply",value:function(e){var t=$A(e,this.type,this._docOrFields,this._inclusive);return new VT(e.firestore,e.converter,function(e,t){return new Wk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zA);function YA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return KA._create("startAt",t,!0)}function QA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return KA._create("startAfter",t,!1)}var JA=function(e){N(n,e);var t=P(n);function n(e,r,i){var a;return I(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return A(n,[{key:"_apply",value:function(e){var t=$A(e,this.type,this._docOrFields,this._inclusive);return new VT(e.firestore,e.converter,function(e,t){return new Wk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(zA);function XA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JA._create("endBefore",t,!1)}function ZA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JA._create("endAt",t,!0)}function $A(e,t,n,r){if(n[0]=or(n[0]),n[0]instanceof LA)return function(e,t,n,r,i){if(!r)throw new Jm(Qm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=z(Zk(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Zg(t,r.key));else{var c=r.data.field(u.field);if(Fg(c))throw new Jm(Qm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Jm(Qm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new dk(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=mA(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Jm(Qm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Jm(Qm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Xk(e)&&-1!==c.indexOf("/"))throw new Jm(Qm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(py.fromString(c));if(!yy.isDocumentKey(l))throw new Jm(Qm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new yy(l);s.push(Zg(t,f))}else{var h=IA(n,r,c);s.push(h)}}return new dk(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function eC(e,t,n){if("string"==typeof(n=or(n))){if(""===n)throw new Jm(Qm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xk(t)&&-1!==n.indexOf("/"))throw new Jm(Qm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(py.fromString(n));if(!yy.isDocumentKey(r))throw new Jm(Qm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zg(e,new yy(r))}if(n instanceof zT)return Zg(e,n._key);throw new Jm(Qm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(PT(n),"."))}function tC(e,t){if(!Array.isArray(e)||0===e.length)throw new Jm(Qm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function nC(e,t){if(t.isInequality()){var n=Jk(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Jm(Qm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Qk(e);null!==i&&rC(e,r,i)}var a=function(e,t){var n,r=z(e);try{for(r.s();!(n=r.n()).done;){var i,a=z(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Jm(Qm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Jm(Qm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function rC(e,t,n){if(!n.isEqual(t))throw new Jm(Qm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var iC=function(){function e(){I(this,e)}return A(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Wg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Gm()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return _g(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new cA(Lg(e.latitude),Lg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ug(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Vg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Mg(e);return new fy(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=py.fromString(e);Km(ox(n));var r=new Bg(n.get(1),n.get(3)),i=new yy(n.popFirst(5));return r.isEqual(t)||qm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function aC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var oC=function(e){N(n,e);var t=P(n);function n(e){var r;return I(this,n),(r=t.call(this)).firestore=e,r}return A(n,[{key:"convertBytes",value:function(e){return new oA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zT(this.firestore,null,t)}}]),n}(iC);var sC=function(){function e(t,n){I(this,e),this.hasPendingWrites=t,this.fromCache=n}return A(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),uC=function(e){N(n,e);var t=P(n);function n(e,r,i,a,o,s){var u;return I(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return A(n,[{key:"exists",value:function(){return Pi(D(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new cC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(FA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(LA),cC=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.apply(this,arguments)}return A(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Pi(D(n.prototype),"data",this).call(this,e)}}]),n}(uC),lC=function(){function e(t,n,r,i){I(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new sC(i.hasPendingWrites,i.fromCache),this.query=r}return A(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new cC(n._firestore,n._userDataWriter,r.key,r,new sC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Jm(Qm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new cC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new cC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:fC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function fC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gm()}}function hC(e,t){return e instanceof uC&&t instanceof uC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof lC&&t instanceof lC&&e._firestore===t._firestore&&GT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var dC=function(e){N(n,e);var t=P(n);function n(e){var r;return I(this,n),(r=t.call(this)).firestore=e,r}return A(n,[{key:"convertBytes",value:function(e){return new oA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zT(this.firestore,null,t)}}]),n}(iC);function pC(e){e=MT(e,zT);var t=MT(e.firestore,JT),n=XT(t),r=new dC(t);return function(e,t){var n=new Xm;return e.asyncQueue.enqueueAndForget(j(M().mark((function r(){return M().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=j(M().mark((function e(t,n,r){var i,a;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ym(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Jm(Qm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=PE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,wT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new uC(t,r,e._key,n,new sC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function vC(e){e=MT(e,VT);var t=MT(e.firestore,JT),n=XT(t),r=new dC(t);return UA(e._query),TT(n,e._query).then((function(n){return new lC(t,r,e,n)}))}function mC(e){e=MT(e,VT);var t=MT(e.firestore,JT),n=XT(t),r=new dC(t);return function(e,t){var n=new Xm;return e.asyncQueue.enqueueAndForget(j(M().mark((function r(){return M().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=j(M().mark((function e(t,n,r){var i,a,o,s,u;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lS(t,n,!0);case 3:i=e.sent,a=new eI(n,i.os),o=a.oa(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=PE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,wT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new lC(t,r,e,n)}))}function yC(e){e=MT(e,VT);var t=MT(e.firestore,JT),n=XT(t),r=new dC(t);return TT(n,e._query,{source:"server"}).then((function(n){return new lC(t,r,e,n)}))}function gC(e,t,n){e=MT(e,zT);var r=MT(e.firestore,JT),i=aC(e.converter,t,n);return xC(r,[yA(mA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,zw.none())])}function kC(e,t,n){e=MT(e,zT);for(var r=MT(e.firestore,JT),i=mA(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return xC(r,[("string"==typeof(t=or(t))||t instanceof sA?EA(i,"updateDoc",e._key,t,n,o):SA(i,"updateDoc",e._key,t)).toMutation(e._key,zw.exists(!0))])}function wC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=or(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||YT(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(YT(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof zT)l=MT(e.firestore,JT),f=Kk(e._key.path),c={next:function(t){n[u]&&n[u](_C(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=MT(e,VT);l=MT(p.firestore,JT),f=p._query;var v=new dC(l);c={next:function(e){n[u]&&n[u](new lC(l,v,p,e))},error:n[u+1],complete:n[u+2]},UA(e._query)}return function(e,t,n,r){var i=new aT(r),a=new KE(t,i,n);return e.asyncQueue.enqueueAndForget(j(M().mark((function t(){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=VE,t.next=3,ST(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Fa(),e.asyncQueue.enqueueAndForget(j(M().mark((function t(){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=BE,t.next=3,ST(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(XT(l),f,h,c)}function bC(e,t){return function(e,t){var n=new aT(t);return e.asyncQueue.enqueueAndForget(j(M().mark((function t(){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ym(e).N_.add(t),t.next()},t.next=3,ST(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Fa(),e.asyncQueue.enqueueAndForget(j(M().mark((function t(){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ym(e).N_.delete(t)},t.next=3,ST(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(XT(e=MT(e,JT)),YT(t)?t:{next:t})}function xC(e,t){return function(e,t){var n=new Xm;return e.asyncQueue.enqueueAndForget(j(M().mark((function r(){return M().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=lI,r.next=3,xT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(XT(e),t)}function _C(e,t,n){var r=n.docs.get(t._key),i=new dC(e);return new uC(e,i,t._key,r,new sC(n.hasPendingWrites,n.fromCache),t.converter)}var SC={maxAttempts:5},EC=function(){function e(t,n){I(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mA(t)}return A(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=IC(e,this._firestore),i=aC(r.converter,t,n),a=yA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,zw.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=IC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=or(t))||t instanceof sA?EA(this._dataReader,"WriteBatch.update",i._key,t,n,o):SA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,zw.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=IC(e,this._firestore);return this._mutations=this._mutations.concat(new nb(t._key,zw.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Jm(Qm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function IC(e,t){if((e=or(e)).firestore!==t)throw new Jm(Qm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var TC=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this,e,r))._firestore=e,i}return A(n,[{key:"get",value:function(e){var t=this,r=IC(e,this._firestore),i=new dC(this._firestore);return Pi(D(n.prototype),"get",this).call(this,e).then((function(e){return new uC(t._firestore,i,r._key,e._document,new sC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){I(this,e),this._firestore=t,this._transaction=n,this._dataReader=mA(t)}return A(e,[{key:"get",value:function(e){var t=this,n=IC(e,this._firestore),r=new oC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Gm();var i=e[0];if(i.isFoundDocument())return new LA(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new LA(t._firestore,r,n._key,null,n.converter);throw Gm()}))}},{key:"set",value:function(e,t,n){var r=IC(e,this._firestore),i=aC(r.converter,t,n),a=yA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=IC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=or(t))||t instanceof sA?EA(this._dataReader,"Transaction.update",i._key,t,n,o):SA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=IC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function AC(e,t,n){e=MT(e,JT);var r=Object.assign(Object.assign({},SC),n);return function(e){if(e.maxAttempts<1)throw new Jm(Qm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Xm;return e.asyncQueue.enqueueAndForget(j(M().mark((function i(){var a;return M().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,_T(e);case 2:a=i.sent,new uT(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(XT(e),(function(n){return t(new TC(e,n))}),r)}function CC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bA("arrayUnion",t)}function NC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xA("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Um=e}(ti),Yr(new sr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new JT(new ty(e.getProvider("auth-internal")),new ay(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Jm(Qm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bg(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),si(jm,"4.1.1",e),si(jm,"4.1.1","esm2017")}();function DC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Jm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function OC(){if("undefined"===typeof Uint8Array)throw new Jm("unimplemented","Uint8Arrays are not available in this environment.")}function RC(){if("undefined"==typeof atob)throw new Jm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var PC=function(){function e(t){I(this,e),this._delegate=t}return A(e,[{key:"toBase64",value:function(){return RC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return OC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return RC(),new e(oA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return OC(),new e(oA.fromUint8Array(t))}}]),e}();function MC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=z(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var LC=function(){function e(){I(this,e)}return A(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){aA(e=MT(e,JT));var n=XT(e);if(n._uninitializedComponentsProvider)throw new Jm(Qm.FAILED_PRECONDITION,"SDK cache is already specified.");Hm("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new rT;return $T(n,i,new tT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){aA(e=MT(e,JT));var t=XT(e);if(t._uninitializedComponentsProvider)throw new Jm(Qm.FAILED_PRECONDITION,"SDK cache is already specified.");Hm("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new rT;return $T(t,r,new nT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Jm(Qm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Xm;return e._queue.enqueueAndForgetEvenWhileRestricted(j(M().mark((function n(){return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=j(M().mark((function e(t){var n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ry.v()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ry.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Q_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),jC=function(){function e(t,n,r){var i=this;I(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Bg||(this._appCompat=t)}return A(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Hm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};UT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return tA(this._delegate)}},{key:"disableNetwork",value:function(){return nA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&DT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return eA(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return bC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Jm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new XC(this,qT(this._delegate,e))}catch(t){throw qC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new BC(this,HT(this._delegate,e))}catch(t){throw qC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new YC(this,function(e,t){if(e=MT(e,FT),NT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Jm(Qm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new VT(e,null,function(e){return new Wk(py.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw qC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return AC(this._delegate,(function(n){return e(new UC(t,n))}))}},{key:"batch",value:function(){var e=this;return XT(this._delegate),new VC(new EC(this._delegate,(function(t){return xC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return rA(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return iA(this._delegate,e).then((function(e){return e?new YC(t,e):null}))}}]),e}(),FC=function(e){N(n,e);var t=P(n);function n(e){var r;return I(this,n),(r=t.call(this)).firestore=e,r}return A(n,[{key:"convertBytes",value:function(e){return new PC(new oA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return BC.forKey(t,this.firestore,null)}}]),n}(iC);var UC=function(){function e(t,n){I(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new FC(t)}return A(e,[{key:"get",value:function(e){var t=this,n=ZC(e);return this._delegate.get(n).then((function(e){return new GC(t._firestore,new uC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=ZC(e);return n?(DC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=ZC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ZC(e);return this._delegate.delete(t),this}}]),e}(),VC=function(){function e(t){I(this,e),this._delegate=t}return A(e,[{key:"set",value:function(e,t,n){var r=ZC(e);return n?(DC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=ZC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ZC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),zC=function(){function e(t,n,r){I(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return A(e,[{key:"fromFirestore",value:function(e,t){var n=new cC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new KC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new FC(t),n),i.set(n,a)),a}}]),e}();zC.INSTANCES=new WeakMap;var BC=function(){function e(t,n){I(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new FC(t)}return A(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new XC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new XC(this.firestore,qT(this._delegate,e))}catch(t){throw qC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=or(e))instanceof zT&&WT(this._delegate,e)}},{key:"set",value:function(e,t){t=DC("DocumentReference.set",t);try{return t?gC(this._delegate,e,t):gC(this._delegate,e)}catch(n){throw qC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?kC(this._delegate,e):kC.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw qC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return xC(MT((e=this._delegate).firestore,JT),[new nb(e._key,zw.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=HC(n),a=WC(n,(function(t){return new GC(e.firestore,new uC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return wC(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?pC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=MT(e,zT);var t=MT(e.firestore,JT);return IT(XT(t),e._key,{source:"server"}).then((function(n){return _C(t,e,n)}))}(this._delegate):function(e){e=MT(e,zT);var t=MT(e.firestore,JT);return IT(XT(t),e._key).then((function(n){return _C(t,e,n)}))}(this._delegate)).then((function(e){return new GC(t.firestore,new uC(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(zC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Jm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new zT(n._delegate,r,new yy(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new zT(n._delegate,r,t))}}]),e}();function qC(e,t,n){return e.message=e.message.replace(t,n),e}function HC(e){var t,n=z(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!MC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function WC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=MC(e[0])?e[0]:MC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var GC=function(){function e(t,n){I(this,e),this._firestore=t,this._delegate=n}return A(e,[{key:"ref",get:function(){return new BC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return hC(this._delegate,e._delegate)}}]),e}(),KC=function(e){N(n,e);var t=P(n);function n(){return I(this,n),t.apply(this,arguments)}return A(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||Gm(),t}}]),n}(GC),YC=function(){function e(t,n){I(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new FC(t)}return A(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,BA(this._delegate,function(e,t,n){var r=t,i=FA("where",e);return qA._create(i,r,n)}(t,n,r)))}catch(i){throw qC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,BA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=FA("orderBy",e);return WA._create(n,t)}(t,n)))}catch(r){throw qC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,BA(this._delegate,(LT("limit",n=t),GA._create("limit",n,"F"))))}catch(n){throw qC(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,BA(this._delegate,(LT("limitToLast",n=t),GA._create("limitToLast",n,"L"))))}catch(n){throw qC(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,BA(this._delegate,YA.apply(void 0,arguments)))}catch(t){throw qC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,BA(this._delegate,QA.apply(void 0,arguments)))}catch(t){throw qC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,BA(this._delegate,XA.apply(void 0,arguments)))}catch(t){throw qC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,BA(this._delegate,ZA.apply(void 0,arguments)))}catch(t){throw qC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return GT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?mC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?yC(this._delegate):vC(this._delegate)).then((function(e){return new JC(t.firestore,new lC(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=HC(n),a=WC(n,(function(t){return new JC(e.firestore,new lC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return wC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(zC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),QC=function(){function e(t,n){I(this,e),this._firestore=t,this._delegate=n}return A(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new KC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),JC=function(){function e(t,n){I(this,e),this._firestore=t,this._delegate=n}return A(e,[{key:"query",get:function(){return new YC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new KC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new QC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new KC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return hC(this._delegate,e._delegate)}}]),e}(),XC=function(e){N(n,e);var t=P(n);function n(e,r){var i;return I(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return A(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new BC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new BC(this.firestore,void 0===e?HT(this._delegate):HT(this._delegate,e))}catch(t){throw qC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=MT(e.firestore,JT),r=HT(e),i=aC(e.converter,t);return xC(n,[yA(mA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zw.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new BC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return WT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(zC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(YC);function ZC(e){return MT(e,zT)}var $C=function(){function e(){I(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=F(sA,n)}return A(e,[{key:"isEqual",value:function(e){return(e=or(e))instanceof sA&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(my.keyField().canonicalString())}}]),e}(),eN=function(){function e(t){I(this,e),this._delegate=t}return A(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new wA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new gA("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=CC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=NC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new _A("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),tN={Firestore:jC,GeoPoint:cA,Timestamp:fy,Blob:PC,Transaction:UC,WriteBatch:VC,DocumentReference:BC,DocumentSnapshot:GC,Query:YC,QueryDocumentSnapshot:KC,QuerySnapshot:JC,CollectionReference:XC,FieldPath:$C,FieldValue:eN,setLogLevel:function(e){var t;t=e,Vm.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new sr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},tN)))}(e,(function(e,t){return new jC(e,t,new LC)})),e.registerVersion("@firebase/firestore-compat","0.3.15")}(Ri);var nN=Ri.initializeApp({apiKey:"AIzaSyCzfvN9aLBbBNb2RHrfHALaGCzfw3qIPxA",authDomain:"clone-e3e98.firebaseapp.com",projectId:"clone-e3e98",storageBucket:"clone-e3e98.appspot.com",messagingSenderId:"502847542304",appId:"1:502847542304:web:c8cc6107a981da6117d845",measurementId:"G-F6FK3RQ2NR"}).firestore(),rN=Ri.auth(),iN=function(){var e=c((0,t.useState)(!1),2),n=e[0],r=e[1],i=c(p(),2),a=i[0],o=a.basket,s=a.user;i[1];return(0,t.useEffect)((function(){if(0!==o.length){r(!0);var e=setTimeout((function(){r(!1)}),300);return function(){clearTimeout(e)}}}),[o]),(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("nav",{className:"navbar",children:[(0,f.jsxs)("div",{className:"header",children:[(0,f.jsx)(pn,{to:"/",children:(0,f.jsx)("img",{className:"header-logo",src:wn,alt:""})}),(0,f.jsxs)("div",{class:"search-container",children:[(0,f.jsx)("input",{type:"text",placeholder:"What are you looking for ?",name:"search"}),(0,f.jsxs)("button",{type:"submit",children:[(0,f.jsx)(An,{})," "]})]}),(0,f.jsx)(pn,{to:!s&&"/login",children:(0,f.jsxs)("div",{onClick:function(){s&&rN.signOut()},className:"header_options",children:[(0,f.jsxs)("div",{className:"first-line",children:["Hello,",s?null===s||void 0===s?void 0:s.displayName:"Guest"," "]}),(0,f.jsx)("div",{className:"second-line",children:s?"Sign Out":"Sign In"})]})}),(0,f.jsx)(pn,{to:"/orders",children:(0,f.jsxs)("div",{className:"header_options",children:[(0,f.jsx)("div",{className:"first-line",children:"Returns"}),(0,f.jsx)("div",{className:"second-line",children:"& Orders"})]})}),(0,f.jsx)(pn,{to:"/checkout",children:(0,f.jsxs)("div",{className:"header_options cart ".concat(n?"bump":""),children:[(0,f.jsx)("div",{className:"first-line",children:(0,f.jsx)(Cn,{})}),(0,f.jsxs)("div",{className:"second-line",children:[" ",(0,f.jsx)("span",{children:null===o||void 0===o?void 0:o.length})]})]})})]}),(0,f.jsxs)("div",{className:"header-bar",children:[(0,f.jsxs)("p",{children:[" ",(0,f.jsx)(Nn,{})," All"]}),(0,f.jsx)("p",{children:"Amazon Mini TV"}),(0,f.jsx)("p",{children:"Best Seller's"}),(0,f.jsx)("p",{children:"Today's Deal"}),(0,f.jsx)("p",{children:"Gift Idea's"}),(0,f.jsx)("p",{children:"Mobile"}),(0,f.jsx)("p",{children:"Electronic"}),(0,f.jsx)("p",{children:"Fashion"}),(0,f.jsx)("p",{children:"Home & Kitchen"}),(0,f.jsx)("p",{children:"Computers"}),(0,f.jsx)("p",{children:"Books"}),(0,f.jsx)("p",{children:"Coupons"}),(0,f.jsx)("p",{children:"Amazon Pay"}),(0,f.jsx)("p",{children:"Customer Services"}),(0,f.jsx)("p",{children:"Amazon Prime"})]})]})})},aN=n.p+"static/media/home1.4ee41b307e2ba3c4a107.jpg",oN=n.p+"static/media/row1img1.5bd8d21fb892ae87003d.jpg",sN=n.p+"static/media/row1img3.c1892428639583f1b679.png",uN=n.p+"static/media/row1img4.710f2039e225c90f96f5.png",cN="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQkGCQkJCQwTDg4MDg4ZEg4SEBcOEBAXEBcXEBQXFBQaFxMTFxoUFxgjGBwZHxoYIRgjGCMiIiQnKCMXJzUBCQkFCQkJDAkJEyEXDhoiHAwYKSIoGiIkIiIZLCIoISIUIyIaHx8aGhwYHCIaJCQjDhkkIRcvGRoXIiEnHxckKv/AABEIAMgAyAMBIgACEQEDEQH/xACmAAAABwEBAAAAAAAAAAAAAAAAAgMEBQYHAQgQAAIBAwICCAMEBQgHBwUAAAECAwAEERIhBTEGEyJBUWFxgRQyoQdCkbEjUnLB0RUzgpKiwuHwFyRDVJPS0xY0NVNjsvFidIOEwwEAAwEBAQEAAAAAAAAAAAAAAAECAwQFBhEAAgIBAwMDBAIDAAAAAAAAAAECERIDEyExQYEEBYIUFVGRMkJhcfD/2gAMAwEAAhEDEQA/APR1ChRsUAFo+aLigaAATTSe56rfK8m3ZtI7IycnwA3Y74GTRpJCD478uVeeuMpd9JeJ3fB5+ItLbKXWFokVJ4ZlYiHr49IZZFOYmkTSsqbKRms9TWcEv0Jsu0PSV+C3N+5668FyZHh4am8lszuOtM7t2IEWXKBsukudabVpXCrqe6tYJrmJYZXBLRIxkRNzgBzgthcZPInJXbTXnaLjz3Jm4jFxPVxIpClysU3UWYNsOoFw0mFinRP53qsiJi5ByMLWs9HOOzBIRe36zn4i8SeWVYbdIBbu6RlSnVgG5AUojl9i7KcLXNoeuhcocrlrnj9XzXgeDikzQxSlEWj12gdFdauV1qABQrlDNAHRR6TzRzVAGPKk6OeVJ0AcprOey3oacNTabdTSYFR6MnPF+Nf/AG/C/wA7s1plud6xF+KXvR3il9MvD3uoruGzCukoi0m360NzV8/zlTUH2j3Q58Hn/wCMD/8AzrNaiSpmjg3yjaC1czWUf6S5hz4TP/XH/Tof6TiOfDLgf0lP7hRvRFsyNXzQrKG+1WJOfDbn8UoUb0Q2ZFoWlQM1W+I9ILfhyXLSrIeoheQ6YmZSFUvjWAUHnn5eZ2Bqs9E/tLg6QpcsbKe2aAw5Qg3JbrQzD5EXTy2DfPnanuR55JpmmFaQfam1nxSO7QSLnDcgeZB5HHMVH8U6R2thFBJNnTO6qjKC4JbBUnAOAQc5OBTsVEdxq24ldMvwXEVs0HNfgUu3b1d5APQKi+ZNUHjd5JatOnEIled4XCSpE0cFxE4W20ErmUGRnKSIxYxO8QjOChOszRYYjng1R+mQtJbaW3lnEdxEqzQDDkh48sm6griXQUIJ5HVjKpWGv6Na0Wsmi4Txd1Zj/GuDJ0R47w6G2iV4LO3iW41xZjbKZutfMSMyyiTm27Kg+VBWidDuH8U4kbdyHsuG20MItFniguLqdUAVGcPEzoHUZLZQJsqZplwSxTj3FP5YC6RC6OXyHMrz67yCPQcoDaJOoaRlc60QR40OTri3QBJJ3NKHpKk5PoQ4LsTecknl75rtR8VyGp6r5rpAUrrVzNdegDmaFFWuigDtGotdppgdJogrtc1UwCsaSajNSZqQHtqu1TNsSO+oi05VMW1MB3qbxNAuy8yaKWxUPf8AEFhwOZPdQAteX7RqTqNCq2kjXU6gnbwoUgKJ0suplsriJWZUl4XxpioCnrOqhCgHKlgFL5yrLvsaoP2X3LWk90sD6BNecAQsoXBDwOWGHTfUeeMMM5DVn/2zzkXnGolzlouDsTnHZSN1IzqBOWdToCNnGcjTvQ14vLPPxN5mPWScNlQMiqmCpRB96NVyi6WYB2cEjGWLA7FHsro9OsNsGZMBFgUkLkjMcZy/3jhmILYOkc9gTVB6YSdXwzgROQZZ7Tk2xHU2zMGAx+BzUx0RguU4IxaUzFlsGCZeTqoRb28gjGrGggEu4UOpDeOcQHT5tHDei2BjL22fPMVvUt8MaXJp/CL3rMr51DdI4RFLxi874LTI/wDwwGX8zQ4M+mmnTK4B4Z0iP/pSp+KJCKV2hNEx0f4SvC4RanmlvZB/EusfbJ82Ykmpv4LUc0jczB+I3fmv5ECniS6Ed+YRWOOWdILYHrjGaaYBrURO80cbqzwMolQHLRMyh1DjuJU5H8Qak1GKzvoPdG4vuk0z7NNPw1yuwx1ttrrRQaokMDSjGkAaO5oAANc1YpIGu5oA5cXPUqp5lmAA5UvaSiZA7jTnORnOBUTdnXIi/qj6v/gKUnm6mLTyLHFYy1WpOjWOmmiZTq3yd8etLi1QjOSKhYpcgGlJbzQFGeZpbzHtIffCA/K+w7yP8a4LEn74HtTdbjYUlPe6Aoz8zY/fT3mGyiWht9Axqz7YqQhOnzqCS51CnAutIJz/AJO1PeYtpEhO7sD1eGPhnGfeqk6StmUgsDuWGGH0zirTbOFw1QMaIragvPB7sZG4xgDGoUb7FsoR4XB8RcJ4L2j7cqFTXAIOrgMh5yfkKFamZ4t+1PhfEOL8YlewtJ57aaGyDypA5T9EuGUsBjajfaX0MFhdp/2csnnSWCZXNv1t0FzLkBiCcakGPMGn0HDQdOZ7jn/vMn/NR/5LU6h18/P/AHmTxx+tXmL3ulVHoP2nm7Nh6El7HhSQXdzEshgt9IlcKyD4aOLqSuQVaF0IOrxpLpVbWfEOHcMzNre2jTsRMuWdUi2YFWIUug5aD3ahvWKtw8dXI4nuAQpIPxMgI+tTEtpFpY6e4d5/jSfu99hr201DhPEIoh+lyvLmKzrpNxbjl43G7K2sVaC5nn6uc6wWRpNSkcl3UVHwWkZByM+rE0PhY8Jtz8zU/d33X/fsf2xMvfAekfErrihl4nbrBA8EvaRJOzISrKrFwo9Cua0iPjtkofMnNWySviCPGvPcVrGea/ePed/ryo0kCRTcL0DBe/t1bBPaVklJU+IYgE+lUvdpN0kJ+2Luaj9m90ly/F3icupTg3a5HKWmK1VGrC/ssuWiPEsnmOGg45bWy1t8bAjIr0ou0mcEo02LZozmk811jVEha6KSzRZG7JHLO1DdKwqxGEdbJnlnffz2FRPSgz2LQSKhkTUnZQF3OTpOF5k+VTtpyz4sce2wqVlMhZQFPZHMb89jgjyrkayR0p4shIIJ1ypQ+ow35E1BcQ4isVxGjnTkldxp3P8AjtV4jDIRkYpjxaxt7xoTKgcrhsMMjKnsnFKUXXA1JXyMIZQw571BcTv1juIQWwuvB8MsMVeYXqN4twm0u3j66JW3BK4wCQds8sgnmvI435mhxdcApK+RhFPp2precSAeGL9Zv44+tWZAHyWQN6qG/dUJxLgdpcXNtPjSYmV9KkhXK/KGGdOnIzjG+KbT7Aq7k5Dcgwtn9Wk3w52/x5EUeVi0RA78fU91KIhB9n/MVa6kMn0QRqqLyUAD2oVzNCukwPG1ueX7X54zXRuH96Jbt/7jXe6TbOxr5qj3rGcjFopie9W/Ll7U/c4VvRaYS/JIvgh/yfP99PScqc//AE/kKoQaHkaIf9nQj5Hb3/W7/pXHPyf57zUlB4a7OCZ+E+XEbT2GiXeuRYJ35HSfDlimFsL74uz+MkjkRuK2ZtwiBDEmmbsPsM7aebPgqd92zppwtt2ZznVKix/Zk4CXxC6RjhuB/wDr/wCW9WrcbOfIFYJ9lzgw3xBz/wCH7nyg/j9Md2K2e0kxXux6I8eX8mWgNmjE0xienWrNWQEJoBh2z4AAerfwFEJ3oCMZ7W+j8Nbj9yn+2Kz1J0qNNONuxQ3KkiPH08KlYZcAVXLaBDOWVcYU8thvty5e+M1Nq1YRkbOJJrMQK51x/wAKZ665qxVZE0PuuoyTnBpoGprO+hSTy7zyx/Dfv7qMgoZcb4/HYo5JYk4AQjCsTywwPdjcHuFR/DuIfHBnbYgjaqD0pvuu4itryW2Tccu1OBIcei6frUz0WvVeee3By2hGA8lOlvzFY7rczbaqFmjlG0L5sPpvT5F0Zz4L9SaSgRj1ee7PlzpaZu4eP5V0IwY+B2FCklPZX0FCugwPHNt3ftH8xRlYqGIBOA2w5+1O4OHSJpy8ex/8weIrhs2hBzLDkZ5zKK+d25HuZoi5GyJf2ac52IHMhPrS8XC5p1dYdMjMNgja/wAgasNv0I4zMQUsnwMYzhO4D7xWq2JvoiXrQXVlZiOzDu5DbngUXOdHt9DV4tfs44450vAkQ8XmXH9ku1TVt9k92wXrryFP2EeX8+rpr0Ws/wCovq9JdzLlyQh/aH7/AKZz/kVy6fRccLPhf2p/BZK07iv2YzcPtZ7mO8SbqVLFDEYuyuSSG1vuo7sb4rML62dpbRkkQ9TcQucP2sLqGwxzGeVC9NOElkg+ohNPFg+zCYgXqk91hn/gVtlvKAdzWNfZUkdvPdCWJXBisiEY9lcwBwSAd8rvg8s7716j4FPBMpXqY1dcbqgUEGvZ3UqTPLcLtor9tqcdkE+gJqTS3lb7h/Kri5pg+ab1hbVkAIZI8kAFjyBPZHm3fgc8DJPIU1uHSNQgbIGckjdiTlifNjv7+lTFzESDj8RVbuD1mcfNnGKwnNvlm0IIfWCfoy/65P4DYU9zik0CQqsa8kGKI04FRmViOshRQDUyE1LLIGpqYsB4uTik5BggDme7OM5288ZrsZwcVy/6+O3leGLrJVRyiMVTLYOkZbCjJ78jFVfAjErO5Ti/Ebi407SyHCsBlVTCKDzGQqjOCRWq8H4dDaytIiAO6qpcDBx82nPhn8SKpfRf7P8AilnoecwqRjI6wu30Ur9a1FLH4RdU7oh7iWCge5xn0qIaUrtouerGqTH8YBYt649qbSyb03uuJwRoEicP3dgg4A578smouTiCgMxNbowLPG2UT0FCm0RKogPPSuaFdC6GJ4h4LawyX9jHOmuN7iAOmdOpWcAgnuBr1t0etrK2kISytoWX5WjgWMjGx3xmvId8ZLdy6KMocg6jzU5HIV6xhu16wTLyLA+HZf8A+a5ZG65NGFyxHOk2dudN4HDDIp+GB2qkKqESuqkWTfenETFRgqdjjlz96NJ2wRyoAZtFsQyhlIOVIBDA7EEctxXlDinR5eB8WkslXCxyZj8427UfrhTpPmpr1wFOMVRel/QpuOyW11C6xzQKy9oHTIrHIUkZKlDkg4b5jTQmed/s9mEV0zq+crw0a/W20Ef0ScVutvfNbyxSeZU+jdoVmXDugHG+Dmdp7UvkWIV4SJgTbQLCcDPWcx3qK1WyisX1JdtIpBXKADs5w4Vju+oAgkAAjPrUzV0ODqzQbe5EgU+NKyQ6wQMU2tJOHpEklsvWKw7LDMg22I1MdI3HLIpyeKBdkhI9XRR/ZLn6VSSrliyd8Ibi2dtnH4b5pjLwVJH6xCyPjmp/A7g7jxGKdy8eZdgEHsXP1MdQt9xuRhgSsvkMLj8Bq/tVLjApSmR1/wAF4pbJmDRcY8xDIfY/oz/WTNU694nxK3cpLwu8z36IROv9ZHZacS3HxE+GJbzYl8Z/aLGtA6MsE4ZYaju8Kvjw679KF9FDaayfpot8cGi9RJdeTPoOMz4ybO7X1sp/3IakuH8bhuluJiHWO22kLxSQHVjVoAdUOcbtjOkY8RWjSXKoDWe8Wvmv7lIScqmWcdxCchjzYjI7xnwpfTKPce+5dh5F0nubGJetiRmbRlFPVsC33fPTy3J1U9PSiWUB4dCKwyMoS4HmSQAf6Jqj3uLjYntOW29jTxF5A1rFszaRMz8ZnkA1SuSfBtA/BNAqAuLgjHIEZzgDNKzuF27qhbmTc5NMBSGaSSXdjirHaoZ5o4zyZhn05n6VWrNsE1aujjI07yOdIjQ48y3Z/LNOK5FJ8F2J1Ek99Cm/Xw/r/UUK3swo8rcRsUbOGQ/0x/Gtu4FOLyxsC5+e3iQkHvCiPn615ik4NB3xr/UBreegjr/IttFyELzpjljtmT+/XPLobo1Tht7nKE/Js3qNiB6HmfYVZY5AQKzZ3MWJE3Z/mXPaZvFR97V3qMkGnlnxwHK5wwOCDzB8xzFSpUU4mg9YKUzmqinFAPmNPV4qtVmRgWQR6uZOKHwwqCHFlzSjcUA3zTzQYsV4xdrw2B5CwUkHB/VA5t7CsqeMpCGcEO5Z2HeGly2PVAQntU3xq5+NmWI7rzYd2hNyP6RIQ+Icmoi7fWQzd7En+j2v3VDlbKUaQ84Xbtbx5ibCOzHA5DHY2GB3KKmRK8mckmmNsojijU4GFXNO8+GeXMCqQmGIzULeS4DEVJyPpU+J+lVviE+BimwRGzuywXLrz6qQD1YFF+pFaEL5YwsaHsoAo9FGkfQVnWOsWKLOOslhBPPZW61vohqUksf/AFseiH/qkfSobLSLTPxMBGyarNvhlknVtXXPt6R5GD56i3qMUg1kUVsyMc8jz0nxIIwcep8wd6DFIQEjGERQFHPAAAHmTjmeZ5mkhnA4M2PAc/2t/wC7Uih5n61HWmSZGPiB57DP96n0jlExVIlkfcS7+VQFxcDG/fmnly7HVUHdPpdUb8KYiatW0x5q19HpoEgdpJo1Z35NKqthRtsSDuSazSLpJZXJeGzlFy0QGsxnUoycDt8mHmurH4UQzxuSWjyfHTjPpVR6ky6UbO97aqMm5i/4yf8ANQrHWggkUkBduY0jkaFVmyMSntbMc1oXQyQpa3CH7k4P/EUfvSqsxQ9wp3aKsfWjrWTSVMgRu0WBKpEAMgsxypBBwcjHZOYas0XDNSS4DZUgEEbgjIP7jSuiBwMpjw0429FYMgHoFrGukHGrro/aicSl360L1Mgynby7AMCjgQhdmy2SRmpbgnSu84jYWd/8OMXLMsUAfMjgEpqDMEUZKOxVsaVXOTkVGDuir7mjtbnbQ4/FoiPfMy/2FzSf+tW3LtA5zyPuDkMcfsVULLppaTJI7akWMjWxXUiZOAWZNaYycZzj3Bqcg47bT40zIQeRDDfzFGDQZEob2ZTqxt3ag0Yx+06qn1pe24g8zbgADv1DT+OSKRivgrDS2DTp5mZsl/GpodiYVg0jvzc7AjdQvyg+ZyWPhq0n5c03l0vIieOke7kL5fdzSxcUS3UmVSc5XJz6Ar/epiJrbJo2rFNQcmu9Zjl31ZIW8l0qAKp93ca3OKluKXAhVnmIQY5uwQfU1m3EOm3CLHWJb1C4+6gaU/2QRR1YyQ6Q8d/kWG3usBz1jgITp1HQV5742Zqr9p9qVvMP08Dwt3qHW4HlhsR5rM+n/TWy4wtlDYO7rEHLsy6FLNyA7zgcyQKy9uIPnntkd1VHStckvU/B65h6ecOuNuuKeTxt/d11J23H7Kf5LuE+sqoR4Z1FTXjleKuABnapjhEj8VuIbIkDriAMj33HqKJaSinLyOOo20vB7BfjllYIpup0Rm1t1erXLjJ05RcsMjB3xUHddMEuATbIAB3ythv6g/5qwHpSq8DubG2gBUGzgLb/ADM2vJNRNtx2YZwx/E0tNKUFLyOdxk4noOe5uJlZjLgaSdKDQDgZPa+b67VV4OLdSwliA7JB72OrOcmUZj9ifeqFZ8TuS+obDvJOkfnml/iHTWJ1Xvw/WfBIceWDHJ6kDNaKJnZJdGki4dxHilpEoRdZZAGD4imxLGhcagdA577EGraL1hIikhQS41A77AOv9YZ9CKzZ2l+Ks7hY30qrJIwhWOMLq6xG1ISr4YsCx5DFWaZJ3y0a6soHTHbDFO0NwcHIOKiKalJfI0k04xfxLPHcFmZcKQACCRnPrvQqMWCRurlAJVgpUhcHB3HfyIO1CqIomiWR4wv84wDBz2VhU7rITg4JXLq33FAf70Ro1m4xHpbKDJi1b5GADO4OWDEYWMc41wKItk8rTDLMNZMzHnI5PWdV4AajqkOFLHuVcZclggYscudy2cBRyGOXoNxSKKl03YzW9tbRMA08mhXkbQiFyoZi3JR3ljyCmmXG+PQaI44CjQJGsUB1q7wRRjQvWD+bEkwQOwL7jsrvmi8fcXV/AglQfDJgQYeWR5JsqqBVeFmZgckasKDh9ziqS0U0wnvhc6p8PiMduQBMsz6FcNEqL4htB3XZSROlCSylLq3Y9Wa4jHoiwT8UMjw20ZTWG1NcK2vrSuzEtgZCLtlQ3I6/mBq0DpRa2kQzGBFCuEXbsj+LE5PiWrKbfgd2sfWJzmCndstpbdcnODq552yKh76C5WQQODhRlgPDmPzz7itGZ9DS+HdKL0cQ67r5RZugPUhz1esjHZTO29Xu26ZXMYGGV/J17h5qRyrzo/EpQcNmlIuKlOX5VO2isz1Ja9PIs6biBwcbtG4cfgwQj2LU/H2jcKtS4R3mmIYCJYmV0C4J6wsVjAPdpLmvL8HSR0BbOQN9zzx/Gtb+zeAxWPFeKOAXfh196hgr5we7OKx1mtOKl4Lgs215LTxT7VbhGdIIYoAflefMh9guB+OKqHEOmHG7xS01zKqdxhCwxEH2E1Z1a8XiTOh2hzjOgCRMnxcn96U/EkSlGwqMeTo5mkPgerJGfYSVvijOx5xS1F1YPcAB5ImEusan1r8jjLFm+TtnP6lTtxwm1uore40AiWMb4717Bokc4VTrGsHIYZ/nAw0tkjbtCjcCZ04fcWZOZLC49Mo3Yz79lhWU3jOEvj+zSHMJR+RX36L2sik4x71Cz9EUYtoY5yduYrSLdZVCjy8ceXrmjhZdsoCMtuRqyMeNbWZ0ZK/RKYYCOG55qf6K9Grqz4jZ3LAaIZYi+GBIXl3ZFacDLoiVo8LhsAYOod/ZxvgfhXbeFJT+kgHZAKuBoORy8x60pLKLj4HHiSl5Kf0/4a13xKKQZ0rbWwPsCah7To+4bZe6tbZkdjNIvbxH2sbkJsBr3AUcu7PuKnlRFlG3PVnxX235VOnBw04wfbgqclOcpL/ZjcPAnUgEbnlgHNGl4TLDOoXZnGQAOslYeUZ2A7tQrcyIgNWAdPkPz+tRnF4YzFG2oBDjOYxKzk7qMjVoPPt/lV2RRlCWM8e8gC5752NsW/YjyYjjzAqy20dwIkl0kmFwQzRhMj5uyo2IxkZG1WIWnUBZuq6hWwOueQXwOOQCkl/wbbwp3wy2R3ZIjrBBzJ/MgY7Q025C6e195V9SaAI/h8Kok1qEOIiCm/JJf0kfqAcpnwWhUskQie3nLEhJTE7aQpKT7xHkNkkxnlgNQpDRGBFkAWNmKJyypBOdnJYZLGRu/fA9qRu51tk1NpDsSEDMEVpD8o7TIpVObAE5Hnip08Kk2UXR25YtYdvMbf8Ax3U1fo+8nz3bMApABtLZgA3PGYjgt94jdu+pU0FMzO8zfSDh7zqYtiZi5jgkOSzu4M7mZDg/KUMekbLutJdQeMXSpNkxWrA4DOo0AcwgllcO5ORMHcNqOdWK0KLofDAjokpw/MG1tmzk6sZMbELncKMKKWs+jJsk0Q3DquQf+725yV5ZZoi5092ScVWaFgV9wkCS3MuwAJwOznyGdlBPZB2Azmojh9hm3a4nBLzsXbCYyPu7fly2xV5u+AfGIEuLh3VSCBojTcbDIVFzilZuHO4w9yzDuBghX8owKMgoy+bgcMihmQam8s+nnUHe9EIHA6vY/nWyrw9lKsJSCucEwQNjOxwpjZT7g08c3b4HxcgxyUW1oB7D4ajIDApfs5uHaBI2XDliSXU4WMamJUEtWs9HbJ7DovfROV1tbX6lu49ZlR9GNT0vBxO7STTGRnTSS1vbglc68diJMb75GDT9eCqLKS3WUiNs5jEa4P7xWOvp7kYpflSNNKeEpP8Aw0eak4CG0pG8mo7ASDRGfIHKk+gLU8t+jzCTRkKSf9juvpIe73UetbfJwkyDBuNhsV+HgdPdGidPpQg4VPb7xXrrywi2toF9l6jTW2SM6M1g6MS4AIfSPMipy34C9k8kyhg0qgOSWfWBgAEEnkAKvKWt4q7Xx5c/hLb/AKdSEFneMuGvSc8/9UgpNp9RrgrkPDpv1MjPcOYx6jnXVspFCl4yQNWO4jIPd7bDv3NXCC0vQexxJhnwsrc/3DTkWN8mCL89/Ozgxv7UWDKn8FoETOpYZ5FQAMjvPIeud6dwPoIMialweyBrwQdyGIDDA2xuCeffVjjtr4EH40nHI/Cw4FFW0vkPWLdgYBA/1SH15cj7janYiuq4CguoOUI3GM4OT2Pl5d259d8TAuE0oWG2hd8Z3PlT9OHXibG8ycnf4OEE+pH0zy7q6/DJzstyE9LeNs+5JNAWNRJGVkXGNXeByzSU+nqJPmQgfOgBcAdrsjBBYrkYwSe4ZxT5uH3T873l3fBxb10cKucHF2AT3/CRH6E4oAp1vHC+uWGOFSNzI0jR3ODsSyByfZpU81pQ3ETmN+teVlIKG5Xq4VYcisq6Y+e4ZVmYVOzdEXuCGlvQ7dxeyjlK+agsQp81ApU9E7xl0/yo2D42y5GfA69VOxWN7kIzMpcBbqMq4zy1A6CDzIRx2fIAjHKhS8XQu8SNYl4muheSjh8UYHf3FOZ/H3NCiwslDD5UbqTyzgeHKgzgAk/4+5pRH23rIsbtbHlk0RrPb/DY0/wB4/hRZJEHfzpoCLWEZ3P0oktrjc/lmpJ2WmxcciM+m4piGPw+Nz+VFEI1AAcyKeyPq5KfzpBXIznO1ACDoBsq4x4705jbCNk93htSRkHPFFMqik1YIZFQDz9sUAFzinLAFsH3OdqKYwMdwBpjOBBjGPbmKe2yjFIkqmMmnCSqm+B/7c0AP0UVIKqt5flUXBdrnw996e/Fpjl+B3oAcCPP8KT0as7/AONIi9Ve/wDImm5vEzk0APwV7sHNKAjJC7/SmEXElXGORUeddbiMbcx+dUSPyvgT+AB/hREjJznOP4eW1MH4mqZHP60ZOKofu0WBKCIcgTjwp8ihTUAvFF5jOPXana8VQgdk0xUToA0ihUIOJj9XNCgVFedz3GjB2PeaFCsjQV1NgYIrm4JIP4KRQoUwO925PutJe/0OaFCmAiyr449iaRIAAoUKAECmeYxRhCDzb8BQoUAKgKM4HOjMowMZoUKAEGUeFJ5UDGmhQoAVjxnIA/CnauR8wz7YoUKAO58h9aQLgd350KFAHVYY5ePeaLgY2OKFCmSc1Ad9J7E5HP0oUKAHCL3Zp0o8/pQoUIA5HeTQoUKYj//Z",lN="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQkGCQkJCQwTDg4MDg4ZEg4SEBcOEBAXEBcXEBQXFBQaFxMTFxoUFxgjGBwZHxoYIRgjGCMiIiQnKCMXJzUBCQkFCQkJDAkJEyEXDhoiHAwYKSIoGiIkIiIZLCIoISIUIyIaHx8aGhwYHCIaJCQjDhkkIRcvGRoXIiEnHxckKv/CABEIAMgA/wMBIgACEQEDEQH/xAA0AAABBAMBAQAAAAAAAAAAAAAAAQIHCAMEBgUJAQEAAwEBAAAAAAAAAAAAAAAAAQIEAwX/2gAMAwEAAhADEAAAALJs53zM/SWvW5Tq+9ACYAAAAhHATqQK8ncrVZUAAAA5eBS0RArieCoNvhBUAAY1zSDuf6vmvP0y323Edvt4AF6gAAEDTbCPbnP+jxc2EQTzBU6gAAByvMdbwp6vO8jMxFdh4An8EUEFQax7CHeX6jncGiUe54budnEAvUAAAgeVojmo2n6TiHZ0gSewAAA52PpB4Ak7d0HEJz/XexAIKIjmDUAhbm/a8nBolTu+C73ZxBFvUAAA8HhZYCJ3SsHGdmAAAAEUSuEUErhFkpgICjWu803hUIC8rc8nDomTvo7kTXxQC9VAAAAAAAAAAAAAAAAAENeK5b56qq9wabSTwrg8mtja676SRW2yWngAWqHj1d6Vt0U6TpW4yUzIXMWmSSucUoYXZKR4i8JRoLzFFNYvolBsRf5fnxswv82LZR49DDkSFfo4tXWrhWq2lv6VtNv7WVRtX04uRMUxFtDLtUg9DPlYw088mTWcbRiWYyNxES9GEHNakWVjkH4wgmNUrNqrWVVtT5+huJ+DnOasdn2w+WWPV0Ofe5NpqmWy6cTU2PNtWFqX2grF6WfGObo5j2g9GNhlTEyJzmBE5zEGZMLYZ0wNhkYjqzbG0FJLSYO/a4cuPjdnpRflyavnZ5ves6RPttqvWe7Z1+en0I+X27PnYzFv4bT9N5trr5ZjI1AfhyYkqrCsuXGD0agqIyJVzEiWvwPpN+5EiCXfL0w97Hnet43rwTil7U9DBmm+KOs68ur+XH0b+ce7grHN28X7GrkRnya62jMmMHoxsTsJjQeYVhmTEiX42kHMakS9cTKze+V4d7Hy9PkeQuz43reuz1Get5bPRx+qc/8APP6NfOvdwYx7d3B6OBMg+YY4QEUiWMypEtcghr0akGrBWq0TDlxVtdqQuX7ryNUe+z1Gng25m+im/Hg97z/ZRpxlLPhSiolctEUOlUItdKKkZLJiwjR8koR4shhwS9404de3dDiW9uJ4h/aIcZn6sH5Np8PIdtFbMaFoy+oCE84BFAVQFASqgAAoCBAHKAgA0AEA3QEawEW//8QAMRAAAQMCAggFBAIDAAAAAAAAAAECAwQRBRAGEhQVICExMhMWMDRAIjNBRCRFNUJS/9oACAEBAAEIAsoe353jrdUG1SuRilE9Xx3XjxpV16VguBtNxNNxtKaFaavbEnDia2ppyiwlKiGORdxNNxtMVodiiR7fQb2sMP8At+hjf36AVbXVX4grl+inmmkcL/lG8WKe2qDCPaQFTW+GuoxKuZ1raQ+2jvx25qJ2sMP+2voY396gMQX6UQib4iojIokiSyf2acWJe2qDDHatFGolv9qem1PqdpH7dnoflROyMw/sX0Mb+7QErEkc1qpyy/s+LEfbVBhnsYRkbY+TTSP27PQTqonZGUHa70Me76I8Rh4jDxGDVvinFiPtqgwZ7UpIL+Iw8RhpE9FgZbjb1UTtYUHR3oVdDFWWSXy9Rnl+jPL9GU2FQUrtePhkjSRrmO8v0Z5fozy/Rm4KT0Gr1G9rDD+13y3ysjtrZJ1UZ0YYf2u+U52ql1q6yBzbLBUvono56LdEU/6G9GmHdrvlzQJIilfHd314L4jVfr/l2WG9H/LUq2SxW8TZHSIksq101xMQmNHKh0rZtbOedsDHSOXSST8eY5jzHMeY5zzFOeYpzzDUHmCoN/1Jv+pN/wBSb+qjf1Ub+qjflUb7qzfdWb5qhMbqkMKxHbmLfOoZrNW1M2Jr5NpcIaL/ALHBjftJc75X9C5fK+S5aMfscOLorZVUf1ENF/2M1Mbd/Gk+Jov+xwNRF6qxqjo1EjcaMJbaM1Mc9s/iv62jPbPwMcl7ZP6iGiv7Ob3I1FVcTxGGaN0bNUsWLKcznlzOZzOZzOfDYsYVijKJqsdS18NT2CiutM0m/I/qIaLdajOsr31bru1jWNbK/wALCalainY5yj5EdULGS3Rrr7Oi8zZmmjjEY6e2SdPj4D7Voo6O1RrE/RTdyG70MHp/BdJkgn4yT4uBJ/EYKSfeaVCq1XCtFQpVVquNdw2RboWLZWLFsrZWyt6FixYsYa/WpoVFUk6tJW6zCxYjb1NUtbmJ8VcsJ9rCapL3NF5JlYZ1FaKwtq8l+JcuYdCsdPC12rksVyxYanNCxYnoIZ3az900xummN1UxuqmN10xuumN2UxuymN20xu2nN3U5sEBsMBsUJsUJscJskJscJskRssRssQlOxOiFs7FhvVM7FixYsWLFixYsWLFixYsWLFixYsInItwp69ixbKxYsWytlbJSx//EACURAAICAQIGAwEBAAAAAAAAAAABAhEDEhMEEBUwMTIUISIgQP/aAAgBAgEBCADfiRdxT778mP0j32Y/SPfaMfou+/Jj9F3ZJtfWPM4zeN7M/JBNRSZDhp5PXp2U6flOn5Tp2U6fkOn5D4GQ+BM+DMcWnTJ4U2rXgXjlwq/D/i+dcmZfd8pQ1KhJ0Lxy4bBkUHe3I0M0yGmaWaWVIpmiTMuGak2zqVK2s0URdqzhILVJjnI1s1FjLL5fXOaqbSyxjUmttEXSo4Ru519istlstlss1MtlscmTn+mZPSRRRwbX6L/uyxsbRP2Zk4J6Wo8lJo3JG7I3ZG4zcZuM1s1M1M1M1Pk1/h//xAAlEQACAgEDBQACAwAAAAAAAAAAAQIREgMQMRMUITAyBBUgQEH/2gAIAQMBAQgA6TGqfvTJfT96JfT96JfT964Jcv3JtOi4rwS+ntLVUee5idxE7mJ3MTuIncRO4iddHXQna2aJLyPnbV52r0R+d21Y+dtTVhZnEzRkjJGSM0ZIyQpxI6kWkkfr/KQ9CTdk402jVfhIwiYIxRRRRRX8FwiMm5QR15EvLs1VxvSKKW1FIoopCj4RptKcL21v89aFwiH5ayTltRijFGKMUYoxRSKKKK2T/o//xAA3EAABAgEHCgUDBAMAAAAAAAABAAIDEBExQVGR0SAhMEBSU5KhscESImFiojJx4UJDgfEzYLL/2gAIAQEACT8Ckt1705r9XJW6AkeN82YzUzKPE4lGicSjxOJPc4eCs5Ww5RonmG0o0TiUeJxKK8zumzu0Hp2W1grdBve4ko6qj7LdZWw7otlU21DErotsdDoLcFtK3Qb0dQqzn/hUybrK3b+iqYUc6+r70LeDodBatpW6DfDshPNOewl3WVu39FWJrzMhNJvB0OgtVqt0G9HZOF6cL04XrdZW7f0RFfVOF6cL0f3B0OgtCtVugE83rMofyOKh/I4qH8jimzH7nKocDP8AyofyOKh/I4qH8jimfI46C0K1W624Ce3NLardcE8/tmzUlE+EN+in+pvxaq1ardcH56IEGvxV4zYeq/cmpM1HMz/aS3XYzXVhrhYn/wCSgN87z/XJOTkaPDkUNTB1wTWprU1txxQZccU1txxQbd+V4blNciLkRwpw4U4cKd8Qn8gonIYKJ8RgovIYKJyGCzObTkNDjY6hTt8H6Ks9PaX2d8j2dRqns75OdvlM1U58vaX2d8i1nXVPZ3yQLpfZ3yNpmqWt0Hs7ymYWrzT1zZhNn1RhM5pB7J2fZoMu0rZfZ3loqbUNXpE4JtmkFeRY3vrW06St0hKKrA1q1/WTaVBl9EUdYs6EiS3Kq1j3f9GS0ZdI7avTN1M+hhglQhecVCF5xUIXnFQhecVCHPFQhzxUIc8VCHNQgoTVBbcoTblCZwqEzgChM4AoTOAKEzgChM4AoTOAKGzgChs4BgmN4R/ov//EACkQAAIBAgUCBgMBAAAAAAAAAAABESExEEFRYfAgcTCRobHB0UCB8eH/2gAIAQEAAT8hwvfnFLVZ1ZNQXpNtiAyqh0u5TQsreT9LwHk1ZDkVIMcXscd9YSkc279/TqYynDVb9CJ1ztKg476OS+hrfk5Cqb+PAeff3D0T3F/my8D0IVTEJTL0SE2MK7tS98ZLNai2m8rdFvtnB79azzxXZO1lvdm29AaI2k01b0v8CtZyu/A2kC0e4Xy3uiw5ovB8vi28pVH7+IFvVe7Ua1UxT6KsXN23LY+r8HrHL8/5SQ03Gbbd93PMilY33Gu23+eCt9p8DSjZ7o4uy8C+4yYKRIP2pNr02ESQlC2pgur5PWPQJlEJO3zd+EN9E+BeHXwdvuUhzP2R/JH8sLc056nB6xJJUvaWc/kBf5Qg8e/PgLRyLD8u3gsmi70qu7NdCWQVqsama/dtdSsJQJaVQ9+jLKJJ8CqycKFSebfmE0TKUqsXjs/dFSnxQfzV+UhlhbSTP58sqSpLSmErKryFm8Jzk12bzab90Qosih9ya9j3Q8cOR61fP5dPEvWUu6H5qwTjY3S0uCijpDUr7hIUcyaTNrS2UuX7i+CyW3plDeevnw5JJ6ZJJJJJG8VlNJxKvpvoNFgXE1N9HlNr1mBMnlm0pOyyS5aIENjZfQw3VWdPoRk1v16LTpWL7Jdx23W7ZcN/Zx399Ahip/tzzf7Of/eG2e/kD+AHown5vbGYrfC++GmapuhWc2a5l0O01UValKZnS63mrLe4tX3fuXlvRW6FJwThJIyScSXgnqfImPepE5rFNfQ3O79y8sx7HCMgmNYx0Tg/AZZhWxkzBONalWcwZbjV5oWdvVDa+O43IzJGT0EySRE4qhOEkjL/AJQycGSklOk1oSLV3YlcTYpMi7OEu7HHto0QkZnfyJImTwIECGQIECMCBDIZUh6ktTvKtg2pOmj3IdL3O/Z3jacX7f8AVQKo73uNV3ZcelwVUn1E739XuTkmNhObjElCglsQiFoQQi2QulxkNiyemeg7mX+QL8r4NgDLytVCTCYah7SOqO++v6Ic/XGAl9ljB4IphJImPCcJgkQ9BOZLDeKxwa4EIz/SPz3wR6r0FQ3Ps28Lx5X6E4L9S6GWwkmKkvokj3feITAliwYNIhpQPWeZU7XRVbDBxU4rgjv5n7+ZG78yL/pHJIEER/SIIIt9liOgbB9irUKi+Zio7X1HriFe3yPDXPYhqNO0b8qiUXYVBUxsVwRGGpYbESKvQ8EQJJ1oxEkv+wtFDWBbNRo1ypumvOg3drhrTWjoawROCxjCMLziyRvBtEoaajUpoI7a0m9rEGsiuhx+h4HnWBzuMzyzqnS1munGnxwv7OMJZw/sct/Yv8Z/ZxX3h+D6pxj4OO/Bzn4OR/BwH4OY/Byn4whQ7SazS2vQWUngaqNDwE8xfgh/bt8HcpMDVRoaIEqu+ETkNEEEEEEEEEEEYlRHSEYIFBECDH//xAApEAEAAgEDAgUEAwEAAAAAAAABABEhMUFREGFxgZGhsSDB0fAw4fFA/9oACAEBAAE/EEiT3P4P+h+h6MwupWsgXpbvqselkrgOpgfFg5S6tyuVoEGG1u353/A9Obqv1MuPN+jj/DwB+HLwq92dzTH1X7UENJTgmW4fe1iz/Lwbfo4qx9nx2em7+o9KWRuNyf8ATjr+CaqHlEDSYMhXsEpDytfbiwEajeN1kTb0yAQXYoAaJS+VTP6hF/t5TzAkAU13qTCmaM6AvLiocq2oKABRpNuW3XDt2e/P8AcQE0e0AMOsPHhfwcXDzvU+3IZzWtTSX3GERMt0KharAKF1wEKB7kFrP5Yfq4uY6p/qFx32Atsjc0FRa1lWiwjQ8sCGbwHUmXFLT6qTHpXms+KtmMNPkZo+z+Cx4kIIS6jC0HJZbFEFGDYA9Dp7f12KpHKnxSRwUVgWhzkjuqrD6fxGPT9vzIthh+wnuRCP6wH8GNuqiCxTo6/g5vE/avvCiEG47xv66K/gxOYjd+97xX63vAt/aHRPTT6FGlV4GX5zGON+c6+mOj7f4GOpJKaKcydzN3k3fTBmHtjrePqTIy1GiSsQWOojFt0/eTd1Np7+jP0Ztt8kkpLKY2cwqHs+/Q/5q6vKHVWzGBd86RE6CDjL6JUYWsCOpeZtVbXNzr1v/mZdluUn6ArKpVUyhUP2iPfRA1iPerAVhiWFFMBOvaAaILIz7fW0Di63vnMWHon/AJ1lwjBNvuqr670dnkIdmwAMRRBTpwDcpNz+FSrazWoFmHwx0KNsZNlO+wXCx4uxLMWLeCi4VV6b97rrX1XL6KSkuXLlyn8HhivDQCCtKAIpNciQVqbxbrjzpUa3Q5rXhbUFojOyIJq1dCqYdzFzmbgROK264xj67jesFddy4rNotbAwWmjJH/D0of103a9Jy7cyRoTZYYGJXQ9eXk8s2b/oiM0ZynSI7ZOpOeXCzY9d2tnHwZSWEv1Xb91dJVtPQsuDZ4xTkEXTShjQuUtPw66x4NKwYsTVKfDFXjSuXLnqsVtre3nLqxjByhqIWlzWTKLQuLzDXbu/MrWP3PrLYK+biwfiWq5escMQiv8AsazHmVi9CMMk8k8R0t/QvaOowWfOP14X0oJQPPzUVsIGb7bfaYc+OZUKaQaZfEM1xC01K8ZgZ0JnBLn21xCAoYlES7qKY+NJegoPlgqhSMi1KtChrUbgJwW96XcvSdHT80pxq4sWpgZ5B8yU8NIgcxhbu3mDKanQo9CTnEabEfCXFh9sRcXErE6+OfeK4K5Ptr0LHibax0u5jXFxyqAvWvyQtmzMOjUGsNhH5SgmMz9DjDhdNYVjB1X++sXxccNQOO8Hozm+J2z0Y8ntO77Q5Pad/WAzUjz+0p3PSW7npK5mO07CXXcCdYFt8PEIINBNqZnG4tWbkaumhmBtKfjaiGwafMmJ/S59+L9PeFgtTG1YuNiLDGO/rziigXRsxw4lTy57Rbcte3hBvQvOKiSsGO0R7UwMBONoDoPZl649pZdD0MQJtWHi5oNcwrQNdYC0xtEL/cVGmoBkmLbM+GnpjM1uyUYv9vbBLCVihAoobESkeHCRoDmapV3lZbdmmZFLaLxtXmtoD4i3kUF7vnLPLs1hy7MTUV/XYlsbv5oWZWHHwhsXgg/bFzZWsHV3mA3i99Zg9tCDiZXcXXH2m0aYiwcZrPaLW81Yl2x2Mf7++sb1ThrOZsy+NcQY8n4JYGfY7HpFQp6jNq6p/F68eMBBxquPOYXwoniKd4mbj5YKwJ7X8SIlPtfifq32iS41GtwLFh5zyRCsoZ5nccQ/Wm0FKuCmhzFdyWNXg5gdtfIucNO0w+FRNYy3zjzmbQb/ALmDpxKC09jxx+It3inPl98ytzb/AHSLkQvsukwyZuojeZK9aQ1ZrT4GbLB2pE+cQDVTKxLYNsxjdn9jRV6G4VbLzEWRQq66Ws2HFcwzvPjbAcrA0pvfVR10pS71PHa/1eJQz8nMLVQZxGA24rWKrVtujaOSr8L7V8yvffeV2sH5s95xr3r8kxLfdHgt+LijmVMaf5Baa3e45xHh3ibM+eeZi1q4yMT4Xdy+UYEX5Kspa/VEyG995051iAXdL3eD9pmlYV9F8DWciMLyehX7ZYvZBTyhoVwTAasfbONNIXajwjS91g8eks1Xby1gjFVUrFV7PEbKdnPlvmPouLbnowWFo+H9ZhsVA3/fGXdn28JlrBaGvYlqP3wZ5gWOLyE0g1NVaLWjyC7XYhrpH5vosVrRWjHnFbkvUGazir90eow+FljwcJPmMto86hTMS7nLeObqU6kLtnrDOuKjbXaV/UR/Qia97mNZQ07RzvmAgusspPvfnDXkYniztNgPXDAmo4zmDdiRrGx7gjO77RbM6hELbZtXuMpen0F0DiBIHYguuMLZ9GLbekZlIlYjcKVf7LpDBTT+pmGZA/IgP8eH5w9fSU6DbK3Tu06Z6zSGCIQyIhRNklnapljGNHzM3RXAqBCadNZSUlIRSUJSVlCUgZVo/OPmoj6E/QfvHzGK4xTN01P2RxrL1tVxz3fsTK3y9J07/V8cv1GpIXL56Dqr9WojFjLmf//EACERAAECBAcAAAAAAAAAAAAAAAEAQAIQMFISICExQVFg/9oACAECAQk/APZikNJDkwT3RqXEMLmHeLIUUXf/xAAdEQEAAAYDAAAAAAAAAAAAAAABAhIwQEFSIFBg/9oACAEDAQk/APZtRwRcCpqNhqFhgl6H/9k=",fN="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAUFBQkGCQkJCQwTDg4MDg4ZEg4SEBcOEBAXEBcXEBQXFBQaFxMTFxoUFxgjGBwZHxoYIRgjGCMiIiQnKCMXJzUBCQkFCQkJDAkJEyEXDhoiHAwYKSIoGiIkIiIZLCIoISIUIyIaHx8aGhwYHCIaJCQjDhkkIRcvGRoXIiEnHxckKv/AABEIAMgAdQMBIgACEQEDEQH/xACRAAABAwUBAAAAAAAAAAAAAAAABAcIAQIDBQYJEAABAwMABAgHDQgBBQAAAAABAAIDBAURBgcSMRMhNlFxcnOxCDJBQrO0wRQiIzNSYXWBgoSRoaIVNENGkrLD0SRiY4OTwgEBAQEAAAAAAAAAAAAAAAAAAAECEQEBAQEAAwEBAAAAAAAAAAAAEQESAiExA0H/2gAMAwEAAhEDEQA/AJloUWtZ/hB3TRy81lpttHBilLQZptuXb22Nk4mtMQZ+L1Hq8a4tLbxgTXWWMAkgQYpPziDHn63FWFelNyutJa4jNWzxwRjz5ZGxM/FxATW3vX5ojaeFb7vFQ+PzKdjp9vqyAcB+teb9S99VK+ad7pJHnLnucXvJ5y47TiVZsgJylTJvPhXwAvbbLU9/NJPMIcHs2CX+8Jpr14Rel1zAEU0VH2EA75TMUyCodysKk/Qa8dKraXsfLFV9tAO+IwpwrV4TERIbcbY4c7oJhKc9m8Q/3lRmnkw9/WcsThtjaLcgeUjIUhU5rVrz0WuGwH1Zpnv8yeJ8QHTJgw/rTl2y9UV2YZaGpiqGDe+KVsrfxaSF5jGGM7hjoJH5blgNI0O22nDhudj3w+0NkpCvUJC88rZrG0ntBJprpOcjdJIKofUJxIAnFtXhH36kLBXUkFSwcwfTSH7eZY/0JFqZCFH2z+ExaJwwV9HPTuJ3s2KmIfWCyT8I082iunNo0tbO+1VInEBaJBsPiczazs5a9rHceFBvEIQg84NdfK++9tF6GJNSZGgneSN+Bu9idbXXyvvvbRehiTSM8aXruWmV5efk/icd2UEv5wOgZ78rIrcILGtOeMkq4/6VWoPkQdRd7mKfhC3jOXYzuXH0VTJPWU75XFzjK3jJz5Vsr0ch/StLa/3mn7Rnesq7oPIVwncsG0qKhUJzzKonCR7StJQL9tr+YqU3gxAA6Q/cf8yiRtKWXgt/zB9x/wA6CUiEIUV5wa6+V997aL0MSaRnjSdo5O3rq5X33tovQxJpI/Hl7RyrLOqKpVFRQcSqPahCDNdeMOWnth/5FP2jVuLpud0rS2394g7Rnesq7PaVj3KhKTyjbWh22jmiEl+ZEYq6kifJLsthmnxJgsEgedlsmGnOxzh28Lb6T6q79ozHJPWwxmFgOZo52OBAGSQ0lkv6E1hhc/OdyUxkxAtaS0HeASAfmIQXkqWvgtfzD9x/zqIxUt/BY/mD7j/nU0SoQhCivODXVyvvvbRehiTSM8aTruTua6uV997aL0MSaRnjy9o5aRmKoriqIgVMKvkQgUXNhIOOdaK3fvEA/wC43vXTVByThIHxA72g9IBUi1uDG/fg/gsa0vudmc7OOji7lmBcBgPe3oe7/ZQrZIJWvbI9u6R317Lu9quD5fK8HpYPYQqUrUufBX/mD7j/AJ1EKNsz+M7AHQ7PeQpfeCwOUP3H/OoJUIQhRXnHrrGNML72sPoIk0cfjy9dyeHXeMaYXztKf0ESZ+Lx5u0eqjOFYQrwqKotCPKqgIKBZMcE/Wtea5nkJP1K24TbwFqYypVjoKc8PtbPFs43rOad/wAx+tJbWfjehvtW0JSkJOAf8n8wrmxHytKUoyhF4UrfBeqI4X39r3gF5odkE4LsCdROJXTaEAHSDR/6SoPTxpR6cIQhRXnTrxGNML516b1eFM/GPfy9o5PJr0bjTG+dal9WhTNs8eXtHqoz4VFdzK1UUQ5VQURrKw70ialtWkLFNab+1n40cwb7VtCFqrWfjehvtW1RGEbbnBjGOcTuAG0T7U4tu1U6T3H4i3595G7BqIGHErQ9hIdI0jLU3jhtJZSXGso/iKiWLs5nx9zgg3GkOidz0aeyO5U/AOfnA4SOXcAT4j3+QrLoNygsH0nb/TxrQ1NbUVRBqJpJSM44R7pMZ342iVvtBuUFg+k7f6eNB6coQhRXnfr05ZXvrUnq0KZqP4yXtHp5tevLK99NJ6tCmZj+Mm7R6qFCsWQK1UUagjCrzocg1dW3C17CuknpmyeVa39mvHnt/P8A0shZav4v2PatstfRRmn29o+NjGPm6cJbwoVF5QgSDmVw40FmF0+g3KCwfSdv9PGtAIc8aejUtq9Ok1f7vFXwItNVQycHwXCcNh5lxnbZseJzPQTvQhCivPHXpyxvnWpPVoUzMfFJN13p6NefLG99ak9WhTMR/GTfM9yqFIViy4VhVFoVp3rJhUIQY5ajBSc1ISed2ONJGna3n2KUhcavCr7sSYQNdvz/AFLcU1qp5I2veX5OfPAG8j5JSkI21yWQ17SeNKG2mlHmOPS//QCyi30g/gj+t3+0pC+AiUZYQegg4Us/BgYWi/8ATRd0qiAKGmG6Fv5nvJWRsEbPFaG9AAQerKF5raMXCopzUCOeZoOxxNme35XMUKK32vLlje+tSerQJmoR8JP2j08+vLlhe+tSerQpmoR8JUdo/vVRnVuFfhCUY8KhV4VHINHUFJozuWedJ4yilrV0VEfgWfa7yucYukoh8DH9rvKYhQSqhytczI3pVZaGjnq4GXOpkhp3SMEkkUfCuY3zjjOfwa8/McAEMG9VTqUUer6jiYZzc6qTyhmwxndAU315lopqqV9uifFTHY2I5Hbcgw0B+Tl292SOM4CQLLA8sdPjmZ8/ykLLo3kOqMDPFH/9IUV1OvHlhe+tSerQpm4R8LU9q9PNrv5YXvrUvq0KZ5sT45JnbO0HvcRgjIzzg4VRkIVpCOExva4fZJ7srGJ2Hi2h3ILgghXDjQQg52dJIyttV05GVqogopcwLpKEfAx/a7yucYF0dEDwMf2u8qoVYRhCu2SlFuEK8NzuXSaO6HXbSRz2WyjfUGPG2WlrGs2skZc9zGjKUU0aOHVHRH8/ykJ4NF9Rek4E75ooKfOxhss+0447JswQoriddvK+99el9WhTVEJ1tdXK+99em9XhXAaKUzK++WmiqBtQ1NfTxyMyRlkjwHAEYc3pBBVRptlUdkjB4x+KmpcvBitMrD7ir6mF/PII52fgGRP/AFrgLn4Md5hf/wAKupp288okpT+AFQgjGYWAghoBB3gYV5GMJy75qj0mscE9XV0BEEAJfKyWKUNaN7tkPMmB1E22EG0dG3J4hvSN9spnfwgDzglvtx+SXlIp7lS05c2ST3zTgsDSSPyDfzQYP2PD5pcPrB9iWQ0gia1m1nGePGN5yuz1eaMjTi4w0EE/ACSKV4lfHwhxFgEbAe3f11JW2+DRb2A+7rjPL2LI6dv5icoIftiARmNhAJAJ6Mqflu1G6K0QjzRGdzPOmmkl2ulm1wX6FtdKdG7ZZ7BfzQUUFMTb63JhhZD/AAnfJAQjz1yOMAjI3gHJHSFKnwZd1+69H3SKG+j+6Tqx+1TJ8GbdfuvSd0iCSyEIUV5+66uV1769N6vCuF0KOzpLYPpSj9IE/wDrd1T6Q3K+3G6UFIKmCfgiNiVgkbsRMiILHlnyPN203GgurHSSpvVuqf2fJAylq4ZXSVLDAwCI7faOz8zSlRN9+lMDMpG/TSBm5VOr6jdCwOllEgHvpA4AuPUIc0dAXGXTV1cG/uVZHJ/0yxmL9bTJ/YFvv82OfMk1j6XsrdHL5A1vjUkigk4KSunGjWkNBbbi6ppswCF+3LHIyRgHPjIlwOoo1lTdzfjWZv8AWyPtW5o9XttupFTU3f3OZ/fFgpTKWF3HjPCMBwtESszHPeWMYC5zsBrWguc48wAySmYbqTWp7Quz6MXSKtZehU7EMrGsNP7m+NIJJJklUq4qiOYZjeHD5iCoB2DQDSeqJdBbp29oBTelMZXVxWrSG3fHRVMOPOMbtj+sAs/NJm/DrU0lotP+T1++j630T0y1lsmldWBsVM8Y53jY/J2CujqtWukFzhlgqr68Rysc18YjL2uDxsuDhtx5BCnK9ICWDdJ1Y/apkeDNuv3XpO6Ra+3+Cw2kdx3klhxkCkDX/iZXBProLq8t+hEdUyhfLIagsL3zPD3HYBDQA1rGADPMoOxQhCKEIQgFQhCEg47WDYaq8WG70dEzbmnppGsZtBm0T85w1efV40MvVmMhrrdUQtYeOQwuMX/taHRfqQhMyIV2vQq+Xkx+4rbUyiTxZOBdHEf/ACv2Iv1KYeqHVg/RWkdU14ArqlrQ8DDuAYP4Qf8AOffPIOCQBuYCRCb79B6GQNYqoQpnjmfFCEIVAhCEAhCEH//Z",hN=n.p+"static/media/shoe.079d41483e20d1b4b657.png",dN=n.p+"static/media/cream.31979d48a6653018a6ff.jpg",pN=n.p+"static/media/ear.f262d568ca52faf6df33.jpg",vN=n.p+"static/media/ladder.2bdc2a5cc1629d1901b1.webp",mN=function(e){var t=c(p(),2),n=(t[0],t[1]),r=1.1*e.price;return(0,f.jsxs)("div",{className:"product",children:[(0,f.jsx)("h3",{children:e.title}),(0,f.jsxs)("span",{children:[e.rating," \u2b50\u2b50\u2b50\u2b50\u2b50"]}),(0,f.jsxs)("p",{children:["\u20b9",e.price," ",(0,f.jsxs)("span",{children:["MRP: ",(0,f.jsx)(rn,{value:r})]})]}),(0,f.jsx)("img",{src:e.image,alt:""}),(0,f.jsx)("button",{onClick:function(){n({type:"ADD_TO_BASKET",item:{id:e.id,title:e.title,price:e.price,image:e.image,rating:e.rating}})},children:"Add to Basket"})]})},yN=function(){return(0,f.jsxs)("div",{className:"home",children:[(0,f.jsx)("div",{className:"home-main",children:(0,f.jsx)("div",{className:"home-img",children:(0,f.jsx)("img",{src:aN,alt:""})})}),(0,f.jsxs)("div",{className:"home-offer",children:[(0,f.jsxs)("div",{className:"first-row",children:[(0,f.jsxs)("div",{className:"card",children:[(0,f.jsx)("div",{className:"title",children:(0,f.jsx)("h2",{children:"Up to 70% off | Clearance store"})}),(0,f.jsx)("div",{className:"image",children:(0,f.jsx)("img",{src:oN,alt:""})}),(0,f.jsx)("a",{href:"",children:"See more"})]}),(0,f.jsxs)("div",{className:"card",children:[(0,f.jsx)("div",{className:"title",children:(0,f.jsx)("h2",{children:"Starting \u20b999 | All your home improvement needs"})}),(0,f.jsx)("div",{className:"image",children:(0,f.jsx)("img",{src:sN,alt:""})}),(0,f.jsx)("a",{href:"",children:"Explore all"})]}),(0,f.jsxs)("div",{className:"card",children:[(0,f.jsx)("div",{className:"title",children:(0,f.jsx)("h2",{children:"Bluetooth Calling Smartwatch starts at \u20b91,999"})}),(0,f.jsx)("div",{className:"image",children:(0,f.jsx)("img",{src:l,alt:""})}),(0,f.jsx)("a",{href:"",children:"See more"})]}),(0,f.jsxs)("div",{className:"card",children:[(0,f.jsx)("div",{className:"title",children:(0,f.jsx)("h2",{children:"Revamp your home in style"})}),(0,f.jsx)("div",{className:"image",children:(0,f.jsx)("img",{src:uN,alt:""})}),(0,f.jsx)("a",{href:"",children:"Explore all"})]})]}),(0,f.jsxs)("div",{className:"second-row",children:[(0,f.jsxs)("div",{className:"rowhead",children:[(0,f.jsx)("h2",{children:"Today\u2019s Deals"}),(0,f.jsx)("a",{href:"",children:"See all deals"})]}),(0,f.jsxs)("div",{className:"product-container",children:[(0,f.jsx)(mN,{id:1,title:"OnePlus Bullets Wireless Bluetooth in Ear Earphones with Mic",price:1999,image:pN,rating:4.3}),(0,f.jsx)(mN,{id:2,title:"Prime Amaze Multipurpose (12Ft.) Made in India Foldable Aluminium Ladder ",price:9999,image:vN,rating:4.8}),(0,f.jsx)(mN,{id:3,title:"Fixderma Nigrifix Cream for Acanthosis Nigricans",price:499,image:dN,rating:3.9}),(0,f.jsx)(mN,{id:4,title:"Red Chief Leather Derby Black Formal Shoe for Mens",price:2249,image:hN,rating:5})]})]}),(0,f.jsxs)("div",{className:"third-row",children:[(0,f.jsxs)("div",{className:"rowhead",children:[(0,f.jsx)("h2",{children:"Up to 45% off | Furniture for your comfort"}),(0,f.jsx)("a",{href:"",children:"See all deals"})]}),(0,f.jsxs)("div",{className:"product-container",children:[(0,f.jsx)("img",{src:cN,alt:""}),(0,f.jsx)("img",{src:lN,alt:""}),(0,f.jsx)("img",{src:fN,alt:""}),(0,f.jsx)("img",{src:cN,alt:""}),(0,f.jsx)("img",{src:lN,alt:""}),(0,f.jsx)("img",{src:fN,alt:""})]})]})]})]})},gN=n.p+"static/media/amazon_black.740aa7b25a15d6df9b43.png",kN=function(){var e=Mt(),n=c((0,t.useState)(""),2),r=n[0],i=n[1],a=c((0,t.useState)(""),2),o=a[0],s=a[1];return(0,f.jsxs)("div",{className:"login",children:[(0,f.jsx)("img",{src:gN,alt:""}),(0,f.jsxs)("div",{className:"form",children:[(0,f.jsx)("h1",{children:"Sign in"}),(0,f.jsxs)("form",{action:"",class:"contact__form",children:[(0,f.jsxs)("div",{class:"contact__form-div",children:[(0,f.jsx)("label",{htmlFor:"",children:"E-mail"}),(0,f.jsx)("input",{type:"email",placeholder:"Enter your mail",value:r,name:"email",onChange:function(e){return i(e.target.value)}})]}),(0,f.jsxs)("div",{class:"contact__form-div",children:[(0,f.jsx)("label",{for:"",children:"Password"}),(0,f.jsx)("input",{type:"password",placeholder:"Enter password",name:"user_email",value:o,onChange:function(e){return s(e.target.value)}})]}),(0,f.jsx)("button",{class:"signin-btn btn",onClick:function(t){t.preventDefault(),rN.signInWithEmailAndPassword(r,o).then((function(t){e("/")})).catch((function(e){return alert(e.message)}))},children:"Sign in"}),(0,f.jsxs)("p",{children:["By signing-in you agree to Amazon's ",(0,f.jsx)("span",{children:"Condition of Use & Sale"}),".Please see our",(0,f.jsx)("span",{children:" Privacy Notice"}),",our ",(0,f.jsx)("span",{children:"Cookies Notice"})," and our interest-Based Ads Notice"]}),(0,f.jsx)(pn,{to:"/register",children:(0,f.jsx)("button",{class:"create-btn btn",children:"Create your Amazon account"})})]})]}),(0,f.jsx)(pn,{to:"/",children:"Back to home"})]})},wN=function(){var e=Mt(),n=c((0,t.useState)(""),2),r=n[0],i=n[1],a=c((0,t.useState)(""),2),o=a[0],s=a[1],u=c((0,t.useState)(""),2),l=u[0],h=u[1];return(0,f.jsxs)("div",{className:"login",children:[(0,f.jsx)("img",{src:gN,alt:""}),(0,f.jsxs)("div",{className:"form",children:[(0,f.jsx)("h1",{children:"Register "}),(0,f.jsxs)("form",{action:"",class:"contact__form",children:[(0,f.jsxs)("div",{class:"contact__form-div",children:[(0,f.jsx)("label",{htmlFor:"",children:"Name"}),(0,f.jsx)("input",{type:"text",placeholder:"Enter your name",value:l,name:"username",onChange:function(e){return h(e.target.value)}})]}),(0,f.jsxs)("div",{class:"contact__form-div",children:[(0,f.jsx)("label",{htmlFor:"",children:"E-mail"}),(0,f.jsx)("input",{type:"email",placeholder:"Enter your mail",value:r,name:"email",onChange:function(e){return i(e.target.value)}})]}),(0,f.jsxs)("div",{class:"contact__form-div",children:[(0,f.jsx)("label",{for:"",children:"Password"}),(0,f.jsx)("input",{type:"password",placeholder:"Enter password",name:"user_email",value:o,onChange:function(e){return s(e.target.value)}})]}),(0,f.jsx)("button",{class:"signin-btn btn",onClick:function(t){t.preventDefault(),rN.createUserWithEmailAndPassword(r,o).then((function(t){e("/"),t.user.updateProfile({displayName:l}),e("/")})).catch((function(e){return alert(e.message)}))},children:"Create your Amazon account"}),(0,f.jsxs)("p",{children:["By signing-in you agree to Amazon's ",(0,f.jsx)("span",{children:"Condition of Use & Sale"}),".Please see our",(0,f.jsx)("span",{children:" Privacy Notice"}),",our ",(0,f.jsx)("span",{children:"Cookies Notice"})," and our interest-Based Ads Notice"]}),(0,f.jsx)(pn,{to:"/login",children:(0,f.jsx)("button",{class:"create-btn  btn",children:"Sign in"})})]})]}),(0,f.jsx)(pn,{to:"/",children:"Back to home"})]})},bN="https://js.stripe.com/v3",xN=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,_N="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",SN=null,EN=function(e){return null!==SN||(SN=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(_N),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(bN,'"]')),t=0;t<e.length;t++){var n=e[t];if(xN.test(n.src))return n}return null}();r&&e?console.warn(_N):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(bN).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))),SN},IN=Promise.resolve().then((function(){return EN(null)})),TN=!1;IN.catch((function(e){TN||console.warn(e)}));var AN=n(764),CN=function(e){var t=c(p(),2),n=(t[0].basket,t[1]);return(0,f.jsxs)("div",{className:"card",children:[(0,f.jsx)("div",{className:"image",children:(0,f.jsx)("img",{src:e.image,alt:""})}),(0,f.jsxs)("div",{className:"content",children:[(0,f.jsx)("h3",{children:e.title}),(0,f.jsxs)("h4",{children:[" Get it by",(0,f.jsx)("span",{children:"Tomorrow, 21 August"}),"  FREE Delivery by Amazon"]}),(0,f.jsxs)("p",{children:["\u20b9",e.price]}),(0,f.jsx)("span",{children:"\u2b50\u2b50\u2b50\u2b50\u2b50"}),!e.hideButton&&(0,f.jsx)("button",{onClick:function(){n({type:"REMOVE_FROM_BASKET",id:e.id})},children:"Remove from Basket"})]})]})};function NN(e,t){return function(){return e.apply(t,arguments)}}var DN,ON=Object.prototype.toString,RN=Object.getPrototypeOf,PN=(DN=Object.create(null),function(e){var t=ON.call(e);return DN[t]||(DN[t]=t.slice(8,-1).toLowerCase())}),MN=function(e){return e=e.toLowerCase(),function(t){return PN(t)===e}},LN=function(e){return function(t){return typeof t===e}},jN=Array.isArray,FN=LN("undefined");var UN=MN("ArrayBuffer");var VN=LN("string"),zN=LN("function"),BN=LN("number"),qN=function(e){return null!==e&&"object"===typeof e},HN=function(e){if("object"!==PN(e))return!1;var t=RN(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},WN=MN("Date"),GN=MN("File"),KN=MN("Blob"),YN=MN("FileList"),QN=MN("URLSearchParams");function JN(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),jN(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function XN(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var ZN="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,$N=function(e){return!FN(e)&&e!==ZN};var eD,tD=(eD="undefined"!==typeof Uint8Array&&RN(Uint8Array),function(e){return eD&&e instanceof eD}),nD=MN("HTMLFormElement"),rD=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),iD=MN("RegExp"),aD=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};JN(n,(function(n,i){var a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},oD="abcdefghijklmnopqrstuvwxyz",sD="0123456789",uD={DIGIT:sD,ALPHA:oD,ALPHA_DIGIT:oD+oD.toUpperCase()+sD};var cD=MN("AsyncFunction"),lD={isArray:jN,isArrayBuffer:UN,isBuffer:function(e){return null!==e&&!FN(e)&&null!==e.constructor&&!FN(e.constructor)&&zN(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||zN(e.append)&&("formdata"===(t=PN(e))||"object"===t&&zN(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&UN(e.buffer)},isString:VN,isNumber:BN,isBoolean:function(e){return!0===e||!1===e},isObject:qN,isPlainObject:HN,isUndefined:FN,isDate:WN,isFile:GN,isBlob:KN,isRegExp:iD,isFunction:zN,isStream:function(e){return qN(e)&&zN(e.pipe)},isURLSearchParams:QN,isTypedArray:tD,isFileList:YN,forEach:JN,merge:function e(){for(var t=($N(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&XN(n,i)||i;HN(n[a])&&HN(r)?n[a]=e(n[a],r):HN(r)?n[a]=e({},r):jN(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&JN(arguments[i],r);return n},extend:function(e,t,n){return JN(t,(function(t,r){n&&zN(t)?e[r]=NN(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&RN(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:PN,kindOfTest:MN,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(jN(e))return e;var t=e.length;if(!BN(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:nD,hasOwnProperty:rD,hasOwnProp:rD,reduceDescriptors:aD,freezeMethods:function(e){aD(e,(function(t,n){if(zN(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];zN(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return jN(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:XN,global:ZN,isContextDefined:$N,ALPHABET:uD,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uD.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&zN(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(qN(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=jN(n)?[]:{};return JN(n,(function(t,n){var a=e(t,r+1);!FN(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:cD,isThenable:function(e){return e&&(qN(e)||zN(e))&&zN(e.then)&&zN(e.catch)}};function fD(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}lD.inherits(fD,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:lD.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var hD=fD.prototype,dD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){dD[e]={value:e}})),Object.defineProperties(fD,dD),Object.defineProperty(hD,"isAxiosError",{value:!0}),fD.from=function(e,t,n,r,i,a){var o=Object.create(hD);return lD.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),fD.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var pD=fD;function vD(e){return lD.isPlainObject(e)||lD.isArray(e)}function mD(e){return lD.endsWith(e,"[]")?e.slice(0,-2):e}function yD(e,t,n){return e?e.concat(t).map((function(e,t){return e=mD(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var gD=lD.toFlatObject(lD,{},null,(function(e){return/^is[A-Z]/.test(e)}));var kD=function(e,t,n){if(!lD.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=lD.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!lD.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&lD.isSpecCompliantForm(t);if(!lD.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(lD.isDate(e))return e.toISOString();if(!s&&lD.isBlob(e))throw new pD("Blob is not supported. Use a Buffer instead.");return lD.isArrayBuffer(e)||lD.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(lD.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(lD.isArray(e)&&function(e){return lD.isArray(e)&&!e.some(vD)}(e)||(lD.isFileList(e)||lD.endsWith(n,"[]"))&&(s=lD.toArray(e)))return n=mD(n),s.forEach((function(e,r){!lD.isUndefined(e)&&null!==e&&t.append(!0===o?yD([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!vD(e)||(t.append(yD(i,n,a),u(e)),!1)}var l=[],f=Object.assign(gD,{defaultVisitor:c,convertValue:u,isVisitable:vD});if(!lD.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!lD.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),lD.forEach(n,(function(n,a){!0===(!(lD.isUndefined(n)||null===n)&&i.call(t,n,lD.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function wD(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function bD(e,t){this._pairs=[],e&&kD(e,this,t)}var xD=bD.prototype;xD.append=function(e,t){this._pairs.push([e,t])},xD.toString=function(e){var t=e?function(t){return e.call(this,t,wD)}:wD;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var _D=bD;function SD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ED(e,t,n){if(!t)return e;var r,i=n&&n.encode||SD,a=n&&n.serialize;if(r=a?a(t,n):lD.isURLSearchParams(t)?t.toString():new _D(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var ID=function(){function e(){I(this,e),this.handlers=[]}return A(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){lD.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),TD=ID,AD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CD={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:_D,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var ND=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&lD.isArray(r)?r.length:a,s?(lD.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&lD.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&lD.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(lD.isFormData(e)&&lD.isFunction(e.entries)){var n={};return lD.forEachEntry(e,(function(e,r){t(function(e){return lD.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var DD={transitional:AD,adapter:CD.isNode?"http":"xhr",transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=lD.isObject(e);if(a&&lD.isHTMLForm(e)&&(e=new FormData(e)),lD.isFormData(e))return i&&i?JSON.stringify(ND(e)):e;if(lD.isArrayBuffer(e)||lD.isBuffer(e)||lD.isStream(e)||lD.isFile(e)||lD.isBlob(e))return e;if(lD.isArrayBufferView(e))return e.buffer;if(lD.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return kD(e,new CD.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return CD.isNode&&lD.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=lD.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return kD(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(lD.isString(e))try{return(t||JSON.parse)(e),lD.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||DD.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&lD.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw pD.from(a,pD.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:CD.classes.FormData,Blob:CD.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};lD.forEach(["delete","get","head","post","put","patch"],(function(e){DD.headers[e]={}}));var OD=DD,RD=lD.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PD=Symbol("internals");function MD(e){return e&&String(e).trim().toLowerCase()}function LD(e){return!1===e||null==e?e:lD.isArray(e)?e.map(LD):String(e)}function jD(e,t,n,r,i){return lD.isFunction(r)?r.call(this,t,n):(i&&(t=n),lD.isString(t)?lD.isString(r)?-1!==t.indexOf(r):lD.isRegExp(r)?r.test(t):void 0:void 0)}var FD=function(e,t){function n(e){I(this,n),e&&this.set(e)}return A(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=MD(t);if(!i)throw new Error("header name must be a non-empty string");var a=lD.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=LD(e))}var a=function(e,t){return lD.forEach(e,(function(e,n){return i(e,n,t)}))};return lD.isPlainObject(e)||e instanceof this.constructor?a(e,t):lD.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&RD[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=MD(e)){var n=lD.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(lD.isFunction(t))return t.call(this,r,n);if(lD.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=MD(e)){var n=lD.findKey(this,e);return!(!n||void 0===this[n]||t&&!jD(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=MD(e)){var i=lD.findKey(n,e);!i||t&&!jD(0,n[i],i,t)||(delete n[i],r=!0)}}return lD.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!jD(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return lD.forEach(this,(function(r,i){var a=lD.findKey(n,i);if(a)return t[a]=LD(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=LD(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return lD.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&lD.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=c(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[PD]=this[PD]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=MD(e);t[r]||(!function(e,t){var n=lD.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return lD.isArray(e)?e.forEach(r):r(e),this}}]),n}();FD.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),lD.reduceDescriptors(FD.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),lD.freezeMethods(FD);var UD=FD;function VD(e,t){var n=this||OD,r=t||n,i=UD.from(r.headers),a=r.data;return lD.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function zD(e){return!(!e||!e.__CANCEL__)}function BD(e,t,n){pD.call(this,null==e?"canceled":e,pD.ERR_CANCELED,t,n),this.name="CanceledError"}lD.inherits(BD,pD,{__CANCEL__:!0});var qD=BD;var HD=CD.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),lD.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),lD.isString(r)&&o.push("path="+r),lD.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function WD(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var GD=CD.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=lD.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var KD=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}};function YD(e,t){var n=0,r=KD(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var QD={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=UD.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}lD.isFormData(i)&&(CD.isStandardBrowserEnv||CD.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=WD(e.baseURL,e.url);function h(){if(u){var r=UD.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new pD("Request failed with status code "+n.status,[pD.ERR_BAD_REQUEST,pD.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),ED(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new pD("Request aborted",pD.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new pD("Network Error",pD.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||AD;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new pD(t,r.clarifyTimeoutError?pD.ETIMEDOUT:pD.ECONNABORTED,e,u)),u=null},CD.isStandardBrowserEnv){var d=(e.withCredentials||GD(f))&&e.xsrfCookieName&&HD.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&lD.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),lD.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",YD(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",YD(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new qD(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===CD.protocols.indexOf(p)?n(new pD("Unsupported protocol "+p+":",pD.ERR_BAD_REQUEST,e)):u.send(i||null)}))}};lD.forEach(QD,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var JD=function(e){for(var t,n,r=(e=lD.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=lD.isString(t)?QD[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new pD("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(lD.hasOwnProp(QD,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!lD.isFunction(n))throw new TypeError("adapter is not a function");return n};function XD(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qD(null,e)}function ZD(e){return XD(e),e.headers=UD.from(e.headers),e.data=VD.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),JD(e.adapter||OD.adapter)(e).then((function(t){return XD(e),t.data=VD.call(e,e.transformResponse,t),t.headers=UD.from(t.headers),t}),(function(t){return zD(t)||(XD(e),t&&t.response&&(t.response.data=VD.call(e,e.transformResponse,t.response),t.response.headers=UD.from(t.response.headers))),Promise.reject(t)}))}var $D=function(e){return e instanceof UD?e.toJSON():e};function eO(e,t){t=t||{};var n={};function r(e,t,n){return lD.isPlainObject(e)&&lD.isPlainObject(t)?lD.merge.call({caseless:n},e,t):lD.isPlainObject(t)?lD.merge({},t):lD.isArray(t)?t.slice():t}function i(e,t,n){return lD.isUndefined(t)?lD.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!lD.isUndefined(t))return r(void 0,t)}function o(e,t){return lD.isUndefined(t)?lD.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i($D(e),$D(t),!0)}};return lD.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);lD.isUndefined(o)&&a!==s||(n[r]=o)})),n}var tO="1.5.0",nO={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){nO[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var rO={};nO.transitional=function(e,t,n){function r(e,t){return"[Axios v1.5.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new pD(r(i," has been removed"+(t?" in "+t:"")),pD.ERR_DEPRECATED);return t&&!rO[i]&&(rO[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var iO={assertOptions:function(e,t,n){if("object"!==typeof e)throw new pD("options must be an object",pD.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new pD("option "+a+" must be "+u,pD.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new pD("Unknown option "+a,pD.ERR_BAD_OPTION)}},validators:nO},aO=iO.validators,oO=function(){function e(t){I(this,e),this.defaults=t,this.interceptors={request:new TD,response:new TD}}return A(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=eO(this.defaults,t),r=n.transitional,i=n.paramsSerializer,a=n.headers;void 0!==r&&iO.assertOptions(r,{silentJSONParsing:aO.transitional(aO.boolean),forcedJSONParsing:aO.transitional(aO.boolean),clarifyTimeoutError:aO.transitional(aO.boolean)},!1),null!=i&&(lD.isFunction(i)?t.paramsSerializer={serialize:i}:iO.assertOptions(i,{encode:aO.function,serialize:aO.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=a&&lD.merge(a.common,a[t.method]);a&&lD.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=UD.concat(o,a);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!u){var d=[ZD.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=s.length;var p=t;for(h=0;h<f;){var v=s[h++],m=s[h++];try{p=v(p)}catch(y){m.call(this,y);break}}try{c=ZD.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return ED(WD((e=eO(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();lD.forEach(["delete","get","head","options"],(function(e){oO.prototype[e]=function(t,n){return this.request(eO(n||{},{method:e,url:t,data:(n||{}).data}))}})),lD.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(eO(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}oO.prototype[e]=t(),oO.prototype[e+"Form"]=t(!0)}));var sO=oO,uO=function(){function e(t){if(I(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new qD(e,t,i),n(r.reason))}))}return A(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),cO=uO;var lO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lO).forEach((function(e){var t=c(e,2),n=t[0],r=t[1];lO[r]=n}));var fO=lO;var hO=function e(t){var n=new sO(t),r=NN(sO.prototype.request,n);return lD.extend(r,sO.prototype,n,{allOwnKeys:!0}),lD.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(eO(t,n))},r}(OD);hO.Axios=sO,hO.CanceledError=qD,hO.CancelToken=cO,hO.isCancel=zD,hO.VERSION=tO,hO.toFormData=kD,hO.AxiosError=pD,hO.Cancel=hO.CanceledError,hO.all=function(e){return Promise.all(e)},hO.spread=function(e){return function(t){return e.apply(null,t)}},hO.isAxiosError=function(e){return lD.isObject(e)&&!0===e.isAxiosError},hO.mergeConfig=eO,hO.AxiosHeaders=UD,hO.formToJSON=function(e){return ND(lD.isHTMLForm(e)?new FormData(e):e)},hO.getAdapter=JD,hO.HttpStatusCode=fO,hO.default=hO;var dO=hO.create({baseURL:"http://127.0.0.1:5001/clone-e3e98/us-central1/api"}),pO=function(){var e=Mt(),n=c(p(),2),r=n[0],i=r.basket,a=r.user,o=n[1],s=c((0,t.useState)(!0),2),u=s[0],l=s[1],h=c((0,t.useState)(""),2),d=h[0],v=h[1],m=c((0,t.useState)(!1),2),y=m[0],g=m[1],k=c((0,t.useState)(null),2),w=k[0],b=k[1],x=c((0,t.useState)(!0),2),_=x[0],E=x[1],I=(0,AN.useStripe)(),T=(0,AN.useElements)();(0,t.useEffect)((function(){var e=function(){var e=j(M().mark((function e(){var t;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dO({method:"post",url:"/payments/create?total=".concat(100*Math.round(S(i)+A+.18*S(i)-.1*S(i)))});case 3:t=e.sent,E(t.data.clientSecret),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching client secret:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[i]);var A,C=function(){var t=j(M().mark((function t(n){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),v(!0),t.next=4,I.confirmCardPayment(_,{payment_method:{card:T.getElement(AN.CardElement)}}).then((function(t){var n=t.paymentIntent;nN.collection("users").doc(null===a||void 0===a?void 0:a.uid).collection("orders").doc(n.id).set({basket:i,amount:n.amount,created:n.created}),g(!0),b(null),v(!1),o({type:"EMPTY_BASKET"}),e("/orders",{replace:!0})}));case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return A=0!=i.length&&S(i)<1e3?49:0,(0,f.jsxs)("div",{className:"payments",children:[(0,f.jsxs)("div",{className:"left",children:[(0,f.jsxs)("div",{className:"payment-section shipping-info",children:[(0,f.jsx)("h1",{children:"Shipping Information"}),(0,f.jsxs)("div",{className:"contact",children:[(0,f.jsx)("h3",{children:"contact"}),(0,f.jsx)("input",{type:"text",id:"name",placeholder:"Name"}),(0,f.jsx)("input",{type:"text",id:"phone",placeholder:"Phone Number"})]}),(0,f.jsxs)("div",{className:"address",children:[(0,f.jsx)("h3",{children:"Address"}),(0,f.jsx)("input",{type:"text",placeholder:"Street"}),(0,f.jsx)("input",{type:"text",placeholder:"City"}),(0,f.jsx)("input",{type:"text",placeholder:"State"}),(0,f.jsx)("input",{type:"text",placeholder:"Country"}),(0,f.jsx)("input",{type:"number",placeholder:"Pincode"})]}),(0,f.jsx)("button",{children:"Confirm Address"})]}),(0,f.jsxs)("div",{className:"payment-section payment-method",children:[(0,f.jsx)("h1",{children:"Payment Methods"}),(0,f.jsxs)("form",{className:"form",onSubmit:C,children:[(0,f.jsxs)("div",{className:"total",children:[(0,f.jsx)("h4",{children:"Order Total :"}),(0,f.jsx)("h5",{children:(0,f.jsx)(rn,{value:Math.round(S(i)+A+.18*S(i)-.1*S(i))})})]}),(0,f.jsx)(AN.CardElement,{onChange:function(e){l(e.empty),b(e.error?e.error.message:"")}}),(0,f.jsx)("button",{disabled:d||u||y,children:(0,f.jsx)("span",{children:d?(0,f.jsx)("p",{children:"processing"}):"Buy now"})}),w&&(0,f.jsx)("p",{children:w})]})]})]}),(0,f.jsx)("div",{className:"right",children:(0,f.jsxs)("div",{className:"payment-section order-review",children:[(0,f.jsx)("h1",{children:"Order Review"}),(0,f.jsxs)("div",{className:"total",children:[(0,f.jsxs)("h3",{children:["Items : ",i.length]}),(0,f.jsxs)("h2",{children:["Total : \xa0",(0,f.jsx)(rn,{value:Math.round(S(i)+A+.18*S(i)-.1*S(i))})]})]}),(0,f.jsx)("div",{className:"payment-product",children:i.map((function(e){return(0,f.jsx)(CN,{id:e.id,title:e.title,price:e.price,image:e.image,rating:e.rating})}))})]})})]})},vO=n(426),mO=n.n(vO);var yO=function(e){var t,n=e.order;return(0,f.jsxs)("div",{className:"order",children:[(0,f.jsx)("h2",{children:"Order"}),(0,f.jsx)("p",{children:mO().unix(n.data.created).format("MMMM Do YYYY, h:mma")}),(0,f.jsx)("p",{className:"order__id",children:(0,f.jsx)("small",{children:n.id})}),(0,f.jsx)("div",{className:"payment-product",children:null===(t=n.data.basket)||void 0===t?void 0:t.map((function(e){return(0,f.jsx)(CN,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,hideButton:!0})}))}),(0,f.jsx)("div",{className:"order__total",children:(0,f.jsxs)("h2",{children:["Total : \xa0",(0,f.jsx)(rn,{value:n.data.amount/100})]})})]})};var gO=function(){var e=c(p(),2),n=e[0],r=(n.basket,n.user),i=(e[1],c((0,t.useState)([]),2)),a=i[0],o=i[1];return(0,t.useEffect)((function(){r?nN.collection("users").doc(null===r||void 0===r?void 0:r.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return o(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):o([])}),[r]),(0,f.jsx)(f.Fragment,{children:r?(0,f.jsx)("div",{className:"orders",children:(0,f.jsx)("div",{className:"orders__order",children:null===a||void 0===a?void 0:a.map((function(e){return(0,f.jsx)(yO,{order:e})}))})}):(0,f.jsx)(gn,{})})},kO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];TN=!0;var r=Date.now();return IN.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.1.0",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_51NkL0tSEekMbqjrUHek9k8OeC5gBpkdD0SDLUlQTUDkQ5hEDcAmxemQbAv7u7cQ0KVfJLF2VL2WvlFsfvJkwxsTk00sT9b3m30");var wO=function(){var e=c(p(),2),n=e[0],r=(n.basket,n.user,e[1]);(0,t.useEffect)((function(){rN.onAuthStateChanged((function(e){e?(console.log("user :",e),r({type:"SET_USER",user:e})):r({type:"SET_USER",user:null})}))}),[]);var i=function(e,t){return Le({basename:null==t?void 0:t.basename,future:sn({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),X((function(e,t){var n=e.location;return Y("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Q(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||ln(),routes:e,mapRouteProperties:en}).initialize();var n}([{path:"/",element:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(iN,{}),(0,f.jsx)(yN,{})]})},{path:"/checkout",element:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(iN,{}),(0,f.jsx)(kn,{})]})},{path:"/orders",element:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(iN,{}),(0,f.jsx)(gO,{})]})},{path:"/payments",element:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(iN,{}),(0,f.jsx)(AN.Elements,{stripe:kO,children:(0,f.jsx)(pO,{})})]})},{path:"/login",element:(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(kN,{})})},{path:"/register",element:(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(wN,{})})}]);return(0,f.jsx)("div",{className:"App",children:(0,f.jsx)(Qt,{router:i})})};i.createRoot(document.getElementById("root")).render((0,f.jsx)(t.StrictMode,{children:(0,f.jsx)(d,{initialState:{basket:[],user:null},reducer:E,children:(0,f.jsx)(wO,{})})}))}()}();
//# sourceMappingURL=main.4f83981d.js.map